<?xml version="1.0" encoding="UTF-8"?>
<!-- Ce module ajoute les 'pas' négatifs qui ne sont pas en français -->
<transfer default="chunk">
  <section-def-cats>
    <def-cat n="det">
      <cat-item tags="det.*"/>
      <cat-item tags="predet.*"/>
    </def-cat>
    <def-cat n="detdef">
      <cat-item tags="det.def.*"/>
    </def-cat>
    <def-cat n="detdef_pos">
      <cat-item tags="det.def.*"/>
      <cat-item tags="det.pos.*"/>
    </def-cat>
    <def-cat n="detpos">
      <cat-item tags="det.pos.*"/>
    </def-cat>
    <def-cat n="detind">
      <cat-item tags="det.ind.*"/>
    </def-cat>
    <def-cat n="ce_det">
      <cat-item lemma="ce" tags="det.dem.*"/>
    </def-cat>
    <def-cat n="un_det">
      <cat-item lemma="un" tags="det.ind.*"/>
      <cat-item lemma="1" tags="num"/>
    </def-cat>

    <def-cat n="predet">
      <cat-item tags="predet.*"/>
    </def-cat>
    <def-cat n="tout_predet">
      <cat-item lemma="tout" tags="predet.*"/>
    </def-cat>
    <def-cat n="tous_predet">
      <cat-item lemma="tout" tags="predet.*.pl"/>
    </def-cat>

    <def-cat n="pref">
      <cat-item tags="pref"/>
    </def-cat>

    <def-cat n="nom">
      <cat-item tags="n.*"/>
    </def-cat>

    <def-cat n="np">
      <cat-item tags="np.*"/>
    </def-cat>
    <def-cat n="nptop">
      <cat-item tags="np.top.*"/>
      <cat-item tags="np.loc"/>
    </def-cat>
    <def-cat n="npal">
      <cat-item tags="np.al"/>
      <cat-item tags="np.al.*"/>
    </def-cat>
    <def-cat n="npantcog">
      <cat-item tags="np.ant"/>
      <cat-item tags="np.ant.*"/>
      <cat-item tags="np.cog.*"/>
    </def-cat>
    <def-cat n="npant_unk">
      <cat-item tags="np.ant"/>
      <cat-item tags="np.ant.*"/>
      <cat-item tags="np.cog.*"/>
      <cat-item tags=""/>
    </def-cat>

    <def-cat n="adj">
      <cat-item tags="adj.*"/>
    </def-cat>
    <def-cat n="adjec">
      <cat-item tags="adj.*"/>
      <cat-item tags="vblex.pp.*"/>
    </def-cat>

    <def-cat n="adv">
      <cat-item tags="adv"/>
    </def-cat>
    <def-cat n="advitg">
      <cat-item tags="adv.itg"/>
    </def-cat>
    <def-cat n="preadv">
      <cat-item tags="preadv"/>
    </def-cat>
    <def-cat n="adv_preadv">
      <cat-item tags="adv"/>
      <cat-item tags="preadv"/>
    </def-cat>
    <def-cat n="ne">
      <cat-item lemma="ne" tags="adv"/>
    </def-cat>
    <def-cat n="pas">
      <cat-item lemma="pas" tags="adv"/>
      <cat-item lemma="même pas" tags="adv"/>
    </def-cat>
    <def-cat n="aussi">
      <cat-item lemma="aussi" tags="adv"/>
    </def-cat>
    <def-cat n="longtemps">
      <cat-item lemma="longtemps" tags="adv"/>
    </def-cat>
    <def-cat n="meme_adv">
      <cat-item lemma="même" tags="adv"/>
    </def-cat>
    <def-cat n="ci_adv">
      <cat-item lemma="ci" tags="adv"/>
    </def-cat>
    <def-cat n="la_adv">
      <cat-item lemma="là" tags="adv"/>
    </def-cat>
    <def-cat n="tout_adv">
      <cat-item lemma="tout" tags="adv"/>
    </def-cat>
    <def-cat n="en_fait">
      <cat-item lemma="en fait" tags="adv"/>
    </def-cat>
    <def-cat n="compadv">
      <cat-item lemma="plus" tags="adv"/>
      <cat-item lemma="moins" tags="adv"/>
      <cat-item lemma="mieux" tags="adv"/>
      <cat-item lemma="beaucoup plus" tags="adv"/>
      <cat-item lemma="beaucoup moins" tags="adv"/>
      <cat-item lemma="beaucoup mieux" tags="adv"/>
      <cat-item lemma="bien plus" tags="adv"/>
      <cat-item lemma="bien moins" tags="adv"/>
      <cat-item lemma="bien mieux" tags="adv"/>
      <cat-item lemma="assez plus" tags="adv"/>
      <cat-item lemma="assez moins" tags="adv"/>
      <cat-item lemma="assez mieux" tags="adv"/>
      <cat-item lemma="un peu plus" tags="adv"/>
      <cat-item lemma="un peu moins" tags="adv"/>
      <cat-item lemma="un peu mieux" tags="adv"/>
    </def-cat>

    <def-cat n="prn">
      <cat-item tags="prn.*"/>
    </def-cat>
    <def-cat n="prntn">
      <cat-item tags="prn.tn.*"/>
    </def-cat>
    <def-cat n="prnpro">
      <cat-item tags="prn.pro.*"/>
    </def-cat>
    <def-cat n="prnproref">
      <cat-item tags="prn.pro.ref.*"/>
    </def-cat>
    <def-cat n="prnenc">
      <cat-item tags="prn.enc.*"/>
    </def-cat>
    <def-cat n="adv_prntn">
      <cat-item tags="adv"/>
      <cat-item tags="prn.tn.*"/>
    </def-cat>
    <def-cat n="prnsubj">
      <cat-item lemma="je" tags="prn.tn.p1.mf.sg"/>
      <cat-item lemma="tu" tags="prn.tn.p2.mf.sg"/>
      <cat-item lemma="il" tags="prn.tn.p3.m.sg"/>
      <cat-item lemma="il" tags="prn.tn.p3.f.sg"/>
      <cat-item lemma="nous" tags="prn.tn.p1.mf.pl"/>
      <cat-item lemma="vous" tags="prn.tn.p2.mf.pl"/>
      <cat-item lemma="il" tags="prn.tn.p3.m.pl"/>
      <cat-item lemma="il" tags="prn.tn.p3.f.pl"/>
    </def-cat>
    <def-cat n="prnperstnp1p2">
      <cat-item lemma="moi" tags="prn.tn.p1.mf.sg"/>
      <cat-item lemma="toi" tags="prn.tn.p2.mf.sg"/>
      <cat-item lemma="nous" tags="prn.tn.p1.mf.pl"/>
      <cat-item lemma="vous" tags="prn.tn.p2.mf.pl"/>
      <cat-item lemma="eux" tags="prn.tn.p3.m.pl"/>
      <cat-item lemma="il" tags="prn.tn.p3.f.pl"/>
    </def-cat>
    <def-cat n="prnsubjp3">
      <cat-item lemma="il" tags="prn.tn.p3.m.sg"/>
      <cat-item lemma="il" tags="prn.tn.p3.f.sg"/>
      <cat-item lemma="il" tags="prn.tn.p3.m.pl"/>
      <cat-item lemma="il" tags="prn.tn.p3.f.pl"/>
    </def-cat>
    <def-cat n="il">
      <cat-item lemma="il" tags="prn.tn.p3.m.sg"/>
    </def-cat>
    <def-cat n="il_elle">
      <cat-item lemma="il" tags="prn.tn.p3.m.sg"/>
      <cat-item lemma="il" tags="prn.tn.p3.f.sg"/>
    </def-cat>
    <def-cat n="on">
      <cat-item lemma="on" tags="prn.tn.p3.mf.sg"/>
    </def-cat>
    <def-cat n="enprn">
      <cat-item lemma="en" tags="prn.*"/>
    </def-cat>
    <def-cat n="y">
      <cat-item lemma="y" tags="prn.pro.adv"/>
    </def-cat>
    <def-cat n="celui">
      <cat-item lemma="celui" tags="prn.tn.*"/>
    </def-cat>
    <def-cat n="estceque">
      <cat-item lemma="est-ce que" tags="prn.*"/>
    </def-cat>
    <def-cat n="ce">
      <cat-item lemma="ce" tags="prn.*"/>
    </def-cat>
    <def-cat n="ça">
      <cat-item lemma="ça" tags="prn.*"/>
    </def-cat>
    <def-cat n="ce_cela_ça">
      <cat-item lemma="ce" tags="prn.*"/>
      <cat-item lemma="cela" tags="prn.*"/>
      <cat-item lemma="ça" tags="prn.*"/>
    </def-cat>

    <def-cat n="num">
      <cat-item tags="num"/>
      <cat-item tags="num.*"/>
    </def-cat>

    <def-cat n="un_num">
      <cat-item lemma="un" tags="det.ind.*"/>
      <cat-item tags="num"/>
      <cat-item tags="num.*"/>
    </def-cat>


    <def-cat n="num_premier"> <!-- per datas -->
      <cat-item tags="num"/>
      <cat-item tags="num.*"/>
      <cat-item lemma="1er" tags="adj.*"/>
      <cat-item lemma="premier" tags="adj.*"/>
    </def-cat>

    <def-cat n="num_detind">
      <cat-item tags="num"/>
      <cat-item tags="num.*"/>
      <cat-item tags="det.ind.*"/>
    </def-cat>

    <def-cat n="pr">
      <cat-item tags="pr"/>
    </def-cat>
    <def-cat n="aprep">
      <cat-item lemma="à" tags="pr"/>
    </def-cat>
    <def-cat n="deprep">
      <cat-item lemma="de" tags="pr"/>
    </def-cat>
    <def-cat n="enprep">
      <cat-item lemma="en" tags="pr"/>
    </def-cat>
    <def-cat n="en_debut_de">
      <cat-item lemma="en début de" tags="pr"/>
      <cat-item lemma="en début" tags="pr"/>
    </def-cat>

    <def-cat n="cnjcoo">
      <cat-item tags="cnjcoo"/>
    </def-cat>

    <def-cat n="cnjsub">
      <cat-item tags="cnjsub"/>
    </def-cat>
    <def-cat n="que_cnjsub">
      <cat-item lemma="que" tags="cnjsub"/>
    </def-cat>

    <def-cat n="cnjadv">
      <cat-item tags="cnjadv"/>
    </def-cat>

    <def-cat n="rel">
      <cat-item tags="rel.*"/>
    </def-cat>
    <def-cat n="que_rel">
      <cat-item lemma="que" tags="rel.*"/>
    </def-cat>
    <def-cat n="qui_rel">
      <cat-item lemma="qui" tags="rel.*"/>
    </def-cat>

    <def-cat n="verb">
      <cat-item tags="vblex.*"/>
      <cat-item tags="vbser.*"/>
      <cat-item tags="vbhaver.*"/>
      <cat-item tags="vbmod.*"/>
    </def-cat>

    <def-cat n="verbconj">
      <cat-item tags="vblex.*.p1.*"/>
      <cat-item tags="vblex.*.p2.*"/>
      <cat-item tags="vblex.*.p3.*"/>
      <cat-item tags="vbhaver.*.p1.*"/>
      <cat-item tags="vbhaver.*.p2.*"/>
      <cat-item tags="vbhaver.*.p3.*"/>
      <cat-item tags="vbser.*.p1.*"/>
      <cat-item tags="vbser.*.p2.*"/>
      <cat-item tags="vbser.*.p3.*"/>
      <cat-item tags="vbmod.*.p1.*"/>
      <cat-item tags="vbmod.*.p2.*"/>
      <cat-item tags="vbmod.*.p3.*"/>
    </def-cat>

    <def-cat n="verbp3">
      <cat-item tags="vblex.*.p3.*"/>
      <cat-item tags="vbhaver.*.p3.*"/>
      <cat-item tags="vbser.*.p3.*"/>
      <cat-item tags="vbmod.*.p3.*"/>
    </def-cat>
    <def-cat n="verbp3sg">
      <cat-item tags="vblex.*.p3.sg"/>
      <cat-item tags="vbhaver.*.p3.sg"/>
      <cat-item tags="vbser.*.p3.sg"/>
      <cat-item tags="vbmod.*.p3.sg"/>
    </def-cat>
    <def-cat n="devoirp3sg">
      <cat-item lemma="devoir" tags="vblex.*.p3.sg"/>
      <cat-item lemma="devoir" tags="vbmod.*.p3.sg"/>
    </def-cat>

    <def-cat n="vbser">
      <cat-item tags="vbser.*"/>
    </def-cat>
    <def-cat n="vbserp3">
      <cat-item tags="vbser.*.p3.*"/>
    </def-cat>
    <def-cat n="vbserp3sg">
      <cat-item tags="vbser.*.p3.sg"/>
    </def-cat>
    <def-cat n="vbserprsp3">
      <cat-item tags="vbser.prs.p3.*"/>
    </def-cat>

    <def-cat n="vbser_pp">
      <cat-item tags="vbser.pp.*"/>
    </def-cat>

    <def-cat n="vbser_raffoler_pp">
      <cat-item tags="vbser.pp.*"/>
      <cat-item lemma="raffoler" tags="vblex.pp.*"/> <!-- raffoler > èsser# fòu / estar# dòu -->
    </def-cat>

    <def-cat n="vbhaver">
      <cat-item tags="vbhaver.*"/>
    </def-cat>

    <def-cat n="vbhaverconj">
      <cat-item tags="vbhaver.*.p1.*"/>
      <cat-item tags="vbhaver.*.p2.*"/>
      <cat-item tags="vbhaver.*.p3.*"/>
    </def-cat>
    <def-cat n="vbhaverp3">
      <cat-item tags="vbhaver.*.p3.*"/>
    </def-cat>
    <def-cat n="vbhaverp3sg">
      <cat-item tags="vbhaver.*.p3.sg"/>
    </def-cat>

    <def-cat n="vbhaverinfger">
      <cat-item tags="vbhaver.inf"/>
      <cat-item tags="vbhaver.ger"/>
    </def-cat>

    <def-cat n="vbmod">
      <cat-item tags="vbmod.*"/>
    </def-cat>

    <def-cat n="vbaux">
      <cat-item tags="vbser.*"/>
      <cat-item tags="vbhaver.*"/>
    </def-cat>

    <def-cat n="vbnoser">
      <cat-item tags="vblex.*"/>
      <cat-item tags="vbhaver.*"/>
      <cat-item tags="vbmod.*"/>
    </def-cat>

    <def-cat n="vbnoserconj">
      <cat-item tags="vblex.*.p1.*"/>
      <cat-item tags="vblex.*.p2.*"/>
      <cat-item tags="vblex.*.p3.*"/>
      <cat-item tags="vbhaver.*.p1.*"/>
      <cat-item tags="vbhaver.*.p2.*"/>
      <cat-item tags="vbhaver.*.p3.*"/>
      <cat-item tags="vbmod.*.p1.*"/>
      <cat-item tags="vbmod.*.p2.*"/>
      <cat-item tags="vbmod.*.p3.*"/>
    </def-cat>

    <def-cat n="vbnoserimper">
      <cat-item tags="vblex.imp.*"/>
      <cat-item tags="vbhaver.imp.*"/>
      <cat-item tags="vbmod.imp.*"/>
    </def-cat>

    <def-cat n="inf">
      <cat-item tags="vblex.inf"/>
      <cat-item tags="vbser.inf"/>
      <cat-item tags="vbhaver.inf"/>
      <cat-item tags="vbmod.inf"/>
    </def-cat>

    <def-cat n="ger">
      <cat-item tags="vblex.ger"/>
      <cat-item tags="vbser.ger"/>
      <cat-item tags="vbhaver.ger"/>
      <cat-item tags="vbmod.ger"/>
    </def-cat>

    <def-cat n="imp">
      <cat-item tags="vblex.imp.*"/>
      <cat-item tags="vbser.imp.*"/>
      <cat-item tags="vbhaver.imp.*"/>
      <cat-item tags="vbmod.imp.*"/>
    </def-cat>

    <def-cat n="pp">
      <cat-item tags="vblex.pp.*"/>
      <cat-item tags="vbser.pp.*"/>
      <cat-item tags="vbhaver.pp.*"/>
      <cat-item tags="vbmod.pp.*"/>
    </def-cat>

    <def-cat n="pp_no_ser">
      <cat-item tags="vblex.pp.*"/>
      <cat-item tags="vbhaver.pp.*"/>
      <cat-item tags="vbmod.pp.*"/>
    </def-cat>

    <def-cat n="verb_pron-nopron_conj">	<!-- se rendre (à) > anar (a) -->
      <cat-item lemma="enfuir" tags="vblex.*.p1.*"/>
      <cat-item lemma="enfuir" tags="vblex.*.p2.*"/>
      <cat-item lemma="enfuir" tags="vblex.*.p3.*"/>
      <cat-item lemma="pourvoir" tags="vblex.*.p1.*"/>
      <cat-item lemma="pourvoir" tags="vblex.*.p2.*"/>
      <cat-item lemma="pourvoir" tags="vblex.*.p3.*"/>
      <cat-item lemma="rendre" tags="vblex.*.p1.*"/>
      <cat-item lemma="rendre" tags="vblex.*.p2.*"/>
      <cat-item lemma="rendre" tags="vblex.*.p3.*"/>
      <cat-item lemma="accroître" tags="vblex.*.p1.*" v="oci"/>
      <cat-item lemma="accroître" tags="vblex.*.p2.*" v="oci"/>
      <cat-item lemma="accroître" tags="vblex.*.p3.*" v="oci"/>
      <cat-item lemma="marrer" tags="vblex.*.p1.*" v="oci"/>
      <cat-item lemma="marrer" tags="vblex.*.p2.*" v="oci"/>
      <cat-item lemma="marrer" tags="vblex.*.p3.*" v="oci"/>
      <cat-item lemma="faire# vieux" tags="vblex.*.p1.*" v="oci"/>
      <cat-item lemma="faire# vieux" tags="vblex.*.p2.*" v="oci"/>
      <cat-item lemma="faire# vieux" tags="vblex.*.p3.*" v="oci"/>
      <cat-item lemma="faire# vielle" tags="vblex.*.p1.*" v="oci"/>
      <cat-item lemma="faire# vielle" tags="vblex.*.p2.*" v="oci"/>
      <cat-item lemma="faire# vielle" tags="vblex.*.p3.*" v="oci"/>
      <cat-item lemma="faire# vielles" tags="vblex.*.p1.*" v="oci"/>
      <cat-item lemma="faire# vielles" tags="vblex.*.p2.*" v="oci"/>
      <cat-item lemma="faire# vielles" tags="vblex.*.p3.*" v="oci"/>
    </def-cat>
    <def-cat n="verb_pron-nopron_pp">
      <cat-item lemma="enfuir" tags="vblex.pp.*"/>
      <cat-item lemma="pourvoir" tags="vblex.pp.*"/>
      <cat-item lemma="rendre" tags="vblex.pp.*"/>
      <cat-item lemma="accroître" tags="vblex.pp.*" v="oci"/>
      <cat-item lemma="marrer" tags="vblex.pp.*" v="oci"/>
      <cat-item lemma="faire# vieux" tags="vblex.pp.*" v="oci"/>
      <cat-item lemma="faire# vielle" tags="vblex.pp.*" v="oci"/>
      <cat-item lemma="faire# vielles" tags="vblex.pp.*" v="oci"/>
    </def-cat>

    <def-cat n="durant_ger">
      <cat-item lemma="durer" tags="vblex.ger"/>
    </def-cat>

    <def-cat n="ij">
      <cat-item tags="ij"/>
    </def-cat>

    <def-cat n="cm">
      <cat-item tags="cm"/>
    </def-cat>
    <def-cat n="cm_qmarks">
      <cat-item tags="cm"/>
      <cat-item lemma="»" tags="rpar"/>
    </def-cat>
    <def-cat n="lpar">
      <cat-item tags="lpar"/>
    </def-cat>
    <def-cat n="rpar">
      <cat-item tags="rpar"/>
    </def-cat>
    <def-cat n="guillemet_gauche">
      <cat-item lemma="«" tags="lpar"/>
    </def-cat>
    <def-cat n="guillemet_droit">
      <cat-item lemma="»" tags="rpar"/>
    </def-cat>
    <def-cat n="sent">
      <cat-item tags="sent"/>
    </def-cat>

    <def-cat n="heure">
      <cat-item lemma="heure" tags="n.*"/>
    </def-cat>

    <def-cat n="train">
      <cat-item lemma="train" tags="n.*"/>
    </def-cat>

    <def-cat n="unite_temps">
      <cat-item lemma="seconde" tags="n.*"/>
      <cat-item lemma="minute" tags="n.*"/>
      <cat-item lemma="heure" tags="n.*"/>
      <cat-item lemma="jour" tags="n.*"/>
      <cat-item lemma="journée" tags="n.*"/>
      <cat-item lemma="semaine" tags="n.*"/>
      <cat-item lemma="week-end" tags="n.*"/>
      <cat-item lemma="weekend" tags="n.*"/>
      <cat-item lemma="mois" tags="n.*"/>
      <cat-item lemma="an" tags="n.*"/>
      <cat-item lemma="année" tags="n.*"/>
      <cat-item lemma="lustre" tags="n.*"/>
      <cat-item lemma="décennie" tags="n.*"/>
      <cat-item lemma="décade" tags="n.*"/>
      <cat-item lemma="siècle" tags="n.*"/>
      <cat-item lemma="millénaire" tags="n.*"/>
    </def-cat>

    <def-cat n="nom_mois">
      <cat-item lemma="janvier" tags="n.*"/>
      <cat-item lemma="février" tags="n.*"/>
      <cat-item lemma="mars" tags="n.*"/>
      <cat-item lemma="avril" tags="n.*"/>
      <cat-item lemma="mai" tags="n.*"/>
      <cat-item lemma="juin" tags="n.*"/>
      <cat-item lemma="juillet" tags="n.*"/>
      <cat-item lemma="août" tags="n.*"/>
      <cat-item lemma="septembre" tags="n.*"/>
      <cat-item lemma="octobre" tags="n.*"/>
      <cat-item lemma="novembre" tags="n.*"/>
      <cat-item lemma="décembre" tags="n.*"/>
    </def-cat>

    <def-cat n="nom_mois_an">
      <cat-item lemma="janvier" tags="n.*"/>
      <cat-item lemma="février" tags="n.*"/>
      <cat-item lemma="mars" tags="n.*"/>
      <cat-item lemma="avril" tags="n.*"/>
      <cat-item lemma="mai" tags="n.*"/>
      <cat-item lemma="juin" tags="n.*"/>
      <cat-item lemma="juillet" tags="n.*"/>
      <cat-item lemma="août" tags="n.*"/>
      <cat-item lemma="septembre" tags="n.*"/>
      <cat-item lemma="octobre" tags="n.*"/>
      <cat-item lemma="novembre" tags="n.*"/>
      <cat-item lemma="décembre" tags="n.*"/>
      <cat-item tags="num"/>
    </def-cat>

    <def-cat n="mi-mois">
      <cat-item lemma="mi-janvier" tags="adv"/>
      <cat-item lemma="mi-février" tags="adv"/>
      <cat-item lemma="mi-mars" tags="adv"/>
      <cat-item lemma="mi-avril" tags="adv"/>
      <cat-item lemma="mi-mai" tags="adv"/>
      <cat-item lemma="mi-juin" tags="adv"/>
      <cat-item lemma="mi-juillet" tags="adv"/>
      <cat-item lemma="mi-août" tags="adv"/>
      <cat-item lemma="mi-septembre" tags="adv"/>
      <cat-item lemma="mi-octobre" tags="adv"/>
      <cat-item lemma="mi-novembre" tags="adv"/>
      <cat-item lemma="mi-décembre" tags="adv"/>
    </def-cat>

    <def-cat n="temps_jour_mois">
      <cat-item lemma="seconde" tags="n.*"/>
      <cat-item lemma="minute" tags="n.*"/>
      <cat-item lemma="heure" tags="n.*"/>
      <cat-item lemma="jour" tags="n.*"/>
      <cat-item lemma="journée" tags="n.*"/>
      <cat-item lemma="semaine" tags="n.*"/>
      <cat-item lemma="mois" tags="n.*"/>
      <cat-item lemma="an" tags="n.*"/>
      <cat-item lemma="année" tags="n.*"/>
      <cat-item lemma="lustre" tags="n.*"/>
      <cat-item lemma="décennie" tags="n.*"/>
      <cat-item lemma="décade" tags="n.*"/>
      <cat-item lemma="siècle" tags="n.*"/>
      <cat-item lemma="millénaire" tags="n.*"/>
      <cat-item lemma="lundi" tags="n.*"/>
      <cat-item lemma="mardi" tags="n.*"/>
      <cat-item lemma="mercredi" tags="n.*"/>
      <cat-item lemma="jeudi" tags="n.*"/>
      <cat-item lemma="vendredi" tags="n.*"/>
      <cat-item lemma="samedi" tags="n.*"/>
      <cat-item lemma="dimanche" tags="n.*"/>
      <cat-item lemma="matin" tags="n.*"/>
      <cat-item lemma="après-midi" tags="n.*"/>
      <cat-item lemma="soir" tags="n.*"/>
    </def-cat>

    <def-cat n="debut_n">
      <cat-item lemma="début" tags="n.*"/>
    </def-cat>

    <def-cat n="fin_n">
      <cat-item lemma="fin" tags="n.*"/>
    </def-cat>

    <def-cat n="eglise_n">
      <cat-item lemma="église" tags="n.*"/>
      <cat-item lemma="cathédrale" tags="n.*"/>
      <cat-item lemma="monastère" tags="n.*"/>
      <cat-item lemma="abbaye" tags="n.*"/>
      <cat-item lemma="prieuré" tags="n.*"/>
      <cat-item lemma="chartreuse" tags="n.*"/>
      <cat-item lemma="chapelle" tags="n.*"/>
      <cat-item lemma="paroisse" tags="n.*"/>
    </def-cat>

    <def-cat n="mal_n">
      <cat-item lemma="mal" tags="n.*"/>
    </def-cat>

    <def-cat n="facon_n">
      <cat-item lemma="façon" tags="n.*"/>
      <cat-item lemma="manière" tags="n.*"/>
    </def-cat>

    <def-cat n="vie_nsg">
      <cat-item lemma="vie" tags="n.f.sg"/>
    </def-cat>

    <def-cat n="jour_n">
      <cat-item lemma="lundi" tags="n.*"/>
      <cat-item lemma="mardi" tags="n.*"/>
      <cat-item lemma="mercredi" tags="n.*"/>
      <cat-item lemma="jeudi" tags="n.*"/>
      <cat-item lemma="vendredi" tags="n.*"/>
      <cat-item lemma="samedi" tags="n.*"/>
      <cat-item lemma="dimanche" tags="n.*"/>
    </def-cat>

    <def-cat n="jour_adv">
      <cat-item lemma="avant-hier" tags="adv"/>
      <cat-item lemma="hier" tags="adv"/>
      <cat-item lemma="aujourd'hui" tags="adv"/>
      <cat-item lemma="demain" tags="adv"/>
      <cat-item lemma="après-demain" tags="adv"/>
      <cat-item lemma="le lendemain" tags="adv"/>
    </def-cat>

    <def-cat n="part_jour">
      <cat-item lemma="matin" tags="n.*"/>
      <cat-item lemma="après-midi" tags="n.*"/>
      <cat-item lemma="soir" tags="n.*"/>
    </def-cat>

    <def-cat n="reprise_n">
      <cat-item lemma="reprise" tags="n.*"/>
    </def-cat>

    <def-cat n="nom_monsieur">
      <cat-item lemma="monsieur" tags="n.*"/>
      <cat-item lemma="M." tags="n.*"/>
      <cat-item lemma="MM." tags="n.*"/>
<!--
      <cat-item lemma="madame" tags="n.*"/>
      <cat-item lemma="mademoiselle" tags="n.*"/>
-->
    </def-cat>

  </section-def-cats>

  <section-def-attrs>
    <def-attr n="a_nom">
      <attr-item tags="n"/>
      <attr-item tags="n.acr"/>
      <attr-item tags="np.ant"/>
    </def-attr>

    <def-attr n="a_np">
      <attr-item tags="ant"/>
      <attr-item tags="cog"/>
      <attr-item tags="top"/>
      <attr-item tags="al"/>
    </def-attr>

    <def-attr n="a_det">
      <attr-item tags="det.def"/>
      <attr-item tags="det.ind"/>
      <attr-item tags="det.dem"/>
      <attr-item tags="det.pos"/>
      <attr-item tags="det.itg"/>
      <attr-item tags="predet"/>
    </def-attr>

    <def-attr n="a_det2">
      <attr-item tags="def"/>
      <attr-item tags="ind"/>
      <attr-item tags="dem"/>
      <attr-item tags="pos"/>
      <attr-item tags="itg"/>
      <attr-item tags="predet"/>
    </def-attr>

    <def-attr n="a_adj">
      <attr-item tags="adj.ind"/>
      <attr-item tags="adj.sup"/>
      <attr-item tags="adj.itg"/>
      <attr-item tags="adj.pos"/>
      <attr-item tags="adj"/>
      <attr-item tags="num"/> <!-- pels sègles: le XVe siècle > lo sègle XV -->
    </def-attr>

    <def-attr n="a_adjec">
      <attr-item tags="adj.ind"/>
      <attr-item tags="adj.sup"/>
      <attr-item tags="adj.itg"/>
      <attr-item tags="adj.pos"/>
      <attr-item tags="adj"/>
      <attr-item tags="vblex.pp"/>
      <attr-item tags="vblex.tv.pp"/>
      <attr-item tags="vblex.pron.pp"/>
      <attr-item tags="vblex.nopron.pp"/>
      <attr-item tags="vblex.non-pron.pp"/>
      <attr-item tags="vbhaver.pp"/>
      <attr-item tags="vbser.pp"/>
      <attr-item tags="vbmod.pp"/>
      <attr-item tags="num"/>
    </def-attr>

    <def-attr n="a_adv">
      <attr-item tags="adv"/>
      <attr-item tags="adv.itg"/>
      <attr-item tags="adv.enon"/>
      <attr-item tags="adv.pas_neg"/>
    </def-attr>

    <def-attr n="a_pron_long">
      <attr-item tags="tn"/>
      <attr-item tags="tn.ref"/>
      <attr-item tags="tn.pos"/>
      <attr-item tags="pro"/>
      <attr-item tags="pro.ref"/>
      <attr-item tags="pro.adv"/>
      <attr-item tags="enc"/>
      <attr-item tags="enc.adv"/>
      <attr-item tags="itg"/>
    </def-attr>

    <def-attr n="a_pron">
      <attr-item tags="tn"/>
      <attr-item tags="pro"/>
      <attr-item tags="enc"/>
      <attr-item tags="itg"/>
    </def-attr>

    <def-attr n="a_pron_pas_neg">
      <attr-item tags="pas_neg"/>
    </def-attr>

    <def-attr n="a_verb">
      <attr-item tags="vblex"/>
      <attr-item tags="vbser"/>
      <attr-item tags="vbhaver"/>
      <attr-item tags="vbmod"/>
    </def-attr>

    <def-attr n="a_verb_pron">
      <attr-item tags="vblex"/>
      <attr-item tags="vblex.pron"/>
      <attr-item tags="vblex.nopron"/>
      <attr-item tags="vblex.non-pron"/>
      <attr-item tags="vbser"/>
      <attr-item tags="vbhaver"/>
      <attr-item tags="vbmod"/>
    </def-attr>

    <def-attr n="a_num">
      <attr-item tags="num"/>
    </def-attr>

    <def-attr n="nbr">
      <attr-item tags="sg"/>
      <attr-item tags="pl"/>
      <attr-item tags="sp"/>
      <attr-item tags="ND"/>
    </def-attr>

    <def-attr n="gen">
      <attr-item tags="m"/>
      <attr-item tags="mf"/>
      <attr-item tags="f"/>
      <attr-item tags="nt"/>
      <attr-item tags="GD"/>
    </def-attr>

    <def-attr n="pers">
      <attr-item tags="p1"/>
      <attr-item tags="p2"/>
      <attr-item tags="p3"/>
    </def-attr>

    <def-attr n="temps">
      <attr-item tags="inf"/>
      <attr-item tags="ger"/>
      <attr-item tags="pp"/>
      <attr-item tags="pri"/>
      <attr-item tags="ifi"/>
      <attr-item tags="pii"/>
      <attr-item tags="fti"/>
      <attr-item tags="cni"/>
      <attr-item tags="prs"/>
      <attr-item tags="pis"/>
      <attr-item tags="fts"/>
      <attr-item tags="imp"/>
    </def-attr>

    <def-attr n="tv">
      <attr-item tags="tv"/>
    </def-attr>

    <def-attr n="a_dat2nom">
      <attr-item tags="dat2nom"/>
    </def-attr>

    <def-attr n="pron">
      <attr-item tags="pron"/>
    </def-attr>

    <def-attr n="a_non-pron">
      <attr-item tags="non-pron"/>
    </def-attr>
  </section-def-attrs>

  <section-def-vars>
    <def-var n="lemma"/>
    <def-var n="tipusverb"/>
    <def-var n="tipusdet"/>
    <def-var n="tipusprn"/>
    <def-var n="genero" v="&lt;m&gt;"/>
    <def-var n="numero" v="&lt;sg&gt;"/>
    <def-var n="genero_sl"/>
    <def-var n="numero_sl"/>
    <def-var n="genero_m_f"/>
    <def-var n="concPrimero"/>
    <def-var n="concSegundo"/>
    <def-var n="concTercero"/>
    <def-var n="v_vbser"/>
    <def-var n="v_vbfar"/>
    <def-var n="v_qualqun"/>
    <def-var n="v_degun"/>
    <def-var n="v_itg"/>
    <def-var n="pronom"/>
    <def-var n="caseFirstWord"/>
    <def-var n="chunkname"/>
    <def-var n="auxg"/>
    <def-var n="auxn"/>
    <def-var n="temp"/>
  </section-def-vars>

  <section-def-lists>
    <def-list n="mois">
      <list-item v="janvier"/>
      <list-item v="février"/>
      <list-item v="mars"/>
      <list-item v="avril"/>
      <list-item v="mai"/>
      <list-item v="juin"/>
      <list-item v="juillet"/>
      <list-item v="août"/>
      <list-item v="septembre"/>
      <list-item v="octobre"/>
      <list-item v="novembre"/>
      <list-item v="décembre"/>
    </def-list>

    <def-list n="adj_pre">
      <list-item v="nouveau"/>
      <list-item v="nouvel"/>
      <list-item v="beau"/>
      <list-item v="bel"/>
      <list-item v="jeune"/>
      <list-item v="vieux"/>
      <list-item v="petit"/>
      <list-item v="grand"/>
      <list-item v="meilleur"/>
      <list-item v="pire"/>
      <list-item v="prochain"/>
    </def-list>

    <def-list n="vbambser_oc">
      <list-item v="èsser"/>
      <list-item v="estar"/>
      <list-item v="anar"/>
      <list-item v="aparéisser"/>
      <list-item v="aparéisher"/>
      <list-item v="arribar"/>
      <list-item v="dintrar"/>
      <list-item v="entrar"/>
      <list-item v="davalar"/>
      <list-item v="devarar"/>
      <list-item v="demorar"/>
      <list-item v="montar"/>
      <list-item v="morir"/>
      <list-item v="nàisser"/>
      <list-item v="nèisher"/>
      <list-item v="paréisser"/>
      <list-item v="paréisher"/>
      <list-item v="partir"/>
      <list-item v="passar"/>
      <list-item v="renàisser"/>
      <list-item v="renèisher"/>
      <list-item v="sortir"/>
      <list-item v="tombar"/>
      <list-item v="tornar"/>
      <list-item v="venir"/>
      <list-item v="viéner"/>
    </def-list>

    <def-list n="verbs_amb_partitiu">
      <list-item v="aculhir"/>
      <list-item v="acuélher"/>
      <list-item v="agropar"/>
      <list-item v="apondre"/>
      <list-item v="aver"/>
      <list-item v="auer"/>
      <list-item v="acceptar"/>
      <list-item v="apelar"/>
      <list-item v="bailar"/>
      <list-item v="balhar"/>
      <list-item v="baliar"/>
      <list-item v="beure"/>
      <list-item v="béuer"/>
      <list-item v="béver"/>
      <list-item v="comprar"/>
      <list-item v="conclure"/>
      <list-item v="conéisser"/>
      <list-item v="conéisher"/>
      <list-item v="controlar"/>
      <list-item v="controtlar"/>
      <list-item v="contusionar"/>
      <list-item v="convalidar"/>
      <list-item v="convenir"/>
      <list-item v="convidar"/>
      <list-item v="convocar"/>
      <list-item v="coordinar"/>
      <list-item v="copar"/>
      <list-item v="cridar"/>
      <list-item v="crompar"/>
      <list-item v="desenvolopar"/>
      <list-item v="destinar"/>
      <list-item v="destruir"/>
      <list-item v="destrusir"/>
      <list-item v="determinar"/>
      <list-item v="develar"/>
      <list-item v="desvistar"/>
      <list-item v="dividir"/>
      <list-item v="divulgar"/>
      <list-item v="editar"/>
      <list-item v="esperar"/>
      <list-item v="èsser"/>
      <list-item v="estar"/>
      <list-item v="èster"/>
      <list-item v="encontrar"/>
      <list-item v="establir"/>
      <list-item v="evitar"/>
      <list-item v="ganhar"/>
      <list-item v="gropar"/>
      <list-item v="introdusir"/>
      <list-item v="introduire"/>
      <list-item v="jogar"/>
      <list-item v="mandar"/>
      <list-item v="manjar"/>
      <list-item v="manténer"/>
      <list-item v="memorizar"/>
      <list-item v="nomenar"/>
      <list-item v="prepausar"/>
      <list-item v="recebre"/>
      <list-item v="regropar"/>
      <list-item v="reintrodusir"/>
      <list-item v="reintroduire"/>
      <list-item v="rencontrar"/>
      <list-item v="sonar"/>
      <list-item v="tranmetre"/>
      <list-item v="televizar"/>
      <list-item v="tuar"/>
<!--      <list-item v="utilizar"/> -->
<!--      <list-item v="vendre"/> -->
<!--      <list-item v="voler"/> -->
    </def-list>

    <def-list n="gentilici">
      <list-item v="portugais"/>
      <list-item v="espagnol"/>
      <list-item v="catalan"/>
      <list-item v="valencien"/>
      <list-item v="majorquin"/>
      <list-item v="majorquain"/>
      <list-item v="minorquin"/>
      <list-item v="mahonnais"/>
      <list-item v="ibizois"/>
      <list-item v="baléare"/>
      <list-item v="alguérois"/>
      <list-item v="roussillonnais"/>
      <list-item v="aragonais"/>
      <list-item v="asturien"/>
      <list-item v="léonais"/>
      <list-item v="mirandais"/>
      <list-item v="basque"/>
      <list-item v="castillan"/>
      <list-item v="andalou"/>
      <list-item v="mozarabe"/>
      <list-item v="français"/>
      <list-item v="breton"/>
      <list-item v="normand"/>
      <list-item v="champenois"/>
      <list-item v="franc-comtois"/>
      <list-item v="lorrain"/>
      <list-item v="picard"/>
      <list-item v="chti"/>
      <list-item v="ch'ti"/>
      <list-item v="alsacien"/>
      <list-item v="bourgonde"/>
      <list-item v="bourguignon"/>
      <list-item v="poitevin"/>
      <list-item v="saintongeais"/>
      <list-item v="angevin"/>
      <list-item v="gavache"/>
      <list-item v="occitan"/>
      <list-item v="aranais"/>
      <list-item v="corse"/>
      <list-item v="auvergnat"/>
      <list-item v="limousin"/>
      <list-item v="agenais"/>
      <list-item v="gascon"/>
      <list-item v="béarnais"/>
      <list-item v="bigourdan"/>
      <list-item v="quercynois"/>
      <list-item v="languedocien"/>
      <list-item v="provençal"/>
      <list-item v="camarguais"/>
      <list-item v="niçois"/>
      <list-item v="niçard"/>
      <list-item v="nissard"/>
      <list-item v="nissart"/>
      <list-item v="savoyard"/>
      <list-item v="luxembourgeois"/>
      <list-item v="anglais"/>
      <list-item v="écossais"/>
      <list-item v="gallois"/>
      <list-item v="mannois"/>
      <list-item v="cornique"/>
      <list-item v="irlandais"/>
      <list-item v="wallon"/>
      <list-item v="flamand"/>
      <list-item v="hollandais"/>
      <list-item v="néerlandais"/>
      <list-item v="brabançon"/>
      <list-item v="limbourgeois"/>
      <list-item v="frison"/>
      <list-item v="allemand"/>
      <list-item v="bavarois"/>
      <list-item v="zurichois"/>
      <list-item v="souabe"/>
      <list-item v="burgonde"/>
      <list-item v="danois"/>
      <list-item v="islandais"/>
      <list-item v="norvégien"/>
      <list-item v="suédois"/>
      <list-item v="finlandais"/>
      <list-item v="finnois"/>
      <list-item v="sami"/>
      <list-item v="carélien"/>
      <list-item v="russe"/>
      <list-item v="slave"/>
      <list-item v="sibérien"/>
      <list-item v="tchétchène"/>
      <list-item v="ingouche"/>
      <list-item v="karatchaï"/>
      <list-item v="balkar"/>
      <list-item v="kabarde"/>
      <list-item v="circassien"/>
      <list-item v="tcherkesse"/>
      <list-item v="gagaouze"/>
      <list-item v="tchaghataï"/>
      <list-item v="khazar"/>
      <list-item v="ossète"/>
      <list-item v="tchouvache"/>
      <list-item v="tatar"/>
      <list-item v="tatare"/>
      <list-item v="tartare"/>
      <list-item v="bachkir"/>
      <list-item v="komi"/>
      <list-item v="oudmourte"/>
      <list-item v="mordve"/>
      <list-item v="khanty"/>
      <list-item v="mansi"/>
      <list-item v="kalmouk"/>
      <list-item v="yakoute"/>
      <list-item v="iakoute"/>
      <list-item v="tchouktche"/>
      <list-item v="itelmène"/>
      <list-item v="kamtchadale"/>
      <list-item v="aléoute"/>
      <list-item v="aléoutien"/>
      <list-item v="khakasse"/>
      <list-item v="touvinien"/>
      <list-item v="altaïen"/>
      <list-item v="nogaï"/>
      <list-item v="estonien"/>
      <list-item v="letton"/>
      <list-item v="lituanien"/>
      <list-item v="lithuanien"/>
      <list-item v="balte"/>
      <list-item v="polonais"/>
      <list-item v="juif"/>
      <list-item v="sorabe"/>
      <list-item v="cachoube"/>
      <list-item v="tchèque"/>
      <list-item v="slovaque"/>
      <list-item v="hongrois"/>
      <list-item v="vaudois"/>
      <list-item v="italien"/>
      <list-item v="sarde"/>
      <list-item v="piémontais"/>
      <list-item v="lombard"/>
      <list-item v="émilien"/>
      <list-item v="romagnol"/>
      <list-item v="ligurien"/>
      <list-item v="ligure"/>
      <list-item v="génois"/>
      <list-item v="sicilien"/>
      <list-item v="napolitain"/>
      <list-item v="calabrais"/>
      <list-item v="toscan"/>
      <list-item v="florentin"/>
      <list-item v="vénitien"/>
      <list-item v="istriote"/>
      <list-item v="frioulan"/>
      <list-item v="maltais"/>
      <list-item v="slovène"/>
      <list-item v="dalmate"/>
      <list-item v="croate"/>
      <list-item v="serbe"/>
      <list-item v="bosnien"/>
      <list-item v="bosniaque"/>
      <list-item v="monténégrin"/>
      <list-item v="macédonien"/>
      <list-item v="roumain"/>
      <list-item v="moldave"/>
      <list-item v="bulgare"/>
      <list-item v="albanais"/>
      <list-item v="rom"/>
      <list-item v="romani"/>
      <list-item v="grec"/>
      <list-item v="achéen"/>
      <list-item v="minoen"/>
      <list-item v="mycénien"/>
      <list-item v="béotien"/>
      <list-item v="étolien"/>
      <list-item v="phocidien"/>
      <list-item v="thessalien"/>
      <list-item v="ukrainien"/>
      <list-item v="ruthène"/>
      <list-item v="biélorusse"/>
      <list-item v="moldave"/>
      <list-item v="turc"/>
      <list-item v="ottoman"/>
      <list-item v="scythe"/>
      <list-item v="sarmate"/>
      <list-item v="kouchan"/>
      <list-item v="avar"/>
      <list-item v="petchénègue"/>
      <list-item v="couman"/>
      <list-item v="kiptchak"/>
      <list-item v="polovtse"/>
      <list-item v="kurde"/>
      <list-item v="arménien"/>
      <list-item v="géorgien"/>
      <list-item v="mingrélien"/>
      <list-item v="laze"/>
      <list-item v="abaza"/>
      <list-item v="abkhaze"/>
      <list-item v="oubykh"/>
      <list-item v="azerbaïdjanais"/>
      <list-item v="kazakh"/>
      <list-item v="karakalpak"/>
      <list-item v="turkmène"/>
      <list-item v="turcoman"/>
      <list-item v="ouzbek"/>
      <list-item v="kirghiz"/>
      <list-item v="tadjik"/>
      <list-item v="mongol"/>
      <list-item v="moghol"/>
      <list-item v="mogol"/>
      <list-item v="bouriate"/>
      <list-item v="mandchou"/>
      <list-item v="toungouse"/>
      <list-item v="évenk"/>
      <list-item v="ouïghour"/>
      <list-item v="ouïgour"/>
      <list-item v="samoyède"/>
      <list-item v="cachemiri"/>
      <list-item v="cachemirien"/>
      <list-item v="baloutche"/>
      <list-item v="sindi"/>
      <list-item v="sindhi"/>
      <list-item v="pendjabi"/>
      <list-item v="panjabi"/>
      <list-item v="punjabi"/>
      <list-item v="arabe"/>
      <list-item v="sarrasin"/>
      <list-item v="hébreu"/>
      <list-item v="cananéen"/>
      <list-item v="nabatéen"/>
      <list-item v="amazigh"/>
      <list-item v="amazighe"/>
      <list-item v="berbère"/>
      <list-item v="kabyle"/>
      <list-item v="touareg"/>
      <list-item v="copte"/>
      <list-item v="nubien"/>
      <list-item v="afrikaans"/>
      <list-item v="réunionnais"/>
      <list-item v="bhojpuri"/>
      <list-item v="bengali"/>
      <list-item v="bengalais"/>
      <list-item v="marathe"/>
      <list-item v="gujarati"/>
      <list-item v="tamoul"/>
      <list-item v="tamil"/>
      <list-item v="télougou"/>
      <list-item v="cingalais"/>
      <list-item v="népalais"/>
      <list-item v="tibétain"/>
      <list-item v="chinois"/>
      <list-item v="cantonais"/>
      <list-item v="japonais"/>
      <list-item v="aïnou"/>
      <list-item v="coréen"/>
      <list-item v="vietnamien"/>
      <list-item v="thaïlandais"/>
      <list-item v="birman"/>
      <list-item v="laotien"/>
      <list-item v="cambodgien"/>
      <list-item v="khmer"/>
      <list-item v="karen"/>
      <list-item v="karène"/>
      <list-item v="malais"/>
      <list-item v="tagal"/>
      <list-item v="indonésien"/>
      <list-item v="javanais"/>
      <list-item v="balinais"/>
      <list-item v="taïwanais"/>
      <list-item v="hawaïen"/>
      <list-item v="tahitien"/>
      <list-item v="samoan"/>
      <list-item v="tongan"/>
      <list-item v="nauruan"/>
      <list-item v="maori"/>
      <list-item v="éthiopien"/>
      <list-item v="afar"/>
      <list-item v="amhara"/>
      <list-item v="sidama"/>
      <list-item v="oromo"/>
      <list-item v="somalien"/>
      <list-item v="somali"/>
      <list-item v="massaï"/>
      <list-item v="masaï"/>
      <list-item v="maasaï"/>
      <list-item v="malgache"/>
      <list-item v="wolof"/>
      <list-item v="peul"/>
      <list-item v="bambara"/>
      <list-item v="mandingue"/>
      <list-item v="songhaï"/>
      <list-item v="haoussa"/>
      <list-item v="yoruba"/>
      <list-item v="igbo"/>
      <list-item v="bantou"/>
      <list-item v="swahili"/>
      <list-item v="zoulou"/>
      <list-item v="kikuyu"/>
      <list-item v="kimbundu"/>
      <list-item v="tswana"/>
      <list-item v="swazi"/>
      <list-item v="hottentot"/>
      <list-item v="bochiman"/>
      <list-item v="apache"/>
      <list-item v="algonquien"/>
      <list-item v="algonquin"/>
      <list-item v="athabaskan"/>
      <list-item v="athapaskan"/>
      <list-item v="déné"/>
      <list-item v="chinook"/>
      <list-item v="cherokee"/>
      <list-item v="chéroki"/>
      <list-item v="tchéroki"/>
      <list-item v="mohawk"/>
      <list-item v="huron"/>
      <list-item v="iroquois"/>
      <list-item v="comanche"/>
      <list-item v="navajo"/>
      <list-item v="creek"/>
      <list-item v="kiowa"/>
      <list-item v="esquimau"/>
      <list-item v="mapuche"/>
      <list-item v="gaulois"/>
      <list-item v="ibère"/>
      <list-item v="celtibère"/>
      <list-item v="étrusque"/>
      <list-item v="latin"/>
      <list-item v="sabin"/>
      <list-item v="ombrien"/>
      <list-item v="osque"/>
      <list-item v="vandale"/>
      <list-item v="thrace"/>
      <list-item v="dace"/>
      <list-item v="illyrien"/>
      <list-item v="troyen"/>
      <list-item v="lydien"/>
      <list-item v="lycien"/>
      <list-item v="phrygien"/>
      <list-item v="ionien"/>
      <list-item v="dorien"/>
      <list-item v="locrien"/>
      <list-item v="crétois"/>
      <list-item v="sogdien"/>
      <list-item v="bactrien"/>
      <list-item v="élamite"/>
      <list-item v="proto-élamite"/>
      <list-item v="perse"/>
      <list-item v="persan"/>
      <list-item v="sumérien"/>
      <list-item v="akkadien"/>
      <list-item v="accadien"/>
      <list-item v="hittite"/>
      <list-item v="assirien"/>
      <list-item v="hourrite"/>
      <list-item v="hurrite"/>
      <list-item v="araméen"/>
      <list-item v="chaldéen"/>
      <list-item v="yézidi"/>
      <list-item v="guarani"/>
      <list-item v="aymara"/>
      <list-item v="quechua"/>
      <list-item v="quichua"/>
      <list-item v="yanomami"/>
    </def-list>

<!--
    <def-list n="nptop_amb_detdef">
      <list-item v="Africa subsahariana"/>
      <list-item v="America centrala"/>
      <list-item v="America del Nòrd"/>
      <list-item v="America del Sud"/>
      <list-item v="America latina"/>
      <list-item v="Bassa Normandia"/>
      <list-item v="Comtat Venaicin"/>
      <list-item v="Còsta d'Azur"/>
      <list-item v="Estats Units"/>
      <list-item v="Gran Bretanha"/>
      <list-item v="Guaiana"/>
      <list-item v="Güaiana"/>
      <list-item v="Illa de França"/>
      <list-item v="Ilha de França"/>
      <list-item v="Isla de França"/>
      <list-item v="Lanas"/>
      <list-item v="Léger Atlàntic"/>
      <list-item v="Naut Ren"/>
      <list-item v="Nauta Normandia"/>
      <list-item v="Nauta Savòia"/>
      <list-item v="Nauta Vinhana"/>
      <list-item v="Nauts de França"/>
      <list-item v="Nòu Brunswick"/>
      <list-item v="Nòu Hampshire"/>
      <list-item v="Nòu Mexic"/>
      <list-item v="Nòva Aquitània"/>
      <list-item v="Nòva Caledònia"/>
      <list-item v="Nòva Jersey"/>
      <list-item v="Nòva Zelanda"/>
      <list-item v="Païses Basses"/>
      <list-item v="País de Galas"/>
      <list-item v="Païses de Léger"/>
      <list-item v="Pas de Calais"/>
      <list-item v="Reialme Unit"/>
      <list-item v="Republica Chèca"/>
      <list-item v="Republica Dominicana"/>
      <list-item v="Territòri de Belfort"/>
      <list-item v="Union Europèa"/>
      <list-item v="UE"/>
      <list-item v="Union Sovietica"/>
      <list-item v="URSS"/>
      <list-item v="Val d'Aran"/>
      <list-item v="Val d'Oise"/>
      <list-item v="Val de Marna"/>

      <list-item v="Alps"/>
      <list-item v="Aups"/>
      <list-item v="Auts Aups"/>
      <list-item v="Aups Maritims"/>
      <list-item v="Aups d'Auta Provença"/>
      <list-item v="Andes"/>
      <list-item v="Ardenas"/>
      <list-item v="Carpats"/>
      <list-item v="Massís Central"/>
      <list-item v="Orals"/>
      <list-item v="Pirenèu"/>
      <list-item v="Pirenèus"/>
      <list-item v="Hauts Pirenèus"/>
      <list-item v="Pirenèus Atlantics"/>
      <list-item v="Pirenèus Orientals"/>
      <list-item v="Sèlva Negra"/>
      <list-item v="Termopilas"/>
      <list-item v="Vòges"/>
      <list-item v="Mont Blanc"/>

      <list-item v="Mediterrànea"/>
      <list-item v="mar Baltica"/>
      <list-item v="mar Mòrta"/>
      <list-item v="mar d'Aral"/>
      <list-item v="mar de Japon"/>
      <list-item v="mar de las Antilhas"/>
      <list-item v="mar del Nôrd"/>
      <list-item v="mar del Coralh"/>

      <list-item v="Antilhas"/>
      <list-item v="Antilhes"/>
      <list-item v="Balearas"/>
      <list-item v="Baleares"/>
      <list-item v="Canàrias"/>
      <list-item v="Canàries"/>
      <list-item v="Filipinas"/>
      <list-item v="Filipines"/>
      <list-item v="illa de Clipperton"/>
      <list-item v="Illa de França"/>
      <list-item v="Illa de Man"/>
      <list-item v="Illa de Pascas"/>
      <list-item v="illas Australas"/>
      <list-item v="illas Caiman"/>
      <list-item v="illas Chatham"/>
      <list-item v="illas de Pitcairn"/>
      <list-item v="illas Malvinas"/>
      <list-item v="illas Marquesas"/>
      <list-item v="illas Marshall"/>
      <list-item v="illas Midway"/>
      <list-item v="illas Tokelau"/>
      <list-item v="illas Tuamotu"/>
      <list-item v="illas Turcas e Caïcas"/>
      <list-item v="Illas Verges Americanas"/>
      <list-item v="Illas Verges Britanicas"/>
      <list-item v="Illas Verges"/>
      <list-item v="illas Toquelau"/>


      <list-item v="Acropòli"/>
      <list-item v="Camp Nou"/>
      <list-item v="Santiago Bernabeu"/>
    </def-list>
-->

    <def-list n="pays">	<!-- toponymes de pays et régions avec déterminant en français et sans lui en occitan -->
      <list-item v="Europe"/>
      <list-item v="Asie"/>
      <list-item v="Asie-Pacifique"/>
      <list-item v="Afrique"/>
      <list-item v="Afrique du Sud"/>
      <list-item v="Amérique"/>
      <list-item v="Amérique Centrale"/>
      <list-item v="Amérique du Nord"/>
      <list-item v="Amérique du Sud"/>
      <list-item v="Amazonie"/>
      <list-item v="Océanie"/>
      <list-item v="Eurasie"/>
      <list-item v="Pangée"/>
      <list-item v="Gondwana"/>
      <list-item v="Laurasie"/>
      <list-item v="Laurasia"/>
      <list-item v="Australie"/>
      <list-item v="Australie-Méridionale"/>
      <list-item v="Tasmanie"/>
      <list-item v="Nouvelle-Galles du Sud"/>
      <list-item v="Queensland"/>
      <list-item v="Victoria"/>
      <list-item v="Nouvelle-Zélande"/>
      <list-item v="Timor"/>
      <list-item v="Timor oriental"/>
      <list-item v="Tuvalu"/>
      <list-item v="Vanuatu"/>
      <list-item v="Tonga"/>
      <list-item v="Kiribati"/>
      <list-item v="Papouasie"/>
      <list-item v="Papouasie-Nouvelle-Guinée"/>
      <list-item v="Nouvelle-Calédonie"/>
      <list-item v="Portugal"/>
      <list-item v="Espagne"/>
      <list-item v="Catalogne"/>
      <list-item v="Pays Basque"/>
      <list-item v="Navarre"/>
      <list-item v="Biscaye"/>
      <list-item v="Guipuscoa"/>
      <list-item v="Labourd"/>
      <list-item v="Soule"/>
      <list-item v="Castille"/>
      <list-item v="Andalousie"/>
      <list-item v="Estrémadure"/>
      <list-item v="Aragon"/>
      <list-item v="Asturies"/>
      <list-item v="Galice"/>
      <list-item v="Andorre"/>
      <list-item v="France"/>
      <list-item v="Beauce"/>
      <list-item v="Perche"/>
      <list-item v="Champagne"/>
      <list-item v="Bretagne"/>
      <list-item v="Finistère"/>
      <list-item v="Normandie"/>
      <list-item v="Vendée"/>
      <list-item v="Beaujolais"/>
      <list-item v="Charente"/>
      <list-item v="Forez"/>
      <list-item v="Roussillon"/>
      <list-item v="Languedoc"/>
      <list-item v="Languedoc-Roussillon"/>
      <list-item v="Hautes-Pyrénées"/>
      <list-item v="Hautes-Alpes"/>
      <list-item v="Pyrénées-Atlantiques"/>
      <list-item v="Pyrénées-Orientales"/>
      <list-item v="Alpes-de-Haute-Provence"/>
      <list-item v="Alpes-Maritimes"/>
      <list-item v="Haute-Alsace"/>
      <list-item v="Haute-Corse"/>
      <list-item v="Haute-Garonne"/>
      <list-item v="Haute-Loire"/>
      <list-item v="Haute-Marne"/>
      <list-item v="Haute-Normandie"/>
      <list-item v="Haute-Saône"/>
      <list-item v="Haute-Savoie"/>
      <list-item v="Haute-Vienne"/>
      <list-item v="Haute-Autriche"/>
      <list-item v="Haute-Égypte"/>
      <list-item v="Haut-Karabagh"/>
      <list-item v="Haut-Palatinat"/>
      <list-item v="Haut-Rhin"/>
      <list-item v="Hauts-de-France"/>
      <list-item v="Hauts-de-Seine"/>
      <list-item v="Cerdagne"/>
      <list-item v="Fenouillèdes"/>
      <list-item v="Ardèche"/>
      <list-item v="Aude"/>
      <list-item v="Agenais"/>
      <list-item v="Albigeois"/>
      <list-item v="Aveyron"/>
      <list-item v="Biterrois"/>
      <list-item v="Cabardès"/>
      <list-item v="Carcassès"/>
      <list-item v="Lauragais"/>
      <list-item v="Minervois"/>
      <list-item v="Razès"/>
      <list-item v="Rouergue"/>
      <list-item v="Occitanie"/>
      <list-item v="Gascogne"/>
      <list-item v="Guyenne"/>
      <list-item v="Gironde"/>
      <list-item v="Landes"/>
<!--
      <list-item v="Grande-Lande"/>
      <list-item v="Haute-Lande"/>
-->
      <list-item v="Albret"/>
      <list-item v="Labrit"/>
      <list-item v="Béarn"/>
      <list-item v="Palois"/>
      <list-item v="Armagnac"/>
      <list-item v="Bigorre"/>
      <list-item v="Comminges"/>
      <list-item v="pays de Comminges"/>
      <list-item v="Combraille"/>
      <list-item v="Combrailles"/>
      <list-item v="Lavedan"/>
      <list-item v="Agarnaguès"/>
      <list-item v="Artense"/>
      <list-item v="Astarac"/>
      <list-item v="Aubrac"/>
      <list-item v="Barousse"/>
      <list-item v="Bouriane"/>
      <list-item v="Pays Bourian"/>
      <list-item v="Pays de Born"/>
      <list-item v="Bergeracois"/>
      <list-item v="Briançonnais"/>
      <list-item v="Brignolais"/>
      <list-item v="Brivadois"/>
      <list-item v="Brulhois"/>
      <list-item v="Pays de Buch"/>
      <list-item v="Camargue"/>
      <list-item v="Carcassés"/>
      <list-item v="Carladés"/>
      <list-item v="Castrais"/>
      <list-item v="Chalosse"/>
      <list-item v="Embrunais"/>
      <list-item v="Gabardan"/>
      <list-item v="Lacaunais"/>
      <list-item v="Luchonnais"/>
      <list-item v="Maremne"/>
      <list-item v="Marencin"/>
      <list-item v="Marensin"/>
      <list-item v="Nébouzan"/>
      <list-item v="Sauvestre"/>
      <list-item v="Seignanx"/>
      <list-item v="Seuvestre"/>
      <list-item v="Tursan"/>
      <list-item v="Val Cluson"/>
      <list-item v="Val de Suse"/>
      <list-item v="Val Germasca"/>
      <list-item v="Val Gesso"/>
      <list-item v="Val Grana"/>
      <list-item v="Val Maira"/>
      <list-item v="Val Pellice"/>
      <list-item v="Val Pesio"/>
      <list-item v="Val Pô"/>
      <list-item v="Val Varaita"/>
      <list-item v="Val Vermenagna"/>
      <list-item v="Val Tanaro"/>
      <list-item v="Vallée de la Stura"/>
      <list-item v="Vallée de la Stura di Demonte"/>
      <list-item v="Vazadais"/>
      <list-item v="Velay"/>
      <list-item v="Vercors"/>
      <list-item v="Volvèstre"/>
      <list-item v="Aran"/>
      <list-item v="Aquitaine"/>
      <list-item v="Nouvelle-Aquitaine"/>
      <list-item v="Lot-et-Garonne"/>
      <list-item v="Quercy"/>
      <list-item v="Ariège"/>
      <list-item v="Gers"/>
      <list-item v="Hérault"/>
      <list-item v="Couserans"/>
      <list-item v="Haute Garone"/>
      <list-item v="Périgord"/>
      <list-item v="Larzac"/>
      <list-item v="Auvergne"/>
      <list-item v="Limousin"/>
      <list-item v="Provence"/>
      <list-item v="Vaucluse"/>
      <list-item v="Tricastin"/>
      <list-item v="Isère"/>
      <list-item v="Lozère"/>
      <list-item v="Gévaudan"/>
      <list-item v="Savoie"/>
      <list-item v="Drôme"/>
      <list-item v="Allier"/>
      <list-item v="Ardèche"/>
      <list-item v="Vivarais"/>
      <list-item v="Var"/>
      <list-item v="Saintonge"/>
      <list-item v="Angoumois"/>
      <list-item v="Gavacherie"/>
      <list-item v="Poitou"/>
      <list-item v="Berry"/>
      <list-item v="Touraine"/>
      <list-item v="Angoumois"/>
      <list-item v="Anjou"/>
      <list-item v="Artois"/>
      <list-item v="Aunis"/>
      <list-item v="Bourbonnais"/>
      <list-item v="Bourgogne"/>
      <list-item v="Bresse"/>
<!--      <list-item v="Morvan"/> -->
      <list-item v="Dauphiné"/>
<!--      <list-item v="Franche-Comté"/> -->
      <list-item v="Lyonnais"/>
      <list-item v="Marche"/>
      <list-item v="Nivernais"/>
      <list-item v="Orléanais"/>
      <list-item v="Aisne"/>
      <list-item v="Picardie"/>
      <list-item v="Lorraine"/>
      <list-item v="Alsace"/>
      <list-item v="Corse"/>
      <list-item v="Grande-Bretagne"/>
      <list-item v="Angleterre"/>
      <list-item v="Yorkshire"/>
      <list-item v="Lancashire"/>
      <list-item v="Lincolnshire"/>
      <list-item v="Essex"/>
      <list-item v="Middlesex"/>
      <list-item v="Wessex"/>
      <list-item v="Sussex"/>
      <list-item v="Suffolk"/>
      <list-item v="Devon"/>
      <list-item v="Hampshire"/>
      <list-item v="Cornouaille"/>
      <list-item v="Cornouailles"/>
      <list-item v="Pays de Galles"/>
      <list-item v="Écosse"/>
      <list-item v="Irlande"/>
      <list-item v="Benelux"/>
      <list-item v="Belgique"/>
      <list-item v="Wallonie"/>
      <list-item v="Flandre"/>
      <list-item v="Luxembourg"/>
      <list-item v="Hollande"/>
      <list-item v="Brabant"/>
      <list-item v="Frise"/>
      <list-item v="Allemagne"/>
      <list-item v="Germanie"/>
      <list-item v="Ruhr"/>
      <list-item v="Bade"/>
      <list-item v="pays de Bade"/>
      <list-item v="Baden-Württemberg"/>
      <list-item v="Bavière"/>
      <list-item v="Brandenbourg"/>
      <list-item v="Mecklembourg"/>
      <list-item v="Mecklembourg-Poméranie-Occidentale"/>
      <list-item v="Poméranie"/>
      <list-item v="Poméranie-Occidentale"/>
      <list-item v="Rhénanie"/>
      <list-item v="Rhénanie-du-Nord"/>
      <list-item v="Rhénanie-du-Nord-Westphalie"/>
      <list-item v="Rhénanie-Palatinat"/>
      <list-item v="Saxe"/>
      <list-item v="Saxe-Anhalt"/>
      <list-item v="Basse-Saxe"/>
      <list-item v="Franconie"/>
      <list-item v="Basse-Franconie"/>
      <list-item v="Haute-Franconie"/>
      <list-item v="Moyenne-Franconie"/>
      <list-item v="Souabe"/>
      <list-item v="Thuringe"/>
      <list-item v="Schleswig-Holstein"/>
      <list-item v="Schleswig"/>
      <list-item v="Holstein"/>
      <list-item v="Sorabie"/>
      <list-item v="Lusace"/>
      <list-item v="Haute-Lusace"/>
      <list-item v="Basse-Lusace"/>
      <list-item v="Prusse"/>
      <list-item v="Prusse-Orientale"/>
      <list-item v="Danemark"/>
      <list-item v="Jutland"/>
      <list-item v="Islande"/>
      <list-item v="Norvège"/>
      <list-item v="Suède"/>
      <list-item v="Finlande"/>
      <list-item v="Laponie"/>
      <list-item v="Prussie"/>
      <list-item v="Russie"/>
      <list-item v="Carélie"/>
      <list-item v="Tchétchénie"/>
      <list-item v="Ingouchie"/>
      <list-item v="Kabardino-Balkarie"/>
      <list-item v="Karatchaïévo-Tcherkessie"/>
      <list-item v="Adyguée"/>
      <list-item v="Ossétie"/>
      <list-item v="Ossétie du Nord"/>
      <list-item v="Ossétie du Nord-Alanie"/>
      <list-item v="Ossétie du Sud"/>
      <list-item v="Alanie"/>
      <list-item v="Tchouvachie"/>
      <list-item v="Tatarstan"/>
      <list-item v="Tatarie"/>
      <list-item v="Tartarie"/>
      <list-item v="Bachkortostan"/>
      <list-item v="Oudmourtie"/>
      <list-item v="Mordovie"/>
      <list-item v="Kalmoukie"/>
      <list-item v="Touva"/>
      <list-item v="Bouriatie"/>
      <list-item v="Iakoutie"/>
      <list-item v="Yakoutie"/>
      <list-item v="Kamtchatka"/>
      <list-item v="Kouban"/>
      <list-item v="Koubane"/>
      <list-item v="Estonie"/>
      <list-item v="Lettonie"/>
      <list-item v="Lituanie"/>
      <list-item v="Livonie"/>
      <list-item v="Courlande"/>
      <list-item v="Pologne"/>
      <list-item v="Silésie"/>
      <list-item v="Mazovie"/>
      <list-item v="Mazurie"/>
      <list-item v="Podlachie"/>
      <list-item v="Podlésie"/>
      <list-item v="Volhynie"/>
      <list-item v="Volynie"/>
      <list-item v="Zaporojie"/>
      <list-item v="Zaporoguie"/>
      <list-item v="Tchécoslovaquie"/>
      <list-item v="Tchéquie"/>
      <list-item v="Bohême"/>
      <list-item v="Moravie"/>
      <list-item v="Slovaquie"/>
      <list-item v="Hongrie"/>
      <list-item v="Autriche"/>
      <list-item v="Autriche-Hongrie"/>
      <list-item v="Suisse"/>
      <list-item v="Valais"/>
      <list-item v="Tessin"/>
      <list-item v="Italie"/>
      <list-item v="Ligurie"/>
      <list-item v="Piémont"/>
      <list-item v="Lombardie"/>
      <list-item v="Émilie-Romagne"/>
      <list-item v="Émilie"/>
      <list-item v="Romagne"/>
      <list-item v="Toscane"/>
      <list-item v="Campanie"/>
      <list-item v="Calabre"/>
      <list-item v="Sardaigne"/>
      <list-item v="Sicile"/>
      <list-item v="Slovénie"/>
      <list-item v="Croatie"/>
      <list-item v="Serbie"/>
      <list-item v="Bosnie"/>
      <list-item v="Bosnie-Herzégovine"/>
      <list-item v="Herzégovine"/>
      <list-item v="Monténégro"/>
      <list-item v="Macédoine"/>
      <list-item v="Kosovo"/>
      <list-item v="Albanie"/>
      <list-item v="Roumanie"/>
      <list-item v="Valachie"/>
      <list-item v="Olténie"/>
      <list-item v="Munténie"/>
      <list-item v="Transylvanie"/>
      <list-item v="Moldavie"/>
      <list-item v="Bulgarie"/>
      <list-item v="Illyrie"/>
      <list-item v="Thrace"/>
      <list-item v="Dacie"/>
      <list-item v="Mésie"/>
      <list-item v="Moésie"/>
      <list-item v="Dobroudja"/>
      <list-item v="Dobrogée"/>
      <list-item v="Dalmatie"/>
      <list-item v="Istrie"/>
      <list-item v="Grèce"/>
      <list-item v="Péloponnèse"/>
      <list-item v="Morée"/>
      <list-item v="Thessalie"/>
      <list-item v="Étolie"/>
      <list-item v="Épire"/>
      <list-item v="Béotie"/>
      <list-item v="Arcadie"/>
      <list-item v="Laconie"/>
      <list-item v="Messénie"/>
      <list-item v="Argolide"/>
      <list-item v="Achaïe"/>
      <list-item v="Attique"/>
      <list-item v="Élide"/>
      <list-item v="Ukraine"/>
      <list-item v="Ruthénie"/>
      <list-item v="Donbass"/>
      <list-item v="Crimée"/>
      <list-item v="Galicie"/>
      <list-item v="Podolie"/>
      <list-item v="Biélorussie"/>
      <list-item v="Transdnistrie"/>
      <list-item v="Turquie"/>
      <list-item v="Cappadoce"/>
      <list-item v="Cilicie"/>
      <list-item v="Bythinie"/>
      <list-item v="Mysie"/>
      <list-item v="Paphlagonie"/>
      <list-item v="Pamphylie"/>
      <list-item v="Pisidie"/>
      <list-item v="Galatie"/>
      <list-item v="Lydie"/>
      <list-item v="Lycie"/>
      <list-item v="Carie"/>
      <list-item v="Lycaonie"/>
      <list-item v="Éolide"/>
      <list-item v="Éolie"/>
      <list-item v="Ionie"/>
      <list-item v="Phrygie"/>
      <list-item v="Syrie"/>
      <list-item v="Kurdistan"/>
      <list-item v="Rojava"/>
      <list-item v="Ciscaucasie"/>
      <list-item v="Transcaucasie"/>
      <list-item v="Arménie"/>
      <list-item v="Géorgie"/>
      <list-item v="Abkhazie"/>
      <list-item v="Colchide"/>
      <list-item v="Ibérie"/>
      <list-item v="Azerbaïdjan"/>
      <list-item v="Kazakhstan"/>
      <list-item v="Karakalpakistan"/>
      <list-item v="Turkménistan"/>
      <list-item v="Ouzbékistan"/>
      <list-item v="Kirghizistan"/>
      <list-item v="Kirghizie"/>
      <list-item v="Tadjikistan"/>
      <list-item v="Iran"/>
      <list-item v="Iraq"/>
      <list-item v="Irak"/>
      <list-item v="Mésopotamie"/>
      <list-item v="Perse"/>
      <list-item v="Assyrie"/>
      <list-item v="Élam"/>
      <list-item v="Parthie"/>
      <list-item v="Mittani"/>
      <list-item v="Mitanni"/>
      <list-item v="Arabie"/>
      <list-item v="Arabie saoudite"/>
      <list-item v="Jordanie"/>
      <list-item v="Syrie"/>
      <list-item v="Liban"/>
      <list-item v="Palestine"/>
      <list-item v="Néguev"/>
      <list-item v="Yémen"/>
      <list-item v="Koweït"/>
      <list-item v="Qatar"/>
      <list-item v="Émirats arabes unis"/>
      <list-item v="Afghanistan"/>
      <list-item v="Panchir"/>
      <list-item v="Pakistan"/>
      <list-item v="Baloutchistan"/>
      <list-item v="Sind"/>
      <list-item v="Gandhara"/>
      <list-item v="Inde"/>
      <list-item v="Gujarat"/>
      <list-item v="Maharashtra"/>
      <list-item v="Bengale"/>
      <list-item v="Népal"/>
      <list-item v="Boutan"/>
      <list-item v="Tibet"/>
      <list-item v="Mongolie"/>
      <list-item v="Mongolie-Intérieure"/>
      <list-item v="Mandchourie"/>
      <list-item v="Chine"/>
      <list-item v="Anhui"/>
      <list-item v="Fujian"/>
      <list-item v="Gansu"/>
      <list-item v="Guangdong"/>
      <list-item v="Guizhou"/>
      <list-item v="Hebei"/>
      <list-item v="Heilongjiang"/>
      <list-item v="Henan"/>
      <list-item v="Hubei"/>
      <list-item v="Hunan"/>
      <list-item v="Hunan"/>
      <list-item v="Jiangsu"/>
      <list-item v="Jiangxi"/>
      <list-item v="Jilin"/>
      <list-item v="Liaoning"/>
      <list-item v="Qinghai"/>
      <list-item v="Shaanxi"/>
      <list-item v="Shanxi"/>
      <list-item v="Shandong"/>
      <list-item v="Sichuan"/>
      <list-item v="Yunnan"/>
      <list-item v="Zhejiang"/>
      <list-item v="Guangxi"/>
      <list-item v="Xinjiang"/>
      <list-item v="Corée"/>
      <list-item v="Corée du Nord"/>
      <list-item v="Corée du Sud"/>
      <list-item v="Japon"/>
      <list-item v="Viêtnam"/>
      <list-item v="Tonkin"/>
      <list-item v="Annam"/>
      <list-item v="Cochinchine"/>
      <list-item v="Cambodge"/>
      <list-item v="Birmanie"/>
      <list-item v="État Karen"/>
      <list-item v="Myanmar"/>
      <list-item v="Laos"/>
      <list-item v="Taïlande"/>
      <list-item v="Indonésie"/>
      <list-item v="Malaisie"/>
      <list-item v="Sarawak"/>
      <list-item v="Bornéo"/>
      <list-item v="Bangladesh"/>
      <list-item v="Sri-Lanka"/>
      <list-item v="Sri Lanka"/>
      <list-item v="Maroc"/>
      <list-item v="Numidie"/>
<!--      <list-item v="Canaries"/>  -->
      <list-item v="Mauritanie"/>
      <list-item v="Algérie"/>
      <list-item v="Tunisie"/>
      <list-item v="Libye"/>
      <list-item v="Égypte"/>
      <list-item v="Nubie"/>
      <list-item v="Burkina"/>
      <list-item v="Burkina Faso"/>
      <list-item v="Mali"/>
      <list-item v="Songhaï"/>
      <list-item v="Niger"/>
      <list-item v="Nigéria"/>
      <list-item v="Biafra"/>
      <list-item v="Soudan"/>
      <list-item v="Soudan du Sud"/>
      <list-item v="Tchad"/>
      <list-item v="Sénégal"/>
      <list-item v="Gambie"/>
      <list-item v="Sénégambie"/>
      <list-item v="Sierra Leone"/>
      <list-item v="Côte d'Ivoire"/>
      <list-item v="Ghana"/>
      <list-item v="Liberia"/>
      <list-item v="Togo"/>
      <list-item v="Guinée"/>
      <list-item v="Guinée-Bissau"/>
      <list-item v="Guinée équatoriale"/>
      <list-item v="Bénin"/>
      <list-item v="Cameroun"/>
      <list-item v="Gabon"/>
      <list-item v="Éthiopie"/>
      <list-item v="Abyssinie"/>
      <list-item v="Tigré"/>
      <list-item v="Amhara"/>
      <list-item v="Sidama"/>
      <list-item v="Érythrée"/>
      <list-item v="Somalie"/>
      <list-item v="Somaliland"/>
      <list-item v="Congo"/>
      <list-item v="Zaïre"/>
      <list-item v="Kivu"/>
      <list-item v="Nord-Kivu"/>
      <list-item v="Sud-Kivu"/>
      <list-item v="Katanga"/>
      <list-item v="Rwanda"/>
      <list-item v="Burundi"/>
      <list-item v="Ouganda"/>
      <list-item v="Kenya"/>
      <list-item v="Tanzanie"/>
      <list-item v="Serengeti"/>
      <list-item v="Tanganyika"/>
      <list-item v="Malawi"/>
      <list-item v="Lesotho"/>
      <list-item v="Transvaal"/>
      <list-item v="Botswana"/>
      <list-item v="Zimbabwe"/>
      <list-item v="Rhodésie"/>
      <list-item v="Namibie"/>
      <list-item v="Zambie"/>
      <list-item v="Swaziland"/>
      <list-item v="Eswatini"/>
      <list-item v="Angola"/>
      <list-item v="Mozambique"/>
      <list-item v="Groenland"/>
      <list-item v="Canada"/>
      <list-item v="Manitoba"/>
      <list-item v="Yukon"/>
      <list-item v="Ontario"/>
      <list-item v="Québec"/>
<!--      <list-item v="Nouveau-Brunswick"/> -->
      <list-item v="Saskatchewan"/>
      <list-item v="Nunavut"/>
<!--      <list-item v="États-Unis"/> -->
      <list-item v="Nouvelle-Orléans"/>
      <list-item v="Alabama"/>
      <list-item v="Alaska"/>
      <list-item v="Arkansas"/>
      <list-item v="Arizona"/>
      <list-item v="Californie"/>
      <list-item v="Silicon Valley"/>
      <list-item v="Basse-Californie"/>
      <list-item v="Caroline du Nord"/>
      <list-item v="Caroline du Sud"/>
      <list-item v="Connecticut"/>
      <list-item v="Dakota"/>
      <list-item v="Dakota du Nord"/>
      <list-item v="Dakota du Sud"/>
      <list-item v="Delaware"/>
      <list-item v="Floride"/>
      <list-item v="Idaho"/>
      <list-item v="Illinois"/>
      <list-item v="Iowa"/>
      <list-item v="Kansas"/>
      <list-item v="Kentucky"/>
      <list-item v="Louisiane"/>
      <list-item v="Maine"/>
      <list-item v="Maryland"/>
      <list-item v="Massachusetts"/>
      <list-item v="Michigan"/>
      <list-item v="Minnesota"/>
      <list-item v="Mississippi"/>
      <list-item v="Missouri"/>
      <list-item v="Montana"/>
      <list-item v="New Hampshire"/>
      <list-item v="New Jersey"/>
      <list-item v="Nebraska"/>
      <list-item v="Nevada"/>
      <list-item v="Montana"/>
      <list-item v="Oklahoma"/>
      <list-item v="Ohio"/>
      <list-item v="Oregon"/>
      <list-item v="Pennsylvanie"/>
      <list-item v="Tennessee"/>
      <list-item v="Texas"/>
      <list-item v="Utah"/>
      <list-item v="Vermont"/>
      <list-item v="Virginie"/>
      <list-item v="Virginie-Occidentale"/>
      <list-item v="Wisconsin"/>
      <list-item v="Mexique"/>
      <list-item v="Jamaïque"/>
      <list-item v="Belize"/>
      <list-item v="Guatemala"/>
      <list-item v="Honduras"/>
      <list-item v="Nicaragua"/>
      <list-item v="Costa Rica"/>
      <list-item v="Panama"/>
      <list-item v="Barbade"/>
<!--      <list-item v="Bahamas"/>  -->
      <list-item v="Colombie"/>
      <list-item v="Vénézuéla"/>
      <list-item v="Venezuela"/>
      <list-item v="Guadeloupe"/>
      <list-item v="Réunion"/>
      <list-item v="Martinique"/>
      <list-item v="Guyane"/>
      <list-item v="Surinam"/>
      <list-item v="Brésil"/>
      <list-item v="Équateur"/>
      <list-item v="Pérou"/>
      <list-item v="Nouvelle-Castille"/>
      <list-item v="Chili"/>
      <list-item v="Argentine"/>
      <list-item v="Bolivie"/>
      <list-item v="Paraguay"/>
      <list-item v="Uruguay"/>
    </def-list>

    <def-list n="fleuves_rivieres">	<!-- toponymes de fleuves et rivières avec déterminant en français et sans lui en occitan -->
      <list-item v="Adour"/>
      <list-item v="Allier"/>
      <list-item v="Ardèche"/>
      <list-item v="Aspe"/>
      <list-item v="Aude"/>
      <list-item v="Aveyron"/>
      <list-item v="Corrèze"/>
      <list-item v="Creuse"/>
      <list-item v="Dordogne"/>
      <list-item v="Isle"/>
      <list-item v="Drôme"/>
      <list-item v="Durance"/>
      <list-item v="Eure"/>
      <list-item v="Gard"/>
      <list-item v="Garonne"/>
      <list-item v="Gesso"/>
      <list-item v="Indre"/>
      <list-item v="Larboust"/>
      <list-item v="Loire"/>
      <list-item v="Loir"/>
      <list-item v="Lot"/>
      <list-item v="Maira"/>
      <list-item v="Nive"/>
      <list-item v="Pellice"/>
      <list-item v="Pesio"/>
      <list-item v="Pô"/>
      <list-item v="Rhône"/>
      <list-item v="Roya"/>
      <list-item v="Stura"/>
      <list-item v="Stura di Demonte"/>
      <list-item v="Tanaro"/>
      <list-item v="Tarn"/>
      <list-item v="Vernon"/>
      <list-item v="Vézère"/>
      <list-item v="Vienne"/>

      <list-item v="Loiret"/>
      <list-item v="Cher"/>
      <list-item v="Marne"/>
      <list-item v="Meuse"/>
      <list-item v="Moselle"/>
      <list-item v="Oise"/>
      <list-item v="Rhin"/>
      <list-item v="Saone"/>
      <list-item v="Seine"/>
      <list-item v="Tech"/>
      <list-item v="Têt"/>

      <list-item v="Adige"/>
      <list-item v="Amazone"/>
      <list-item v="Amou-Daria"/>
      <list-item v="Amour"/>
      <list-item v="Besòs"/>
      <list-item v="Boug"/>
      <list-item v="Brahmapoutre"/>
      <list-item v="Colorado"/>
      <list-item v="Congo"/>
      <list-item v="Danube"/>
      <list-item v="Daró"/>
      <list-item v="Dniepr"/>
      <list-item v="Dniestr"/>
      <list-item v="Dnipro"/>
      <list-item v="Don"/>
      <list-item v="Donets"/>
      <list-item v="Èbre"/>
      <list-item v="Elbe"/>
      <list-item v="Escaut"/>
      <list-item v="Euphrate"/>
      <list-item v="Fluvià"/>
      <list-item v="Gange"/>
      <list-item v="Granique"/>
      <list-item v="Huang He"/>
      <list-item v="Ienisseï"/>
      <list-item v="Indus"/>
      <list-item v="Jaxartes"/>
      <list-item v="Jourdain"/>
      <list-item v="Kama"/>
      <list-item v="Kola"/>
      <list-item v="Kouban"/>
      <list-item v="Koubane"/>
      <list-item v="Léna"/>
      <list-item v="Limpopo"/>
      <list-item v="Llobregat"/>
      <list-item v="Mississippi"/>
      <list-item v="Missouri"/>
      <list-item v="Moskova"/>
      <list-item v="Muga"/>
      <list-item v="Niger"/>
      <list-item v="Nil"/>
      <list-item v="Ob"/>
      <list-item v="Oder"/>
      <list-item v="Oka"/>
      <list-item v="Orénoque"/>
      <list-item v="Oxus"/>
      <list-item v="Parana"/>
      <list-item v="Potomac"/>
      <list-item v="Rubicon"/>
      <list-item v="Saint-Laurent"/>
      <list-item v="Sénégal"/>
      <list-item v="Syr-Daria"/>
      <list-item v="Ter"/>
      <list-item v="Terek"/>
      <list-item v="Tibre"/>
      <list-item v="Tigre"/>
      <list-item v="Tordera"/>
      <list-item v="Vistule"/>
      <list-item v="Volga"/>
      <list-item v="Yangtsé"/>
      <list-item v="Yang-Tsé"/>
      <list-item v="Yang-Tsé-Kiang"/>
      <list-item v="Yangzi"/>
      <list-item v="Yangzi Jiang"/>
      <list-item v="Zambèze"/>
    </def-list>

  </section-def-lists>

  <section-def-macros>
    <def-macro n="set_vbser" npar="0" v="oci">
          <let>
            <var n="v_vbser"/>
            <lit v="èsser"/>
          </let>
    </def-macro>

    <def-macro n="set_vbser" npar="0" v="oci@gascon">
          <let>
            <var n="v_vbser"/>
            <lit v="estar"/>
          </let>
    </def-macro>

    <def-macro n="set_vbfar" npar="0" v="oci">
          <let>
            <var n="v_vbfar"/>
            <lit v="far"/>
          </let>
    </def-macro>

    <def-macro n="set_vbfar" npar="0" v="oci@gascon">
          <let>
            <var n="v_vbfar"/>
            <lit v="har"/>
          </let>
    </def-macro>

    <def-macro n="set_qualqun" npar="0" v="oci">
          <let>
            <var n="v_qualqun"/>
            <lit v="qualqu'un"/>
          </let>
    </def-macro>

    <def-macro n="set_qualqun" npar="0" v="oci@gascon">
          <let>
            <var n="v_qualqun"/>
            <lit v="quauqu'un"/>
          </let>
    </def-macro>

    <def-macro n="set_degun" npar="0" v="oci">
          <let>
            <var n="v_degun"/>
            <lit v="degun"/>
          </let>
    </def-macro>

    <def-macro n="set_degun" npar="0" v="oci@gascon">
          <let>
            <var n="v_degun"/>
            <lit v="arrés"/>
          </let>
    </def-macro>

    <def-macro n="f_concord_bricolatge2" npar="2">
<!--Pedaç ad-hoc per solucionar problemes amb l'assignació del nombre a "nombreux prix" et sim. -->
      <choose>
        <when>
          <test>
            <and>
              <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="nombreux"/></equal>
              <equal><clip pos="1" side="sl" part="gen"/><lit-tag v="m"/></equal>
              <equal><clip pos="1" side="sl" part="nbr"/><lit-tag v="sp"/></equal>
              <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="ND"/></equal>
            </and>
          </test>
          <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></let>
          <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord_mantun2" npar="2"> <!--Si par1 = "mantun", alors tout au singulier-->
      <choose>
        <when>
          <test>
            <and>
              <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="mantun"/></equal>
              <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
            </and>
          </test>
          <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          <choose>
            <when>
              <test>
                <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
              </test>
              <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
            </when>
          </choose>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord_mantun3" npar="3"> <!--Si par1 = "mantun", alors tout au singulier-->
      <choose>
        <when>
          <test>
            <and>
              <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="mantun"/></equal>
              <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
            </and>
          </test>
          <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          <choose>
            <when>
              <test>
                <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
              </test>
              <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
              </test>
              <let><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></let>
            </when>
          </choose>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord_mantun4" npar="4"> <!--Si par1 = "mantun", alors tout au singulier-->
      <choose>
        <when>
          <test>
            <and>
              <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="mantun"/></equal>
              <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
            </and>
          </test>
          <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          <choose>
            <when>
              <test>
                <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
              </test>
              <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
              </test>
              <let><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <equal><clip pos="4" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
              </test>
              <let><clip pos="4" side="tl" part="nbr"/><lit-tag v="sg"/></let>
            </when>
          </choose>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord0" npar="1">
      <choose>
<!--To determine value of variables of gender and
                 number and propagate to other rules.  Variables are
                 not used again in this rule -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_genre_m_f" npar="2"> <!-- p1 = nom, p2 = det --> <!-- assigna a la variable genero_m_f una valor m o f de genre -->
      <choose>
        <when>
          <test>
            <or>
              <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></equal>
              <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></equal>
            </or>
          </test>
          <let><var n="genero_m_f"/><clip pos="1" side="tl" part="gen"/></let>
        </when>
        <otherwise>
          <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></equal>
                  <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="f"/></equal>
                </or>
              </test>
              <let><var n="genero_m_f"/><clip pos="2" side="tl" part="gen"/></let>
            </when>
            <otherwise>
              <let><var n="genero_m_f"/><var n="genero"/></let>
            </otherwise>
          </choose>
        </otherwise>
      </choose>
    </def-macro>

    <def-macro n="f_concord1" npar="1">
      <call-macro n="f_concord0"><with-param pos="1"/></call-macro>
      <choose>
        <when>
          <test>
<!-- If word has GD or ND, we try to assign the
              gender or number of the previous rule. If there is no
              value for the gender or number variable from previous
              rules, gender will be masculine and number singular.-->
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <choose>
            <when>
              <test>
                <equal>
                  <var n="genero"/>
                  <lit-tag v="f"/>
                </equal>
              </test>
              <let>
                <clip pos="1" side="tl" part="gen"/>
                <lit-tag v="f"/>
              </let>
            </when>
            <otherwise>
              <let>
                <clip pos="1" side="tl" part="gen"/>
                <lit-tag v="m"/>
              </let>
            </otherwise>
          </choose>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <choose>
            <when>
              <test>
                <equal>
                  <var n="numero"/>
                  <lit-tag v="pl"/>
                </equal>
              </test>
              <let>
                <clip pos="1" side="tl" part="nbr"/>
                <lit-tag v="pl"/>
              </let>
            </when>
            <otherwise>
              <let>
                <clip pos="1" side="tl" part="nbr"/>
                <lit-tag v="sg"/>
              </let>
            </otherwise>
          </choose>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord2" npar="2">

      <call-macro n="f_concord_bricolatge2">
        <with-param pos="1"/>
        <with-param pos="2"/>
      </call-macro>

      <choose>
        <when>
          <test>
<!-- do the main and second parameter gender agree?-->
            <and>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
<!-- do the main and second parameter number agree?-->
                  <clip pos="2" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concPrimero"/>
            <lit v="true"/>
          </let>
<!-- there is gender and number agreement-->
        </when>
        <otherwise>
          <let>
            <var n="concPrimero"/>
            <lit v="false"/>
          </let>
<!-- there isn't gender and number agreement-->
        </otherwise>
      </choose>
      <choose>
        <when>
          <test>
<!-- Propagate the main parameter gender if it has been modified during the translation  -->
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="GD"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
        <when>
          <test>
<!-- Propagate the main parameter number if it has been modified during the translation  -->
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="ND"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
        <when>
          <test>
<!-- Which is the rule general gender? -->
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="1" side="sl" part="gen"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="2" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="2" side="sl" part="gen"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </otherwise>
      </choose>
      <choose>
        <when>
<!-- Which is the rule general number? -->
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>

        <when>
          <test>
            <and>
            <equal>
              <clip pos="2" side="tl" part="a_num"/>
              <lit-tag v="num"/>
            </equal>
            <not>
            <equal>
              <clip pos="2" side="tl" part="lem"/>
              <lit v="1"/>
            </equal>
            </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>

        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="1" side="sl" part="nbr"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="2" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="2" side="sl" part="nbr"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Determine gender and number value if they are undetermined -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord3" npar="3">
      <choose>
<!-- Look whether in source language there is concordance between first and second element -->
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concPrimero"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concPrimero"/>
            <lit v="false"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Look whether in source language there is concordance between second and third element -->
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concSegundo"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concSegundo"/>
            <lit v="false"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Propagate the main parameter gender if it has been modified during the translation -->
        <when>
          <test>
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="GD"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="3" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="3" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="3" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concSegundo"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
<!-- Propagate the main parameter number if it has been modified during the translation -->
        <when>
          <test>
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="ND"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="3" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="3" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="3" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concSegundo"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
<!-- Determine the rule general gender. Priority order: main, second and third element -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="1" side="sl" part="gen"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="2" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="2" side="sl" part="gen"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="3" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="3" side="sl" part="gen"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Determine the rule general number. Priority order: main, second and third element -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="1" side="sl" part="nbr"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="2" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="2" side="sl" part="nbr"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="3" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="3" side="sl" part="nbr"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Assign values to GD and ND -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="3" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="3" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord3_sens_cambiaments_en_par3" npar="3">
      <choose>
<!-- Look whether in source language there is concordance between first and second element -->
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concPrimero"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concPrimero"/>
            <lit v="false"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Look whether in source language there is concordance between second and third element -->
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concSegundo"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concSegundo"/>
            <lit v="false"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Propagate the main parameter gender if it has been modified during the translation -->
        <when>
          <test>
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="GD"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="3" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="3" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="3" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concSegundo"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
<!--
              <let>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
-->
            </when>
          </choose>
        </when>
      </choose>
      <choose>
<!-- Propagate the main parameter number if it has been modified during the translation -->
        <when>
          <test>
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="ND"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="3" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="3" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="3" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concSegundo"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
<!-- Determine the rule general gender. Priority order: main, second and third element -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="1" side="sl" part="gen"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="2" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="2" side="sl" part="gen"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="3" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="3" side="sl" part="gen"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Determine the rule general number. Priority order: main, second and third element -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="1" side="sl" part="nbr"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="2" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="2" side="sl" part="nbr"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="3" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="3" side="sl" part="nbr"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Assign values to GD and ND -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="3" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="3" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord4" npar="4">
      <choose>
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concPrimero"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concPrimero"/>
            <lit v="false"/>
          </let>
        </otherwise>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concSegundo"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concSegundo"/>
            <lit v="false"/>
          </let>
        </otherwise>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="4" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="4" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
                  <clip pos="4" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="4" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concTercero"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concTercero"/>
            <lit v="false"/>
          </let>
        </otherwise>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="GD"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="3" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="3" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="3" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concSegundo"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="4" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="4" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="4" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concTercero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="ND"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="3" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="3" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="3" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concSegundo"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="4" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="4" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="4" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concTercero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </otherwise>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </otherwise>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="3" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="4" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="3" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="4" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_chunk_tags_gen" npar="1">
      <choose>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="gen"/><lit-tag v="m"/></equal>
          </test>
          <let><var n="genero_sl"/><lit-tag v="sl_m"/></let>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="gen"/><lit-tag v="f"/></equal>
          </test>
          <let><var n="genero_sl"/><lit-tag v="sl_f"/></let>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="gen"/><lit-tag v="mf"/></equal>
          </test>
          <let><var n="genero_sl"/><lit-tag v="sl_mf"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_chunk_tags_nbr" npar="1">
      <choose>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="nbr"/><lit-tag v="sg"/></equal>
          </test>
          <let><var n="numero_sl"/><lit-tag v="sl_sg"/></let>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="nbr"/><lit-tag v="pl"/></equal>
          </test>
          <let><var n="numero_sl"/><lit-tag v="sl_pl"/></let>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="nbr"/><lit-tag v="sp"/></equal>
          </test>
          <let><var n="numero_sl"/><lit-tag v="sl_sp"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_chunk_tags" npar="1">
      <call-macro n="f_chunk_tags_gen"><with-param pos="1"/></call-macro>
      <call-macro n="f_chunk_tags_nbr"><with-param pos="1"/></call-macro>
    </def-macro>

    <def-macro n="escriure_SAdv" npar="1">
      <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lem"/></let>
      <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
      <choose>
        <when>
          <test>
            <or>
              <equal><clip pos="1" side="tl" part="lem"/><lit v="abC"/></equal>
              <equal><clip pos="1" side="tl" part="lem"/><lit v="apC"/></equal>
            </or>
          </test>
          <out>
            <chunk namefrom="lemma">
              <tags>
                <tag><lit-tag v="SAdv"/></tag>
              </tags>
              <lu>
                <clip pos="1" side="tl" part="lem"/>
                <lit-tag v="adv"/>
              </lu>
            </chunk>
          </out>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="tl" part="a_adv"/><lit-tag v="adv.pas_neg"/></equal>
          </test>
          <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
          <out>
            <chunk namefrom="lemma" case="caseFirstWord">
              <tags>
                <tag><lit-tag v="SAdv"/></tag>
                <tag><lit-tag v="pas_neg"/></tag>
              </tags>
              <lu>
                <clip pos="1" side="tl" part="lem"/>
                <lit-tag v="adv"/>
              </lu>
            </chunk>
          </out>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="tl" part="a_adv"/><lit-tag v="adv.enon"/></equal>
          </test>
          <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
          <out>
            <chunk namefrom="lemma" case="caseFirstWord">
              <tags>
                <tag><lit-tag v="SAdv"/></tag>
                <tag><lit-tag v="enon"/></tag>
              </tags>
              <lu>
                <clip pos="1" side="tl" part="lem"/>
                <lit-tag v="adv"/>
              </lu>
            </chunk>
          </out>
        </when>
        <otherwise>
          <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
          <out>
            <chunk namefrom="lemma" case="caseFirstWord">
              <tags>
                <tag><lit-tag v="SAdv"/></tag>
              </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
            </chunk>
          </out>
        </otherwise>
      </choose>
    </def-macro>

    <def-macro n="escriure_prnpro_prnpro" npar="2" v="oci">
         <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lem"/></let>
         <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <choose>
           <when>
             <test>
               <and>
                 <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="y"/></equal>
                 <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="en"/></equal>
               </and>
             </test>
             <call-macro n="tipus_prn">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <chunk name="prn" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lem"/>
                   <clip pos="2" side="tl" part="tags"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="tipus_prn">
               <with-param pos="1"/>
             </call-macro>
             <let><var n="caseFirstWord"/><case-of pos="2" side="tl" part="lem"/></let>
             <out>
               <chunk name="prn" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <clip pos="1" side="tl" part="tags"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <call-macro n="tipus_prn">
               <with-param pos="1"/>
             </call-macro>
             <out>
               <chunk name="prn" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="tipus_prn">
               <with-param pos="2"/>
             </call-macro>
             <let><var n="caseFirstWord"/><case-of pos="2" side="tl" part="lem"/></let>
             <out>
               <chunk name="prn" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
    </def-macro>

    <def-macro n="escriure_prnpro_prnpro" npar="2" v="oci@gascon">
         <!-- cas 'le/la/les + lui/leur' : on inverse CD et CI -->
         <choose>
           <when>
             <test>
               <and>
                 <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="le"/></equal>
                 <or>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="lui"/></equal>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="leur"/></equal>
                 </or>
               </and>
             </test>
             <let><clip pos="1" side="tl" part="lem"/><lit v="lo"/></let>
             <choose>
               <when>
                 <test>
                   <equal><clip pos="1" side="sl" part="nbr"/><lit v=""/></equal>
                 </test>
                 <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m.sg"/></let>
               </when>
               <otherwise>
                 <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
                 <let><clip pos="1" side="tl" part="nbr"/><clip pos="2" side="sl" part="nbr"/></let>
               </otherwise>
             </choose>
             <let><clip pos="2" side="tl" part="lem"/><lit v="ac"/></let>
             <let><clip pos="2" side="tl" part="gen"/><lit-tag v="nt"/></let>
             <let><clip pos="2" side="tl" part="nbr"/><lit-tag v=""/></let>
           </when>
         </choose>
                 
         <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lem"/></let>
         <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <choose>
           <when>
             <test>
               <or>
                 <and> <!-- lo: prioritat 1 -->
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                   <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></equal>
                   <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                 </and>
                 <and> <!-- la: prioritat 2 -->
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                   <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="f"/></equal>
                   <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                   <not>
                     <and>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></equal>
                       <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                     </and>
                   </not>
                 </and>
                 <and> <!-- los: prioritat 3 -->
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                   <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></equal>
                   <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
                   <not>
                     <and>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                     </and>
                   </not>
                 </and>
                 <and> <!-- las: prioritat 4 -->
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                   <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="f"/></equal>
                   <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
                   <not>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="lo"/></equal>
                   </not>
                 </and>
                 <and> <!-- se: prioritat 5 -->
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="se"/></equal>
                   <not>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="lo"/></equal>
                   </not>
                 </and>
                 <and> <!-- te: prioritat 6 -->
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="te"/></equal>
                   <not>
                     <or>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="se"/></equal>
                     </or>
                   </not>
                 </and>
                 <and> <!-- vos: prioritat 7 -->
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="vos"/></equal>
                   <not>
                     <or>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="se"/></equal>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="te"/></equal>
                     </or>
                   </not>
                 </and>
                 <and> <!-- me: prioritat 8 -->
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="me"/></equal>
                   <not>
                     <or>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="se"/></equal>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="te"/></equal>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="vos"/></equal>
                     </or>
                   </not>
                 </and>
                 <and> <!-- nos: prioritat 9 -->
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="ne"/></equal>
                   <not>
                     <or>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="se"/></equal>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="te"/></equal>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="vos"/></equal>
                       <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="me"/></equal>
                     </or>
                   </not>
                 </and>
                 <and> <!-- ne: prioritat 10 -->
                   <or>
                     <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="ne"/></equal>
                     <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="en"/></equal>
                   </or>
                   <or>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="ac"/></equal>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="i"/></equal>
                   </or>
                 </and>
                 <and> <!-- ac: prioritat 11 -->
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="ac"/></equal>
                   <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="i"/></equal>
                 </and>
               </or>
             </test>
             <call-macro n="tipus_prn">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <chunk name="prn" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lem"/>
                   <clip pos="2" side="tl" part="tags"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="tipus_prn">
               <with-param pos="1"/>
             </call-macro>
             <let><var n="caseFirstWord"/><case-of pos="2" side="sl" part="lem"/></let>
             <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
             <out>
               <chunk name="prn" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <clip pos="1" side="tl" part="tags"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <call-macro n="tipus_prn">
               <with-param pos="1"/>
             </call-macro>
             <out>
               <chunk name="prn" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <clip pos="1" side="tl" part="tags"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="tipus_prn">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <chunk name="prn">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lem"/>
                   <clip pos="2" side="tl" part="tags"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
    </def-macro>

    <def-macro n="f_unset_nopron" npar="1"> <!-- elimina nopron a vblex.nopron -->
      <choose>
	<when>
	  <test>
	    <equal><clip pos="1" side="tl" part="a_verb_pron"/><lit-tag v="vblex.nopron"/></equal>
	  </test>
	  <let><clip pos="1" side="tl" part="a_verb_pron"/><lit-tag v="vblex"/></let>
	</when>
      </choose>
    </def-macro>

    <def-macro n="f_unset_capletter" npar="1"> 
          <choose>
            <when>
              <test>
                <equal>
                   <case-of pos="1" side="sl" part="lem"/>
                   <lit v="Aa"/>
                 </equal>
              </test>
              <modify-case>
                <clip pos="1" side="tl" part="lem"/>
                <lit v="aa"/>
              </modify-case>
            </when>
          </choose>
    </def-macro>

    <def-macro n="f_set_pron_pro" npar="3"> <!-- posa a la variable 'pronom' el pronom reflexiu que calgui si el verb és reflexiu. El segon paramàtre és la repetició del primer, si és una forma conjugada (personal) del verb, altrament és l'auxiliar; p3 = primièr mot per gestionar las majusculas -->
      <call-macro n="f_unset_nopron"><with-param pos="1"/></call-macro>
      <let>
        <var n="pronom"/>
        <lit v=""/>
      </let>
      <choose>
        <when>
          <test>
            <equal><clip pos="1" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
          </test>
          <choose>
            <when>
              <test>
                <not><or>
                <equal><clip pos="2" side="tl" part="pers"/><lit-tag v="p1"/></equal>
                <equal><clip pos="2" side="tl" part="pers"/><lit-tag v="p2"/></equal>
                </or></not>
              </test>
              <!-- ^prn<SPron><ref>{^se<prn><pro><ref><p3><mf><sp>$}$ -->
              <append n="pronom">
                <lit v="^"/>
                <get-case-from pos="3">
                  <lit v="prn"/>
                </get-case-from>
                <lit-tag v="SPron.ref"/>
                <lit v="{"/>
                <lit v="^"/>
                <lit v="se"/>
                <lit-tag v="prn.pro.ref.p3.mf.sp"/>
                <lit v="$"/>
                <lit v="}"/>
                <lit v="$"/>
              </append>
            </when>
            <otherwise>
              <append n="pronom">
                <lit v="^"/>
                <get-case-from pos="3">
                  <lit v="prn"/>
                </get-case-from>
                <lit-tag v="SPron.ref"/>
                <lit v="{"/>
                <lit v="^"/>
                <lit v="prpers"/>
                <lit-tag v="prn.pro"/>
                <clip pos="2" side="tl" part="pers"/>
                <lit-tag v="mf"/>
                <clip pos="1" side="tl" part="nbr"/>
                <lit v="$"/>
                <lit v="}"/>
                <lit v="$"/>
              </append>
            </otherwise>
          </choose>
          <!-- ara arreglem la majúscula del verb, si cal -->
          <call-macro n="f_unset_capletter"><with-param pos="1"/></call-macro>
          <let><clip pos="1" side="tl" part="a_verb_pron"/><lit-tag v="vblex"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_set_pron_pro_force" npar="2"> <!-- posa a la variable 'pronom' el pronom reflexiu que calgui, sabent que el verb és reflexiu; p2 = primièr mot per gestionar las majusculas -->
      <call-macro n="f_unset_nopron"><with-param pos="1"/></call-macro>
      <let>
        <var n="pronom"/>
        <lit v=""/>
      </let>
      <choose>
        <when>
          <test>
            <not><or>
            <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p1"/></equal>
            <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p2"/></equal>
            </or></not>
          </test>
          <!-- ^prn<SPron><ref>{^se<prn><pro><ref><p3><mf><sp>$}$ -->
          <append n="pronom">
            <lit v="^"/>
            <get-case-from pos="2">
              <lit v="prn"/>
            </get-case-from>
            <lit-tag v="SPron.ref"/>
            <lit v="{"/>
            <lit v="^"/>
            <lit v="se"/>
            <lit-tag v="prn.pro.ref.p3.mf.sp"/>
            <lit v="$"/>
            <lit v="}"/>
            <lit v="$"/>
          </append>
        </when>
        <otherwise>
          <append n="pronom">
            <lit v="^"/>
            <get-case-from pos="2">
              <lit v="prn"/>
            </get-case-from>
            <lit-tag v="SPron.ref"/>
            <lit v="{"/>
            <lit v="^"/>
            <lit v="prpers"/>
            <lit-tag v="prn.pro"/>
            <clip pos="1" side="tl" part="pers"/>
            <lit-tag v="mf"/>
            <clip pos="1" side="tl" part="nbr"/>
            <lit v="$"/>
            <lit v="}"/>
            <lit v="$"/>
          </append>
        </otherwise>
      </choose>
      <call-macro n="f_unset_capletter"><with-param pos="1"/></call-macro>
      <let><clip pos="1" side="tl" part="a_verb_pron"/><lit-tag v="vblex"/></let>
    </def-macro>

    <def-macro n="print_pron" npar="0"> <!-- escriu la variable 'pronom' -->
        <choose>
          <when>
            <test>
              <not><equal><var n="pronom"/><lit v=""/></equal></not>
            </test>
            <out>
              <var n="pronom"/>
              <b/>
            </out>
          </when>
        </choose>
    </def-macro>

    <def-macro n="f_set_pron_enc" npar="1"> <!-- posa a la variable 'pronom' el pronom reflexiu enclític 'es' si el verb és reflexiu -->
      <let>
        <var n="pronom"/>
        <lit v=""/>
      </let>
      <choose>
        <when>
          <test>
            <equal><clip pos="1" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p1"/></equal>
                  <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
              </test>
              <append n="pronom">
                <lit v="me"/>
                <lit-tag v="prn.enc"/>
                <clip pos="1" side="tl" part="pers"/>
                <lit-tag v="mf"/>
                <clip pos="1" side="tl" part="nbr"/>
              </append>        
            </when>
            <when>
              <test>
                <and>
                  <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p1"/></equal>
                  <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
                </and>
              </test>
              <append n="pronom">
                <lit v="nos"/>
                <lit-tag v="prn.enc"/>
                <clip pos="1" side="tl" part="pers"/>
                <lit-tag v="mf"/>
                <clip pos="1" side="tl" part="nbr"/>
              </append>        
            </when>
            <when>
              <test>
                <and>
                  <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p2"/></equal>
                  <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
              </test>
              <append n="pronom">
                <lit v="te"/>
                <lit-tag v="prn.enc"/>
                <clip pos="1" side="tl" part="pers"/>
                <lit-tag v="mf"/>
                <clip pos="1" side="tl" part="nbr"/>
              </append>        
            </when>
            <when>
              <test>
                <and>
                  <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p2"/></equal>
                  <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
                </and>
              </test>
              <append n="pronom">
                <lit v="vos"/>
                <lit-tag v="prn.enc"/>
                <clip pos="1" side="tl" part="pers"/>
                <lit-tag v="mf"/>
                <clip pos="1" side="tl" part="nbr"/>
              </append>        
            </when>
          </choose>
          <let><clip pos="1" side="tl" part="a_verb_pron"/><lit-tag v="vblex"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_itg" npar="1">
      <choose>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="a_pron"/><lit-tag v="itg"/></equal>
          </test>
          <let><var n="v_itg"/><lit-tag v="itg"/></let>
        </when>
        <otherwise>
          <let><var n="v_itg"/><lit-tag v="no_itg"/></let>
        </otherwise>
      </choose>
    </def-macro>

    <def-macro n="f_vchunk_name" npar="1"> <!-- Totes los vèrbs passan per aquí -->
      <!--
      <choose>
        <when>
          <test>
            <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="caler"/> </equal>
          </test>
          <let><var n="chunkname"/><lit v="caler"/></let>
        </when>
        <when>
          <test>
            <or>
              <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p1"/> </equal>
              <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p2"/> </equal>
              <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/> </equal>
            </or>
          </test>
          <choose>
            <when>
              <test>
	        <or>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="aver"/> </equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="auer"/> </equal>
	        </or>
              </test>
              <let><var n="chunkname"/><lit v="havercj"/></let>
            </when>
            <otherwise>
              <let><var n="chunkname"/><lit v="verbcj"/></let>
            </otherwise>
          </choose>
        </when>
        <otherwise>
          <let><var n="chunkname"/><lit v="verb"/></let>
        </otherwise>
      </choose>
      -->
      <let><var n="chunkname"/><clip pos="1" side="tl" part="lem"/></let>
    </def-macro>

    <def-macro n="tipus_verb" npar="1"> <!-- Totes los vèrbs passan per aquí -->
      <call-macro n="f_vchunk_name">
        <with-param pos="1"/>
      </call-macro>
      <choose>
        <when>
          <test>
          <or>
            <equal>
             <clip pos="1" side="tl" part="tv"/><lit-tag v="tv"/>
            </equal>
            <in caseless="yes">
             <clip pos="1" side="tl" part="lemh"/>
             <list n="verbs_amb_partitiu"/>
            </in>
          </or>
          </test>
          <choose>
            <when>
              <test>
                <equal>
                 <clip pos="1" side="tl" part="pron"/><lit-tag v="pron"/>
                </equal>
              </test>
              <let><var n="tipusverb"/><concat><lit-tag v="pron"/><lit-tag v="partitiu"/></concat></let>
            </when>
            <otherwise>
              <let><var n="tipusverb"/><lit-tag v="partitiu"/></let>
            </otherwise>
          </choose>
        </when>
        <otherwise>
          <let><var n="tipusverb"/><lit-tag v="normal"/></let>
        </otherwise>
      </choose>

      <!-- per evitar 'n'avait jamais été admis > èra pas jamai estats admés' -->
      <choose>
        <when>
          <test>
            <and>
              <equal><clip pos="1" side="sl" part="a_verb"/><lit-tag v="vbhaver"/></equal>
              <equal><clip pos="1" side="tl" part="a_verb"/><lit-tag v="vbser"/></equal>
            </and>
          </test>
          <let><var n="numero"/><clip pos="1" side="tl" part="nbr"/></let>
        </when>
      </choose>

      <!-- per evitar 'parle russe > parla russa' -->
      <!-- per evitar 'parlent français > parlan franceses' -->
      <choose>
        <when>
          <test>
            <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="parler"/></equal>
          </test>
          <let><var n="genero"/><lit-tag v="m"/></let>
          <let><var n="numero"/><lit-tag v="sg"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="tipus_det" npar="1"> <!-- tots els det passen per aqui -->
      <choose>
        <when>
          <test>
            <equal caseless="yes">
             <clip pos="1" side="sl" part="lem"/><lit v="aucun"/>
            </equal>
          </test>
          <let><var n="tipusdet"/><lit-tag v="aucun"/></let>
        </when>
        <otherwise>
          <let><var n="tipusdet"/><clip pos="1" side="sl" part="a_det2"/></let>
        </otherwise>
      </choose>
    </def-macro>

    <def-macro n="tipus_prn" npar="1"> <!-- tots els prn passen per aqui -->
      <choose>
        <when>
          <test>
            <equal caseless="yes">
             <clip pos="1" side="sl" part="lem"/><lit v="se"/>
            </equal>
          </test>
          <let><var n="tipusprn"/><lit-tag v="ref"/></let>
        </when>
        <otherwise>
          <let><var n="tipusprn"/><clip pos="1" side="tl" part="a_pron"/></let>
        </otherwise>
      </choose>
      <let><var n="tipusprn"/><concat><var n="tipusprn"/><clip pos="1" side="tl" part="a_pron_pas_neg"/></concat></let>
    </def-macro>

    <def-macro n="neg_imp" npar="1"> <!-- canvia imp per prs (negació) -->
      <choose>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="temps"/><lit-tag v="imp"/></equal>
          </test>
          <let><clip pos="1" side="tl" part="temps"/><lit-tag v="prs"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_maj_gentilici" npar="1">
<!-- si es tracta d'un gentilici, traiem la majúscula -->
<!-- p1 = det, p2 = n -->
      <choose>
        <when>
          <test>
            <and>
              <in caseless="yes">
                <clip pos="1" side="sl" part="lem"/>
                <list n="gentilici"/>
              </in>
              <equal>
                <case-of pos="1" side="sl" part="lem"/>
                <lit v="Aa"/>
              </equal>
            </and>
          </test>
          <modify-case>
            <clip pos="1" side="tl" part="lemh"/>
            <lit v="aa"/>
          </modify-case>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_bcond" npar="2"><!--Per mirar si el blanc conté o no format. Cal posar aquesta funció en les regles en què desaparegui alguna paraula, per tal de decidir si el blanc de la paraula eliminada s'ha d'eliminar o conservar. Si conté format cal conservar-la, si no en conté cal eliminar-la perquè no apareguin dos espais seguits. -->
      <choose>
        <when>
          <test>
            <not>
              <equal>
                <b pos="1"/>
                <lit v=" "/>
              </equal>
            </not>
          </test>
          <out>
            <b pos="1"/>
          </out>
        </when>
      </choose>
    </def-macro>

  </section-def-macros>

  <section-rules>

    <!-- RÈGLAS ACÒRDI -->

    <rule comment="RÈGLA: DET NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord_mantun2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord_mantun2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
       <choose>
          <when>
            <test>
              <or>
                <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sp"/></equal>
              </or>
            </test>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="a_det"/>
                  <lit-tag v="3"/>
                  <lit-tag v="4"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
        <out>
          <b pos="1"/>
          <chunk name="a">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="temps"/>
              <lit-tag v="2"/>
              <lit-tag v="3"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NPAL (les Calandretas > las Calandretas)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="npal"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="np">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM NPANT">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
        <pattern-item n="npantcog"/>
      </pattern>
      <action>
        <call-macro n="f_concord3_sens_cambiaments_en_par3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord_mantun2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM NPANT NPANT (l'universitaire Sylvie Dupont > l'universitària Sylvie Dupont)">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
      </pattern>
      <action>
        <call-macro n="f_concord3_sens_cambiaments_en_par3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord_mantun2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADV ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord_mantun2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
       <choose>
          <when>
            <test>
              <or>
                <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="sp"/></equal>
              </or>
            </test>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="a_det"/>
                  <lit-tag v="3"/>
                  <lit-tag v="4"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
        <choose>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="plus"/></equal>
                <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="moins"/></equal>
              </or>
            </test>
            <let><var n="temp"/><lit-tag v="SAcomp"/></let>
          </when>
          <otherwise>
            <let><var n="temp"/><lit-tag v="SA"/></let>
          </otherwise>
        </choose>
        <out>
          <b pos="1"/>
          <chunk name="adv_a">
            <tags>
              <tag><var n="temp"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <lit-tag v="2"/>
              <lit-tag v="3"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord_mantun3">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	        <clip pos="3" side="tl" part="gen"/>
	        <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>

      </action>
    </rule>

    <rule comment="RÈGLA: DET ADJ NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord_mantun3">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="1er"/></equal>
                  <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="premier"/></equal>
                </or>
                <in caseless="yes">
                  <clip pos="3" side="sl" part="lem"/>
                  <list n="mois"/>
                </in>
              </and>
            </test>
            <out>
              <chunk name="data">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_adj"/>
                  <clip pos="2" side="tl" part="a_verb"/>
                  <clip pos="2" side="tl" part="temps"/>
	          <clip pos="2" side="tl" part="gen"/>
	          <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <lit v="de"/>
                  <lit-tag v="pr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="siècle"/></equal>
                  <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="millennaire"/></equal>
                </or>
                <equal><clip pos="2" side="sl" part="gen"/><lit-tag v="mf"/></equal>
              </and>
            </test>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="n_num">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_adj"/>
                  <clip pos="2" side="tl" part="a_verb"/>
                  <clip pos="2" side="tl" part="temps"/>
	              <clip pos="2" side="tl" part="gen"/>
	              <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="siècle"/></equal>
                  <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="millennaire"/></equal>
                </or>
                <equal><clip pos="2" side="sl" part="lem"/><lit v="Ier"/></equal>
              </and>
            </test>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="n_num">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <lit v="I"/>
                  <lit-tag v="num.mf.sp"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <in caseless="yes"><clip pos="2" side="sl" part="lem"/><list n="adj_pre"/></in>
            </test>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="n_a">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_adj"/>
                  <clip pos="2" side="tl" part="a_verb"/>
                  <clip pos="2" side="tl" part="temps"/>
	          <clip pos="2" side="tl" part="gen"/>
	          <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="a_n">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_adj"/>
                  <clip pos="2" side="tl" part="a_verb"/>
                  <clip pos="2" side="tl" part="temps"/>
	          <clip pos="2" side="tl" part="gen"/>
	          <clip pos="2" side="tl" part="nbr"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NUM NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <in caseless="yes">
                <clip pos="3" side="sl" part="lem"/>
                <list n="mois"/>
              </in>
            </test>
            <out>
              <chunk name="data">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <lit v="de"/>
                  <lit-tag v="pr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
              </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="num_n">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="tags"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="tags"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                </chunk>
             </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NUM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="num_a">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	        <clip pos="3" side="tl" part="gen"/>
	        <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NUM ADJ NOM: les trois derniers mois > los darrièrs tres meses">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="4"/>
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <choose>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="premier"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="dernier"/></equal>
              </or>
            </test>
            <out>
             <chunk name="a_num_n">
               <tags>
                 <tag><lit-tag v="SN"/></tag>
                 <tag><clip pos="4" side="tl" part="gen"/></tag>
                 <tag><clip pos="4" side="tl" part="nbr"/></tag>
                 <tag><var n="genero_sl"/></tag>
                 <tag><var n="numero_sl"/></tag>
               </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_adj"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="gen"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
              <chunk name="num_a_n">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="tags"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="a_adj"/>
                    <clip pos="3" side="tl" part="a_verb"/>
                    <clip pos="3" side="tl" part="temps"/>
                    <clip pos="3" side="tl" part="gen"/>
                    <clip pos="3" side="tl" part="nbr"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                  <b pos="3"/>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="tags"/>
                    <clip pos="4" side="tl" part="lemq"/>
                  </lu>
                </chunk>
             </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM ADJ ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_concord_mantun4">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_a_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	        <clip pos="3" side="tl" part="gen"/>
	        <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
	        <clip pos="4" side="tl" part="gen"/>
	        <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM ADJ CNJCOO ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_concord_mantun4">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_a_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	        <clip pos="3" side="tl" part="gen"/>
	        <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="whole"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
	        <clip pos="5" side="tl" part="gen"/>
	        <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADJ NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_concord_mantun4">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="a_n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
	        <clip pos="2" side="tl" part="gen"/>
	        <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
	        <clip pos="4" side="tl" part="gen"/>
	        <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NUM NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="4"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <in caseless="yes">
                <clip pos="3" side="sl" part="lem"/>
                <list n="mois"/>
              </in>
            </test>
            <out>
              <chunk name="data">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <lit v="de"/>
                  <lit-tag v="pr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="a_adj"/>
                  <clip pos="4" side="tl" part="a_verb"/>
                  <clip pos="4" side="tl" part="temps"/>
	              <clip pos="4" side="tl" part="gen"/>
	              <clip pos="4" side="tl" part="nbr"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="num_n_a">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="tags"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="tags"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                  <b pos="3"/>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="a_adj"/>
                    <clip pos="4" side="tl" part="a_verb"/>
                    <clip pos="4" side="tl" part="temps"/>
	                <clip pos="4" side="tl" part="gen"/>
	                <clip pos="4" side="tl" part="nbr"/>
                    <clip pos="4" side="tl" part="lemq"/>
                  </lu>
                </chunk>
             </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM ADV ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_concord_mantun3">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_adv_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
	        <clip pos="4" side="tl" part="gen"/>
	        <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NOM DETDEF ADVCOMP ADJ (l'homme le plus haut > l'òme mai naut)">
      <pattern>
        <pattern-item n="detdef_pos"/>
        <pattern-item n="nom"/>
        <pattern-item n="detdef"/>
        <pattern-item n="compadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_adv_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
	        <clip pos="5" side="tl" part="gen"/>
	        <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NUM NOM DETDEF ADVCOMP ADJ (les deux hommes les plus hauts > los dos òmes mai nauts)">
      <pattern>
        <pattern-item n="detdef_pos"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
        <pattern-item n="detdef"/>
        <pattern-item n="compadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_adv_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="tags"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="6" side="tl" part="lemh"/>
                <clip pos="6" side="tl" part="a_adj"/>
                <clip pos="6" side="tl" part="a_verb"/>
                <clip pos="6" side="tl" part="temps"/>
                <clip pos="6" side="tl" part="gen"/>
                <clip pos="6" side="tl" part="nbr"/>
                <clip pos="6" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADV ADJ NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="4"/>
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord_mantun3">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="adv_a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	        <clip pos="3" side="tl" part="gen"/>
	        <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM ADJ ADV ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_concord_mantun4">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_adj_adv_adj">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	        <clip pos="3" side="tl" part="gen"/>
	        <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
	        <clip pos="5" side="tl" part="gen"/>
	        <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADJ NOM ADV ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_concord_mantun4">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="adj_n_adv_adj">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
	        <clip pos="2" side="tl" part="gen"/>
	        <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
	        <clip pos="5" side="tl" part="gen"/>
	        <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADV ADJ NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="4"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_concord_mantun4">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="adv_adj_n_adj">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	        <clip pos="3" side="tl" part="gen"/>
	        <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
	        <clip pos="5" side="tl" part="gen"/>
	        <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

   <rule comment="RÈGLA: TOUS LES temps (tous les jours > cada jorn)">
      <pattern>
        <pattern-item n="tous_predet"/>
        <pattern-item n="detdef"/>
        <pattern-item n="temps_jour_mois"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
            </test>
            <let><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          </when>
        </choose>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="cada"/>
              </get-case-from>
              <lit-tag v="det.ind.mf.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
         <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
      </action>
    </rule>

   <rule comment="RÈGLA: TOUS LES NUM temps (tous les trois jours > cada tres jorns)">
      <pattern>
        <pattern-item n="tous_predet"/>
        <pattern-item n="detdef"/>
        <pattern-item n="num"/>
        <pattern-item n="temps_jour_mois"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="4"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="cada"/>
              </get-case-from>
              <lit-tag v="det.ind.mf.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
         <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
      </action>
    </rule>

   <rule comment="RÈGLA: TOUS LES JOUR_N PART_JOUR (tous les lundi matin > cada diluns de matin)">
      <pattern>
        <pattern-item n="tous_predet"/>
        <pattern-item n="detdef"/>
        <pattern-item n="jour_n"/>
        <pattern-item n="part_jour"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
            </test>
            <let><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          </when>
        </choose>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="cada"/>
              </get-case-from>
              <lit-tag v="det.ind.mf.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: TOUS LES JOUR_N ET JOUR_N PART_JOUR (tous les mercredis et dimanches matin > cada dimècres e dimenge de matin)">
      <pattern>
        <pattern-item n="tous_predet"/>
        <pattern-item n="detdef"/>
        <pattern-item n="jour_n"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="jour_n"/>
        <pattern-item n="part_jour"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="5"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
            </test>
            <let><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          </when>
        </choose>
        <choose>
          <when>
            <test>
              <equal><clip pos="5" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
            </test>
            <let><clip pos="5" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          </when>
        </choose>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="cada"/>
              </get-case-from>
              <lit-tag v="det.ind.mf.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
            <b pos="4"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b pos="5"/>
            <lu>
              <clip pos="6" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: TOUS LES temps ET temps (tous les mercredis et dimanches > cada dimècres e dimenge)">
      <pattern>
        <pattern-item n="tous_predet"/>
        <pattern-item n="detdef"/>
        <pattern-item n="temps_jour_mois"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="temps_jour_mois"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="5"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
            </test>
            <let><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          </when>
        </choose>
        <choose>
          <when>
            <test>
              <equal><clip pos="5" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
            </test>
            <let><clip pos="5" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          </when>
        </choose>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="cada"/>
              </get-case-from>
              <lit-tag v="det.ind.mf.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
         <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: PREDET DET NOM">
      <pattern>
        <pattern-item n="predet"/>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="d_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREDET DET NOM ADJ">
      <pattern>
        <pattern-item n="predet"/>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="4"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="d_n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREDET DET ADJ NOM">
      <pattern>
        <pattern-item n="predet"/>
        <pattern-item n="det"/>
        <pattern-item n="adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="4"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <out>
          <chunk name="d_a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="a_nom"/>
                <clip pos="1" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ NOM">
      <pattern>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_itg">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="1er"/></equal>
                  <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="premier"/></equal>
                </or>
                <in caseless="yes">
                  <clip pos="2" side="sl" part="lem"/>
                  <list n="mois"/>
                </in>
              </and>
            </test>
            <out>
              <chunk name="data">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <lit v="de"/>
                  <lit-tag v="pr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="siècle"/></equal>
                  <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="millénaire"/></equal>
                </or>
                <equal><clip pos="1" side="sl" part="gen"/><lit-tag v="mf"/></equal>
              </and>
            </test>
            <out>
              <chunk name="n_num">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="a_n">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                  <tag><var n="v_itg"/></tag>
                </tags>
                  <lu>
                    <clip pos="1" side="tl" part="lemh"/>
                    <clip pos="1" side="tl" part="a_adj"/>
                    <clip pos="1" side="tl" part="a_verb"/>
                    <clip pos="1" side="tl" part="temps"/>
	                <clip pos="1" side="tl" part="gen"/>
	                <clip pos="1" side="tl" part="nbr"/>
                    <clip pos="1" side="tl" part="lemq"/>
                  </lu>
                  <b pos="1"/>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="tags"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                </chunk>
             </out>
           </otherwise>
         </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM NOM">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <in caseless="yes">
                <clip pos="2" side="sl" part="lem"/>
                <list n="mois"/>
              </in>
            </test>
            <out>
              <chunk name="data">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <lit v="de"/>
                  <lit-tag v="pr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
              </out>
          </when>
          <otherwise>
            <out>
              <chunk name="num_n">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                  <lu>
                    <clip pos="1" side="tl" part="lemh"/>
                    <clip pos="1" side="tl" part="tags"/>
                    <clip pos="1" side="tl" part="lemq"/>
                  </lu>
                  <b pos="1"/>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="tags"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                </chunk>
             </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM ADJ ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_a_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
	            <clip pos="2" side="tl" part="gen"/>
	            <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	            <clip pos="3" side="tl" part="gen"/>
	            <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ NOM ADJ">
      <pattern>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_itg">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="a_n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="v_itg"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="a_adj"/>
                <clip pos="1" side="tl" part="a_verb"/>
                <clip pos="1" side="tl" part="temps"/>
	            <clip pos="1" side="tl" part="gen"/>
	            <clip pos="1" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	            <clip pos="3" side="tl" part="gen"/>
	            <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ ADJ NOM">
      <pattern>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_itg">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="a_a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="v_itg"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="a_adj"/>
                <clip pos="1" side="tl" part="a_verb"/>
                <clip pos="1" side="tl" part="temps"/>
	            <clip pos="1" side="tl" part="gen"/>
	            <clip pos="1" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
	            <clip pos="2" side="tl" part="gen"/>
	            <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ ADJ NOM ADJ">
      <pattern>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="4"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_itg">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="a_a_n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="v_itg"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="a_adj"/>
                <clip pos="1" side="tl" part="a_verb"/>
                <clip pos="1" side="tl" part="temps"/>
	            <clip pos="1" side="tl" part="gen"/>
	            <clip pos="1" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
	            <clip pos="2" side="tl" part="gen"/>
	            <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM NOM ADJ">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="num_n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	        <clip pos="3" side="tl" part="gen"/>
	        <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM ADJ NOM">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="num_a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
	            <clip pos="2" side="tl" part="gen"/>
	            <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM ADV ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_adv_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	        <clip pos="3" side="tl" part="gen"/>
	        <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADV ADJ NOM">
      <pattern>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="adv_a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
	        <clip pos="2" side="tl" part="gen"/>
	        <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADV ADJ NOM ADJ">
      <pattern>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="4"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="adv_a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
	        <clip pos="2" side="tl" part="gen"/>
	        <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: EN NOM (en français > en francés - per evitar 'en francesa')">
      <pattern>
        <pattern-item n="enprep"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <choose>
          <when>
            <test>
              <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="GD"/></equal>
            </test>
            <let><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></let>
          </when>
        </choose>
        <choose>
          <when>
            <test>
              <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="ND"/></equal>
            </test>
            <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          </when>
        </choose>
        <out>
          <chunk name="en_n">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: EN NOM ADJ">
      <pattern>
        <pattern-item n="enprep"/>
        <pattern-item n="nom"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <choose>
          <when>
            <test>
              <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="GD"/></equal>
            </test>
            <let><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></let>
          </when>
        </choose>
        <choose>
          <when>
            <test>
              <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="ND"/></equal>
            </test>
            <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
          </when>
        </choose>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="en_n_adj">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord_mantun2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_concord_mantun3">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
	            <clip pos="4" side="tl" part="gen"/>
	            <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>

      </action>
    </rule>

    <rule comment="RÈGLA: DET « ADJ NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="4"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord_mantun3">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="1er"/></equal>
                  <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="premier"/></equal>
                </or>
                <in caseless="yes">
                  <clip pos="4" side="sl" part="lem"/>
                  <list n="mois"/>
                </in>
              </and>
            </test>
            <out>
              <chunk name="data">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="a_adj"/>
                  <clip pos="3" side="tl" part="a_verb"/>
                  <clip pos="3" side="tl" part="temps"/>
	              <clip pos="3" side="tl" part="gen"/>
	              <clip pos="3" side="tl" part="nbr"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <lit v="de"/>
                  <lit-tag v="pr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="siècle"/></equal>
                  <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="millennaire"/></equal>
                </or>
                <equal><clip pos="3" side="sl" part="gen"/><lit-tag v="mf"/></equal>
              </and>
            </test>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="n_num">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="a_adj"/>
                  <clip pos="3" side="tl" part="a_verb"/>
                  <clip pos="3" side="tl" part="temps"/>
	              <clip pos="3" side="tl" part="gen"/>
	              <clip pos="3" side="tl" part="nbr"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="siècle"/></equal>
                  <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="millennaire"/></equal>
                </or>
                <equal><clip pos="3" side="sl" part="lem"/><lit v="Ier"/></equal>
              </and>
            </test>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="n_num">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <lit v="I"/>
                  <lit-tag v="num.mf.sp"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <in caseless="yes"><clip pos="3" side="sl" part="lem"/><list n="adj_pre"/></in>
            </test>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="n_a">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="a_adj"/>
                  <clip pos="3" side="tl" part="a_verb"/>
                  <clip pos="3" side="tl" part="temps"/>
	              <clip pos="3" side="tl" part="gen"/>
	              <clip pos="3" side="tl" part="nbr"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="a_n">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="a_adj"/>
                  <clip pos="3" side="tl" part="a_verb"/>
                  <clip pos="3" side="tl" part="temps"/>
	              <clip pos="3" side="tl" part="gen"/>
	              <clip pos="3" side="tl" part="nbr"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM ADJ ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_concord_mantun4">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_a_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
	            <clip pos="4" side="tl" part="gen"/>
	            <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
	            <clip pos="5" side="tl" part="gen"/>
	            <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM »">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
        <pattern-item n="guillemet_droit"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord_mantun2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM » ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
        <pattern-item n="guillemet_droit"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_concord_mantun3">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="whole"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
	            <clip pos="5" side="tl" part="gen"/>
	            <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM » ADJ ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
        <pattern-item n="guillemet_droit"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="5"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="f_concord_mantun4">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="5"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_a_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
            <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
	            <clip pos="5" side="tl" part="gen"/>
	            <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
              <b pos="5"/>
              <lu>
                <clip pos="6" side="tl" part="lemh"/>
                <clip pos="6" side="tl" part="a_adj"/>
                <clip pos="6" side="tl" part="a_verb"/>
                <clip pos="6" side="tl" part="temps"/>
	            <clip pos="6" side="tl" part="gen"/>
	            <clip pos="6" side="tl" part="nbr"/>
                <clip pos="6" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF NOM">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF ADJ">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_itg">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="a">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="v_itg"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <lit-tag v="2"/>
              <lit-tag v="3"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF PP">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="pp"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><lit-tag v="pp"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="temps"/>
              <lit-tag v="3"/>
              <lit-tag v="4"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF NOM ADJ">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="whole"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_nom"/>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM PREF ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="pref"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="a_nom"/>
                <clip pos="1" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF ADJ NOM">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_itg">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="v_itg"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="temps"/>
	          <clip pos="2" side="tl" part="gen"/>
	          <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ PREF NOM">
      <pattern>
        <pattern-item n="adjec"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_itg">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="v_itg"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_adj"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="temps"/>
	          <clip pos="1" side="tl" part="gen"/>
	          <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM PREF NOM">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="num_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF NOM ADJ ADJ">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_a_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="whole"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	            <clip pos="3" side="tl" part="gen"/>
	            <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
	            <clip pos="4" side="tl" part="gen"/>
	            <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM PREF ADJ ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="pref"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_a_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
	            <clip pos="3" side="tl" part="gen"/>
	            <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
	            <clip pos="4" side="tl" part="gen"/>
	            <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM ADJ PREF ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="pref"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_a_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
	            <clip pos="2" side="tl" part="gen"/>
	            <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="whole"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
	            <clip pos="4" side="tl" part="gen"/>
	            <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET PREF NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord_mantun2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET PREF NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_concord_mantun3">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
	            <clip pos="4" side="tl" part="gen"/>
	            <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>

      </action>
    </rule>

    <rule comment="RÈGLA: DET PREF ADJ NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="pref"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="4"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord_mantun3">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <in caseless="yes"><clip pos="3" side="sl" part="lem"/><list n="adj_pre"/></in>
            </test>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="n_a">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="a_adj"/>
                  <clip pos="3" side="tl" part="a_verb"/>
                  <clip pos="3" side="tl" part="temps"/>
	              <clip pos="3" side="tl" part="gen"/>
	              <clip pos="3" side="tl" part="nbr"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="a_n">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="a_adj"/>
                  <clip pos="3" side="tl" part="a_verb"/>
                  <clip pos="3" side="tl" part="temps"/>
	              <clip pos="3" side="tl" part="gen"/>
	              <clip pos="3" side="tl" part="nbr"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DET PREF NOM ADJ ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_concord_mantun4">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n_a_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
	            <clip pos="4" side="tl" part="gen"/>
	            <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
	            <clip pos="5" side="tl" part="gen"/>
	            <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS ACÒRDI -->


    <!-- RÈGLAS MÊME -->

    <rule comment="RÈGLA: MÊME DET NOM > DET QUITE NOM">
      <pattern>
        <pattern-item n="meme_adv"/>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_genre_m_f">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="2" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <lit v="quite"/>
              </get-case-from>
              <lit-tag v="adj"/>
              <var n="genero_m_f"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: MÊME NUM NOM > NUM QUITE NOM">
      <pattern>
        <pattern-item n="meme_adv"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_genre_m_f">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="num_a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="2" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <lit v="quite"/>
              </get-case-from>
              <lit-tag v="adj"/>
              <var n="genero_m_f"/>
              <lit-tag v="pl"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: MÊME DET NOM ADJ > DET QUITE NOM ADJ">
      <pattern>
        <pattern-item n="meme_adv"/>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="f_genre_m_f">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="4"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="2" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="a_n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <lit v="quite"/>
              </get-case-from>
              <lit-tag v="adj"/>
              <var n="genero_m_f"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: MÊME NUM NOM ADJ > NUM QUITE NOM ADJ">
      <pattern>
        <pattern-item n="meme_adv"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="f_genre_m_f">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="4"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_a_n_a">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="2" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <lit v="quite"/>
              </get-case-from>
              <lit-tag v="adj"/>
              <var n="genero_m_f"/>
              <lit-tag v="pl"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: MÊME DET NUM NOM">
      <pattern>
        <pattern-item n="meme_adv"/>
        <pattern-item n="det"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_genre_m_f">
          <with-param pos="4"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="4"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="2" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="a_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <lit v="quite"/>
              </get-case-from>
              <lit-tag v="adj"/>
              <var n="genero_m_f"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS MÊME -->


    <!-- RÈGLAS -CI/-LÀ -->

    <rule comment="RÈGLA: CE NOM CI (cette fois-ci > aqueste còp)">
      <pattern>
        <pattern-item n="ce_det"/>
        <pattern-item n="nom"/>
        <pattern-item n="ci_adv"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><clip pos="1" side="tl" part="lem"/><lit v="aqueste"/></let>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CE NOM LÀ (cette fois-là > aquel còp)">
      <pattern>
        <pattern-item n="ce_det"/>
        <pattern-item n="nom"/>
        <pattern-item n="la_adv"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREDET CE NOM CI (tout ce jour-ci > tot aqueste jorn)">
      <pattern>
        <pattern-item n="predet"/>
        <pattern-item n="ce_det"/>
        <pattern-item n="nom"/>
        <pattern-item n="ci_adv"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="2"/>
        </call-macro>
        <let><clip pos="2" side="tl" part="lem"/><lit v="aqueste"/></let>
        <out>
          <chunk name="d_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREDET CE NOM LÀ (tout ce jour-là > tot aquel jorn)">
      <pattern>
        <pattern-item n="predet"/>
        <pattern-item n="ce_det"/>
        <pattern-item n="nom"/>
        <pattern-item n="la_adv"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="d_n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS -CI/-LÀ -->


    <!-- RÈGLAS TOP -->

    <rule comment="RÈGLA: DETDEF NPTOP (la France > França, les États-Unis > los Estats Units)">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <or>
                <in><clip pos="2" side="sl" part="lem"/><list n="pays"/></in>
                <in><clip pos="2" side="sl" part="lem"/><list n="fleuves_rivieres"/></in>
              </or>
            </test>
            <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
            <out>
              <chunk name="nptop">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det-nptop">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NPTOP ADJ (la Grèce ancienne > la Grècia antica)">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="nptop"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det-nptop-adj">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF ADJ NPTOP (l'ancienne Grèce > l'antica Grècia)">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="adj"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="det-adj-nptop">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

<!-- calen mai d'ajustaments per empachar errors
    <rule comment="RÈGLA: NPTOP ADJ (Alpes autrichiennes > Alps austrians)">
      <pattern>
        <pattern-item n="nptop"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="nptop-adj">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ NPTOP (Hautes Alpes > Nauts Alps)">
      <pattern>
        <pattern-item n="adj"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="nptop-adj">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>
-->

    <!-- FIN RÈGLAS TOP -->


    <!-- RÈGLAS HORAS -->

   <rule comment="RÈGLA: IL EST UNE HEURE (il est une heure > es una ora)" v="oci">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="vbserp3sg"/>
        <pattern-item n="un_det"/>
        <pattern-item n="heure"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="4"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="set_vbser"></call-macro>
        <out>
           <chunk name="vbser">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <get-case-from pos="1">
                 <var n="v_vbser"/>
               </get-case-from>
               <lit-tag v="vbser"/>
               <clip pos="2" side="tl" part="temps"/>
               <lit-tag v="p3"/>
               <lit-tag v="sg"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk name="num_n">
             <tags>
               <tag><lit-tag v="SN"/></tag>
               <tag><clip pos="4" side="tl" part="gen"/></tag>
               <tag><clip pos="4" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: IL EST UNE HEURE (il est une heure > ei l'ua òra)" v="oci@gascon">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="vbserp3sg"/>
        <pattern-item n="un_det"/>
        <pattern-item n="heure"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="4"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="set_vbser"></call-macro>
        <out>
           <chunk name="vbser">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <get-case-from pos="1">
                 <var n="v_vbser"/>
               </get-case-from>
               <lit-tag v="vbser"/>
               <clip pos="2" side="tl" part="temps"/>
               <lit-tag v="p3"/>
               <lit-tag v="sg"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk name="det_num_n">
             <tags>
               <tag><lit-tag v="SN"/></tag>
               <tag><clip pos="4" side="tl" part="gen"/></tag>
               <tag><clip pos="4" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <lit v="lo"/>
               <lit-tag v="det.def.f.sg"/>
             </lu>
             <b/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: IL EST NUM HEURE (il est deux heures > son doas oras)">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="vbserp3sg"/>
        <pattern-item n="num"/>
        <pattern-item n="heure"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="4"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="set_vbser"></call-macro>
        <out>
           <chunk name="vbser">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <get-case-from pos="1">
                 <var n="v_vbser"/>
               </get-case-from>
               <lit-tag v="vbser"/>
               <clip pos="2" side="tl" part="temps"/>
               <lit-tag v="p3"/>
               <lit-tag v="pl"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk name="num_n">
             <tags>
               <tag><lit-tag v="SN"/></tag>
               <tag><clip pos="4" side="tl" part="gen"/></tag>
               <tag><clip pos="4" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS HORAS -->


    <!-- RÈGLAS DATAS -->

   <rule comment="RÈGLA: NUMERAL MOIS NUM (20 novembre 1998: 20 de novembre de 1998)">
      <pattern>
        <pattern-item n="num_premier"/>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: DET NUMERAL MOIS NUM (le 20 novembre 1998: lo 20 de novembre de 1998)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num_premier"/>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: MOIS NUM (en novembre 1998: en novembre de 1998)">
      <pattern>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: DET MOIS NUM (le novembre 1998: lo novembre de 1998)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: EN MOIS NUM (en novembre 1998: en novembre de 1998)">
      <pattern>
        <pattern-item n="enprep"/>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <let><var n="numero"/><lit-tag v="sg"/></let>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="en-data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: il y a NUM temps > fa NUM temps" v="oci">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="y"/>
        <pattern-item n="vbhaver"/>
        <pattern-item n="num"/>
        <pattern-item n="unite_temps"/>
      </pattern>
      <action>
        <call-macro n="set_vbfar"></call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="5"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <var n="v_vbfar"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="pers"/>
              <clip pos="3" side="tl" part="nbr"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: il y a DETIND temps > fa DETIND temps" v="oci">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="y"/>
        <pattern-item n="vbhaver"/>
        <pattern-item n="detind"/>
        <pattern-item n="unite_temps"/>
      </pattern>
      <action>
        <call-macro n="set_vbfar"></call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="5"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <var n="v_vbfar"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="pers"/>
              <clip pos="3" side="tl" part="nbr"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: il y a COMPADV DE NUM temps > fa COMPADV DE NUM temps (il y a plus d'un an > fa mai d'un an)" v="oci">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="y"/>
        <pattern-item n="vbhaver"/>
		<pattern-item n="compadv"/>
        <pattern-item n="deprep"/>
        <pattern-item n="un_num"/>
        <pattern-item n="unite_temps"/>
      </pattern>
      <action>
        <call-macro n="set_vbfar"></call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="7"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <var n="v_vbfar"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="pers"/>
              <clip pos="3" side="tl" part="nbr"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
            <b pos="5"/>
            <lu>
              <clip pos="6" side="tl" part="lemh"/>
              <clip pos="6" side="tl" part="tags"/>
              <clip pos="6" side="tl" part="lemq"/>
            </lu>
            <b pos="6"/>
            <lu>
              <clip pos="7" side="tl" part="lemh"/>
              <clip pos="7" side="tl" part="tags"/>
              <clip pos="7" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: il y a longtemps > fa temps" v="oci">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="y"/>
        <pattern-item n="vbhaver"/>
        <pattern-item n="longtemps"/>
      </pattern>
      <action>
        <call-macro n="set_vbfar"></call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <var n="v_vbfar"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="pers"/>
              <clip pos="3" side="tl" part="nbr"/>
            </lu>
            <b pos="3"/>
            <lu>
              <get-case-from pos="3">
                <lit v="temps"/>
              </get-case-from>
              <lit-tag v="n.m.sg"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: il y a NUM temps > NUM temps a" v="oci@gascon">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="y"/>
        <pattern-item n="vbhaver"/>
        <pattern-item n="num"/>
        <pattern-item n="unite_temps"/>
      </pattern>
      <action>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="5"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="4" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: il y a DETIND temps > DETIND temps a" v="oci@gascon">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="y"/>
        <pattern-item n="vbhaver"/>
        <pattern-item n="detind"/>
        <pattern-item n="unite_temps"/>
      </pattern>
      <action>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="5"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="4" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: il y a COMPADV DE NUM temps > COMPADV DE NUM temps a (il y a plus d'un a > mei d'un an a)" v="oci@gascon">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="y"/>
        <pattern-item n="vbhaver"/>
		<pattern-item n="compadv"/>
        <pattern-item n="deprep"/>
        <pattern-item n="un_num"/>
        <pattern-item n="unite_temps"/>
      </pattern>
      <action>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="7"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="4" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="6" side="tl" part="lemh"/>
              <clip pos="6" side="tl" part="tags"/>
              <clip pos="6" side="tl" part="lemq"/>
            </lu>
            <b pos="5"/>
            <lu>
              <clip pos="7" side="tl" part="lemh"/>
              <clip pos="7" side="tl" part="tags"/>
              <clip pos="7" side="tl" part="lemq"/>
            </lu>
            <b pos="6"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: il y a NUM temps QUE > har NUM temps QUI (il y a un a que > hè un an qui)" v="oci@gascon">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="y"/>
        <pattern-item n="vbhaver"/>
        <pattern-item n="un_num"/>
        <pattern-item n="unite_temps"/>
        <pattern-item n="que_rel"/>
      </pattern>
      <action>
        <call-macro n="set_vbfar"></call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="5"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="har">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="3" side="tl" part="temps"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <var n="v_vbfar"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="pers"/>
              <clip pos="3" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b pos="3"/>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="4" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="6"/>
        </out>
        <let><var n="lemma"/><clip pos="6" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="rel"/></tag>
            </tags>
            <lu>
              <clip pos="6" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: il y a COMPADV DE NUM temps QUE > har COMPADV DE NUM temps QUI (il y a plus d'un a que > hè mei d'un an qui)" v="oci@gascon">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="y"/>
        <pattern-item n="vbhaver"/>
		<pattern-item n="compadv"/>
        <pattern-item n="deprep"/>
        <pattern-item n="un_num"/>
        <pattern-item n="unite_temps"/>
        <pattern-item n="que_rel"/>
      </pattern>
      <action>
        <call-macro n="set_vbfar"></call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="7"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="har">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="3" side="tl" part="temps"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <var n="v_vbfar"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="pers"/>
              <clip pos="3" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b pos="3"/>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="4" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="6" side="tl" part="lemh"/>
              <clip pos="6" side="tl" part="tags"/>
              <clip pos="6" side="tl" part="lemq"/>
            </lu>
            <b pos="5"/>
            <lu>
              <clip pos="7" side="tl" part="lemh"/>
              <clip pos="7" side="tl" part="tags"/>
              <clip pos="7" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="6"/>
        </out>
        <let><var n="lemma"/><clip pos="8" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="rel"/></tag>
            </tags>
            <lu>
              <clip pos="8" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: il y a longtemps > bèth temps a" v="oci@gascon">
      <pattern>
        <pattern-item n="il"/>
        <pattern-item n="y"/>
        <pattern-item n="vbhaver"/>
        <pattern-item n="longtemps"/>
      </pattern>
      <action>
        <call-macro n="set_vbfar"></call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="bèth"/>
              </get-case-from>
              <lit-tag v="adj.m.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <get-case-from pos="3">
                <lit v="temps"/>
              </get-case-from>
              <lit-tag v="n.m.sg"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM temps durant > pendent NUM temps">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="unite_temps"/>
        <pattern-item n="durant_ger"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="pendent"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETIND temps durant > pendent DETIND temps">
      <pattern>
        <pattern-item n="detind"/>
        <pattern-item n="unite_temps"/>
        <pattern-item n="durant_ger"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="pendent"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETPOS vie_n durant > pendent PREDET DETPOS vie_n (ma vie durant > pendent tota ma vida)">
      <pattern>
        <pattern-item n="detpos"/>
        <pattern-item n="vie_nsg"/>
        <pattern-item n="durant_ger"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="pendent"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="1">
                 <lit v="tot"/>
              </get-case-from>
              <lit-tag v="predet.f.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREDET DETPOS vie_n durant > pendent PREDET DETPOS vie_n (toute ma vie durant > pendent tota ma vida)">
      <pattern>
        <pattern-item n="tout_predet"/>
        <pattern-item n="detpos"/>
        <pattern-item n="vie_nsg"/>
        <pattern-item n="durant_ger"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="temps">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="pendent"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: début MOIS (début janvier > a la debuta de genièr)" v="oci">
      <pattern>
        <pattern-item n="debut_n"/>
        <pattern-item n="nom_mois_an"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="a"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="debuta"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: début MOIS (début janvier > au començar de genèr)" v="oci@gascon">
      <pattern>
        <pattern-item n="debut_n"/>
        <pattern-item n="nom_mois_an"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="a"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.m.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="començar"/>
              <lit-tag v="n.m.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: PREP début MOIS (PREP début janvier > PREP la debuta de genièr)" v="oci">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="debut_n"/>
        <pattern-item n="nom_mois_an"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="debuta"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: PREP début MOIS (PREP début janvier > PREP lo començar de genèr)" v="oci@gascon">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="debut_n"/>
        <pattern-item n="nom_mois_an"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.m.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="començar"/>
              <lit-tag v="n.m.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: fin MOIS (fin janvier > a la fin de genièr)">
      <pattern>
        <pattern-item n="fin_n"/>
        <pattern-item n="nom_mois_an"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="a"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="fin"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: PREP fin MOIS (PREP fin janvier > PREP la fin de genièr)">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="fin_n"/>
        <pattern-item n="nom_mois_an"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="fin"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: début MOIS NUM (début janvier 2022 > a la debuta de genièr de 2022)" v="oci">
      <pattern>
        <pattern-item n="debut_n"/>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="a"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="debuta"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: début MOIS NUM (début janvier 2022 > au començar de genèr de 2022)" v="oci@gascon">
      <pattern>
        <pattern-item n="debut_n"/>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="a"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.m.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="començar"/>
              <lit-tag v="n.m.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: PREP début MOIS NUM (PREP début janvier 2022 > PREP la debuta de genièr 2022)" v="oci">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="debut_n"/>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="debuta"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: PREP début MOIS NUM (PREP début janvier 2022 > PREP lo començar de genèr e 2022)" v="oci@gascon">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="debut_n"/>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.m.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="començar"/>
              <lit-tag v="n.m.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: fin MOIS NUM (fin janvier 2020 > a la fin de genièr de 2020)">
      <pattern>
        <pattern-item n="fin_n"/>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="a"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="fin"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: PREP fin MOIS NUM (PREP fin janvier 2022 > PREP la fin de genièr de 2022)">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="fin_n"/>
        <pattern-item n="nom_mois"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="fin"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: MI-MOIS (mi-janvier > a la mitat de genièr)" v="oci">
      <pattern>
        <pattern-item n="mi-mois"/>
      </pattern>
      <action>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="a"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="mitat"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <lit-tag v="n.m.sg"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: MI-MOIS (mi-janvier > a la mieitat de genèr)" v="oci@gascon">
      <pattern>
        <pattern-item n="mi-mois"/>
      </pattern>
      <action>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="a"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="mieitat"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <lit-tag v="n.m.sg"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: PREP MI-MOIS (PREP mi-janvier > PREP a la mitat de genièr)" v="oci">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="mi-mois"/>
      </pattern>
      <action>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="mitat"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="lem"/>
              <lit-tag v="n.m.sg"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: PREP MI-MOIS (PREP mi-janvier > PREP lo mieitat de genèr)" v="oci@gascon">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="mi-mois"/>
      </pattern>
      <action>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="mieitat"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="lem"/>
              <lit-tag v="n.m.sg"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: DETDEF MI-MOIS (la mi-janvier > a la mitat de genièr)" v="oci">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="mi-mois"/>
      </pattern>
      <action>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="a"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="mitat"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="lem"/>
              <lit-tag v="n.m.sg"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: DETDEF MI-MOIS (la mi-janvier > a la mieitat de genèr)" v="oci@gascon">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="mi-mois"/>
      </pattern>
      <action>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="a"/>
              </get-case-from>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="mieitat"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="lem"/>
              <lit-tag v="n.m.sg"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: PREP DETDEF MI-MOIS (PREP la mi-janvier > PREP a la mitat de genièr)" v="oci">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="mi-mois"/>
      </pattern>
      <action>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="mitat"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="lem"/>
              <lit-tag v="n.m.sg"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: PREP DETDEF MI-MOIS (PREP la mi-janvier > PREP lo mieitat de genèr)" v="oci@gascon">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="mi-mois"/>
      </pattern>
      <action>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b/>
            <lu>
              <lit v="mieitat"/>
              <lit-tag v="n.f.sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="lem"/>
              <lit-tag v="n.m.sg"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: JOUR_N PART_JOUR (lundi matin > diluns de matin)" v="oci">
      <pattern>
        <pattern-item n="jour_n"/>
        <pattern-item n="part_jour"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: JOUR_N NUM PART_JOUR (lundi 13 matin > diluns 13 de matin)" v="oci">
      <pattern>
        <pattern-item n="jour_n"/>
        <pattern-item n="num"/>
        <pattern-item n="part_jour"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: JOUR_ADV PART_JOUR (hier matin > ièr de matin)" v="oci">
      <pattern>
        <pattern-item n="jour_adv"/>
        <pattern-item n="part_jour"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS DATAS -->


    <!-- RÈGLAS CAMBI AUXILIAR -->

    <rule comment="RÈGLA: HAVER SER_PP > SER + SER_PP: ai été > ei estat">
       <pattern>
         <pattern-item n="vbhaver"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <let><clip pos="2" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="2"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <or>
                 <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                 <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="ger"/></equal>
               </or>
             </test>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <lit-tag v="3"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
           </otherwise>
         </choose>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
              <out>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="2" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="a_verb"/>
                    <clip pos="2" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
              <out>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="2" side="tl" part="gen"/></tag>
                    <tag><clip pos="1" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="a_verb"/>
                    <clip pos="2" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: HAVER SER_PP PP > SER + SER_PP PP: ont été codifiées > son estadas codificadas">
       <pattern>
         <pattern-item n="vbhaver"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
         </call-macro>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="vbser_pp">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="1" side="tl" part="temps"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <clip pos="1" side="tl" part="temps"/>
                    <clip pos="1" side="tl" part="pers"/>
                    <clip pos="1" side="tl" part="nbr"/>
                  </lu>
                  <b pos="1"/>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="tags"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="a_verb"/>
                    <clip pos="3" side="tl" part="temps"/>
                    <clip pos="3" side="tl" part="gen"/>
                    <clip pos="3" side="tl" part="nbr"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="vbser">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="1" side="tl" part="temps"/></tag>
                    <tag><clip pos="1" side="tl" part="pers"/></tag>
                    <tag><clip pos="1" side="tl" part="nbr"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                  </lu>
                </chunk>
                <b pos="1"/>
              </out>
              <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
              <out>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="2" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="a_verb"/>
                    <clip pos="2" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                </chunk>
                <b pos="2"/>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="3" side="tl" part="gen"/></tag>
                    <tag><clip pos="3" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="a_verb"/>
                    <clip pos="3" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: HAVER ADV SER_PP PP > SER ADV SER_PP PP: ont vraissemblament été codifiées > son versemblablament estadas codificadas">
       <pattern>
         <pattern-item n="vbhaver"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord2">
          <with-param pos="4"/>
          <with-param pos="3"/>
         </call-macro>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="1" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="vbser_pp">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="1" side="tl" part="temps"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <clip pos="1" side="tl" part="temps"/>
                    <clip pos="1" side="tl" part="pers"/>
                    <clip pos="1" side="tl" part="nbr"/>
                  </lu>
                  <b pos="1"/>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="tags"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="tags"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                  <b pos="3"/>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="a_verb"/>
                    <clip pos="4" side="tl" part="temps"/>
                    <clip pos="4" side="tl" part="gen"/>
                    <clip pos="4" side="tl" part="nbr"/>
                    <clip pos="4" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="vbser">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="1" side="tl" part="temps"/></tag>
                    <tag><clip pos="1" side="tl" part="pers"/></tag>
                    <tag><clip pos="1" side="tl" part="nbr"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                  </lu>
                  <b pos="1"/>
                  <lu>
                    <clip pos="2" side="tl" part="lemh"/>
                    <clip pos="2" side="tl" part="tags"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                </chunk>
                <b pos="2"/>
              </out>
              <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
              <out>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="3" side="tl" part="gen"/></tag>
                    <tag><clip pos="3" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="a_verb"/>
                    <clip pos="3" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="2" side="tl" part="lemq"/>
                  </lu>
                </chunk>
                <b pos="3"/>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="4" side="tl" part="gen"/></tag>
                    <tag><clip pos="4" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="a_verb"/>
                    <clip pos="4" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <clip pos="4" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: HAVER ADV ADV SER_PP PP > SER ADV ADV SER_PP PP: ont très vraissemblament été codifiées > son plan versemblablament estadas codificadas">
       <pattern>
         <pattern-item n="vbhaver"/>
         <pattern-item n="adv_preadv"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord2">
          <with-param pos="5"/>
          <with-param pos="4"/>
         </call-macro>
         <out>
           <chunk name="vbser_pp">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
             </lu>
             <b pos="1"/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_verb"/>
               <clip pos="5" side="tl" part="temps"/>
               <clip pos="5" side="tl" part="gen"/>
               <clip pos="5" side="tl" part="nbr"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ HAVERconj SER_PP > SER + SER_PP: j'ai été > ei estat">
       <pattern>
        <pattern-item n="prnsubj"/>
         <pattern-item n="vbhaverconj"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <let><clip pos="3" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="3" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="nbr"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SA"/></tag>
               <tag><lit-tag v="pp"/></tag>
               <tag><clip pos="3" side="tl" part="gen"/></tag>
               <tag><clip pos="2" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <clip pos="3" side="tl" part="temps"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ HAVERconj ADV SER_PP > SER ADV SER_PP: j'ai probablement été > ei probablament estat">
       <pattern>
        <pattern-item n="prnsubj"/>
         <pattern-item n="vbhaverconj"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <let><clip pos="4" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="4" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="nbr"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="3"/></call-macro>
         <out>
           <b pos="3"/>
           <chunk name="pp">
             <tags>
               <tag><lit-tag v="SA"/></tag>
               <tag><clip pos="4" side="tl" part="gen"/></tag>
               <tag><clip pos="2" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_verb"/>
               <clip pos="4" side="tl" part="temps"/>
               <lit-tag v="2"/>
               <lit-tag v="3"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ HAVERconj ADV ADV SER_PP > SER ADV ADV SER_PP: j'ai très probablement été > ei plan probablament estat">
       <pattern>
        <pattern-item n="prnsubj"/>
         <pattern-item n="vbhaverconj"/>
         <pattern-item n="adv_preadv"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <let><clip pos="5" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="5" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="nbr"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="3"/></call-macro>
         <out>
           <b pos="3"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
         <out>
           <b pos="4"/>
           <chunk name="pp">
             <tags>
               <tag><lit-tag v="SA"/></tag>
               <tag><clip pos="5" side="tl" part="gen"/></tag>
               <tag><clip pos="2" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_verb"/>
               <clip pos="5" side="tl" part="temps"/>
               <lit-tag v="2"/>
               <lit-tag v="3"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVER PAS SER_PP > SER PAS SER_PP: n'ai pas été > ei pas estat">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <let><clip pos="4" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="4" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <clip pos="2" side="tl" part="temps"/>
                    <clip pos="2" side="tl" part="pers"/>
                    <clip pos="2" side="tl" part="nbr"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="3"/>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><clip pos="2" side="tl" part="pers"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="3"/>
              </out>
            </otherwise>
         </choose>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="èsser">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="4" side="tl" part="gen"/></tag>
                    <tag><clip pos="4" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="a_verb"/>
                    <clip pos="4" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="4" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="èsser">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="4" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="a_verb"/>
                    <clip pos="4" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="4" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVER PAS SER_PP PP > SER PAS SER_PP PP: n'ont pas été codifiées > son pas estadas codificadas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord2">
          <with-param pos="5"/>
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="vbser-adv-pp" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <clip pos="2" side="tl" part="temps"/>
                    <clip pos="2" side="tl" part="pers"/>
                    <clip pos="2" side="tl" part="nbr"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="tags"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                  <b pos="3"/>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="tags"/>
                    <clip pos="4" side="tl" part="lemq"/>
                  </lu>
                  <b pos="4"/>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="a_verb"/>
                    <clip pos="5" side="tl" part="temps"/>
                    <clip pos="5" side="tl" part="gen"/>
                    <clip pos="5" side="tl" part="nbr"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><clip pos="2" side="tl" part="pers"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="3"/>
                <chunk name="èsser">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="4" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="a_verb"/>
                    <clip pos="4" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                  </lu>
                  <b pos="4"/>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="a_verb"/>
                    <clip pos="5" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE HAVER PAS SER_PP > SER PAS SER_PP: je n'ai pas été > ei pas estat">
       <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="ne"/>
        <pattern-item n="vbhaverconj"/>
        <pattern-item n="pas"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <let><clip pos="5" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="5" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="whole"/>
             </lu>
           </chunk>
           <b pos="4"/>
           <chunk name="pp">
             <tags>
               <tag><lit-tag v="SA"/></tag>
               <tag><clip pos="5" side="tl" part="gen"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_verb"/>
               <clip pos="5" side="tl" part="temps"/>
               <lit-tag v="2"/>
               <lit-tag v="3"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVER PAS ADV SER_PP > SER PAS ADV SER_PP: n'ai pas toujours été > ei pas totjorn estat">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <let><clip pos="5" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="5" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <clip pos="2" side="tl" part="temps"/>
                    <clip pos="2" side="tl" part="pers"/>
                    <clip pos="2" side="tl" part="nbr"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="3"/>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><clip pos="2" side="tl" part="pers"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="3"/>
              </out>
            </otherwise>
         </choose>
         <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
              <out>
                <b pos="4"/>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="5" side="tl" part="gen"/></tag>
                    <tag><clip pos="5" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="a_verb"/>
                    <clip pos="5" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
              <out>
                <b pos="4"/>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="5" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="a_verb"/>
                    <clip pos="5" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVER ADV ADV SER_PP > SER ADV ADV SER_PP: n'ai probablement jamais été > ei probablement jamai estat">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="adv"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <let><clip pos="5" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="5" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <clip pos="2" side="tl" part="temps"/>
                    <clip pos="2" side="tl" part="pers"/>
                    <clip pos="2" side="tl" part="nbr"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="3"/>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><clip pos="2" side="tl" part="pers"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="3"/>
              </out>
            </otherwise>
         </choose>
         <call-macro n="escriure_SAdv"><with-param pos="3"/></call-macro>
         <out>
           <b pos="3"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <b pos="4"/>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="5" side="tl" part="gen"/></tag>
                    <tag><clip pos="5" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="a_verb"/>
                    <clip pos="5" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <b pos="4"/>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="5" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="a_verb"/>
                    <clip pos="5" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVER PAS SER_PP ADV PP > SER PAS SER_PP ADV PP: n'ont pas été toujours codifiées > son pas estadas totjorn codificadas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="adv"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord2">
          <with-param pos="6"/>
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="vbser-adv-pp" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <clip pos="2" side="tl" part="temps"/>
                    <clip pos="2" side="tl" part="pers"/>
                    <clip pos="2" side="tl" part="nbr"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="tags"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                  <b pos="3"/>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="tags"/>
                    <clip pos="4" side="tl" part="lemq"/>
                  </lu>
                  <b pos="4"/>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="tags"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                  <b pos="5"/>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <clip pos="6" side="tl" part="gen"/>
                    <clip pos="6" side="tl" part="nbr"/>
                    <clip pos="6" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><clip pos="2" side="tl" part="pers"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="3"/>
              </out>
              <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
              <out>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="4" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="a_verb"/>
                    <clip pos="4" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                  </lu>
                </chunk>
                <b pos="4"/>
              </out>
              <call-macro n="escriure_SAdv"><with-param pos="5"/></call-macro>
              <out>
                <b pos="5"/>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="6" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVER PAS ADV SER_PP PP > SER PAS ADV SER_PP PP: n'ont pas toujours été codifiées > son pas totjorn estadas codificadas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord2">
          <with-param pos="6"/>
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="vbser-adv-pp" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <clip pos="2" side="tl" part="temps"/>
                    <clip pos="2" side="tl" part="pers"/>
                    <clip pos="2" side="tl" part="nbr"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="lemh"/>
                    <clip pos="3" side="tl" part="tags"/>
                    <clip pos="3" side="tl" part="lemq"/>
                  </lu>
                  <b pos="3"/>
                  <lu>
                    <clip pos="4" side="tl" part="lemh"/>
                    <clip pos="4" side="tl" part="tags"/>
                    <clip pos="4" side="tl" part="lemq"/>
                  </lu>
                  <b pos="4"/>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="tags"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                  <b pos="5"/>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <clip pos="6" side="tl" part="gen"/>
                    <clip pos="6" side="tl" part="nbr"/>
                    <clip pos="6" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><clip pos="2" side="tl" part="pers"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                  </lu>
                  <b pos="2"/>
                  <lu>
                    <clip pos="3" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="3"/>
              </out>
              <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
              <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
              <out>
                <b pos="4"/>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="5" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="a_verb"/>
                    <clip pos="5" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                  </lu>
                </chunk>
                <b pos="5"/>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="6" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVER ADV ADV SER_PP PP > SER ADV ADV SER_PP PP: n'ont probablement jamais été mariés > son probablement jamai estats maridats">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="adv"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord2">
          <with-param pos="6"/>
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="2" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <clip pos="2" side="tl" part="temps"/>
                    <clip pos="2" side="tl" part="pers"/>
                    <clip pos="2" side="tl" part="nbr"/>
                  </lu>
                </chunk>
                <b pos="2"/>
              </out>
              <call-macro n="escriure_SAdv"><with-param pos="3"/></call-macro>
              <out>
                <b pos="3"/>
              </out>
              <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
              <out>
                <b pos="4"/>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="5" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="tags"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                  <b pos="5"/>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <clip pos="6" side="tl" part="gen"/>
                    <clip pos="6" side="tl" part="nbr"/>
                    <clip pos="6" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="2" side="tl" part="temps"/></tag>
                    <tag><clip pos="2" side="tl" part="pers"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><lit-tag v="normal"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                  </lu>
                </chunk>
                <b pos="2"/>
              </out>
              <call-macro n="escriure_SAdv"><with-param pos="3"/></call-macro>
              <out>
                <b pos="3"/>
              </out>
              <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
              <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
              <out>
                <b pos="4"/>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="5" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="a_verb"/>
                    <clip pos="5" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                  </lu>
                </chunk>
                <b pos="5"/>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="6" side="tl" part="gen"/></tag>
                    <tag><clip pos="2" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE HAVER PAS ADV SER_PP > SER PAS ADV SER_PP: je n'ai pas toujours été > ei pas totjorn estat">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="6"/>
         </call-macro>
         <let><clip pos="6" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="6" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="3" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="3" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="3" side="tl" part="temps"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <clip pos="3" side="tl" part="temps"/>
                    <clip pos="3" side="tl" part="pers"/>
                    <clip pos="3" side="tl" part="nbr"/>
                  </lu>
                  <b pos="3"/>
                  <lu>
                    <clip pos="4" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="4"/>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="vbser" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><lit-tag v="vbser"/></tag>
                    <tag><clip pos="3" side="tl" part="temps"/></tag>
                    <tag><clip pos="3" side="tl" part="pers"/></tag>
                    <tag><clip pos="3" side="tl" part="nbr"/></tag>
                    <tag><lit-tag v="negation"/></tag>
                    <tag><var n="tipusverb"/></tag>
                  </tags>
                  <lu>
                    <var n="v_vbser"/>
                    <lit-tag v="vbser"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <lit-tag v="5"/>
                  </lu>
                  <b pos="3"/>
                  <lu>
                    <clip pos="4" side="tl" part="whole"/>
                  </lu>
                </chunk>
                <b pos="4"/>
              </out>
            </otherwise>
         </choose>
         <call-macro n="escriure_SAdv"><with-param pos="5"/></call-macro>
         <let><var n="lemma"/><clip pos="6" side="tl" part="lem"/></let>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="3" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="3" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <b pos="5"/>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="6" side="tl" part="gen"/></tag>
                    <tag><clip pos="6" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="6" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <b pos="5"/>
                <chunk namefrom="lemma">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><lit-tag v="pp"/></tag>
                    <tag><clip pos="6" side="tl" part="gen"/></tag>
                    <tag><clip pos="3" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <lit-tag v="3"/>
                    <lit-tag v="4"/>
                    <clip pos="6" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE HAVER ADV ADV SER_PP > SER ADV ADV SER_PP: je n'ai probablement jamais été > ei probablement jamai estat">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="adv"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="6"/>
         </call-macro>
         <let><clip pos="6" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="6" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
         <out>
           <b pos="4"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="5"/></call-macro>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="3" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="3" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <b pos="5"/>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="6" side="tl" part="gen"/></tag>
                    <tag><clip pos="6" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <clip pos="6" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <b pos="5"/>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="6" side="tl" part="gen"/></tag>
                    <tag><clip pos="3" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <clip pos="6" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE HAVER PAS SER_PP ADV PP > SER PAS SER_PP ADV PP: elles n'ont pas été toujours codifiées > son pas estadas totjorn codificadas">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="adv"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_concord2">
          <with-param pos="7"/>
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser-adv-pp" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
             <b pos="5"/>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="tags"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
             <b pos="6"/>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="tags"/>
               <clip pos="7" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE HAVER PAS ADV SER_PP PP > SER PAS ADV SER_PP PP: elles n'ont pas toujours été codifiées > son pas totjorn estadas codificadas">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_concord2">
          <with-param pos="7"/>
          <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser-adv-pp" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
             <b pos="5"/>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="tags"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
             <b pos="6"/>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="a_verb"/>
               <clip pos="7" side="tl" part="temps"/>
               <clip pos="7" side="tl" part="gen"/>
               <clip pos="7" side="tl" part="nbr"/>
               <clip pos="7" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE HAVER ADV ADV SER_PP PP > SER ADV ADV SER_PP PP: ils n'ont probablement jamais été mariés > son probablement jamai estats maridats">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="adv"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_concord2">
          <with-param pos="7"/>
          <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
         <out>
           <b pos="4"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="5"/></call-macro>
         <out>
           <b pos="5"/>
           <chunk name="pp">
             <tags>
               <tag><lit-tag v="SA"/></tag>
               <tag><clip pos="6" side="tl" part="gen"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="tags"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
             <b pos="6"/>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="a_verb"/>
               <clip pos="7" side="tl" part="temps"/>
               <clip pos="7" side="tl" part="gen"/>
               <clip pos="7" side="tl" part="nbr"/>
               <clip pos="7" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

<!-- xxxx -->
    <rule comment="RÈGLA: NE PRNPRO HAVER PAS SER_PP > PRNPRO SER PAS SER_PP: ne lui ai pas été > li ei pas estat">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <let><clip pos="5" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="5" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <get-case-from pos="3">
                 <var n="v_vbser"/>
               </get-case-from>
               <lit-tag v="vbser"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="whole"/>
             </lu>
           </chunk>
           <b pos="4"/>
         </out>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="3" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="3" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="5" side="tl" part="gen"/></tag>
                    <tag><clip pos="5" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="a_verb"/>
                    <clip pos="5" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="5" side="tl" part="gen"/></tag>
                    <tag><clip pos="3" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="5" side="tl" part="lemh"/>
                    <clip pos="5" side="tl" part="a_verb"/>
                    <clip pos="5" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <clip pos="5" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO HAVER PAS SER_PP PP > PRNPRO SER PAS SER_PP PP: ne lui ont pas été codifiées > li son pas estadas codificadas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord2">
          <with-param pos="6"/>
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <choose>
           <when>
             <test>
               <or>
                 <equal><clip pos="3" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                 <equal><clip pos="3" side="tl" part="temps"/><lit-tag v="ger"/></equal>
               </or>
             </test>
             <out>
               <chunk name="vbser_adv_pp">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="normal"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="tags"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
                 <b pos="5"/>
                 <lu>
                   <clip pos="6" side="tl" part="lemh"/>
                   <clip pos="6" side="tl" part="a_verb"/>
                   <clip pos="6" side="tl" part="temps"/>
                   <clip pos="6" side="tl" part="gen"/>
                   <clip pos="6" side="tl" part="nbr"/>
                   <clip pos="6" side="tl" part="lemq"/>
                 </lu>
               </chunk>
              </out>
           </when>
           <otherwise>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><clip pos="3" side="tl" part="pers"/></tag>
                   <tag><clip pos="3" side="tl" part="nbr"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="normal"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
             </out>
             <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="5" side="tl" part="gen"/></tag>
                   <tag><clip pos="5" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="5"/>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="6" side="tl" part="gen"/></tag>
                   <tag><clip pos="6" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="6" side="tl" part="lemh"/>
                   <clip pos="6" side="tl" part="a_verb"/>
                   <clip pos="6" side="tl" part="temps"/>
                   <lit-tag v="2"/>
                   <lit-tag v="3"/>
                   <clip pos="6" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO HAVER PAS SER_PP > PRNPRO SER PAS SER_PP: je ne lui ai pas été > li ei pas estat">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="vbser_raffoler_pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="6"/>
         </call-macro>
         <let><clip pos="6" side="tl" part="gen"/><lit-tag v="GD"/></let>
         <let><clip pos="6" side="tl" part="nbr"/><lit-tag v="ND"/></let>
         <call-macro n="f_concord1">
          <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <get-case-from pos="4">
                 <var n="v_vbser"/>
               </get-case-from>
               <lit-tag v="vbser"/>
               <clip pos="4" side="tl" part="temps"/>
               <clip pos="4" side="tl" part="pers"/>
               <clip pos="4" side="tl" part="nbr"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="5" side="tl" part="whole"/>
             </lu>
           </chunk>
           <b pos="5"/>
         </out>
         <choose>
            <when>
              <test>
                <or>
                  <equal><clip pos="4" side="tl" part="temps"/><lit-tag v="inf"/></equal>
                  <equal><clip pos="4" side="tl" part="temps"/><lit-tag v="ger"/></equal>
                </or>
              </test>
              <out>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="6" side="tl" part="gen"/></tag>
                    <tag><clip pos="6" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <clip pos="6" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="pp">
                  <tags>
                    <tag><lit-tag v="SA"/></tag>
                    <tag><clip pos="6" side="tl" part="gen"/></tag>
                    <tag><clip pos="4" side="tl" part="nbr"/></tag>
                    <tag><var n="genero_sl"/></tag>
                    <tag><var n="numero_sl"/></tag>
                  </tags>
                  <lu>
                    <clip pos="6" side="tl" part="lemh"/>
                    <clip pos="6" side="tl" part="a_verb"/>
                    <clip pos="6" side="tl" part="temps"/>
                    <lit-tag v="2"/>
                    <lit-tag v="3"/>
                    <clip pos="6" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO HAVER PAS SER_PP PP > PRNPRO SER PAS SER_PP PP: elles ne lui ont pas été codifiées > li son pas estadas codificadas">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="pp"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord2">
          <with-param pos="7"/>
          <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
           <chunk name="vbser_adv_pp">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <clip pos="4" side="tl" part="temps"/>
               <clip pos="4" side="tl" part="pers"/>
               <clip pos="4" side="tl" part="nbr"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
             <b pos="5"/>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="tags"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
             <b pos="6"/>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="a_verb"/>
               <clip pos="7" side="tl" part="temps"/>
               <clip pos="7" side="tl" part="gen"/>
               <clip pos="7" side="tl" part="nbr"/>
               <clip pos="7" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>


    <rule comment="RÈGLA: HAVERINF PP > HAVER INF+ PP: avoir mangé > aver manjat, aver décollé > s'èsser enlairat">
       <pattern>
         <pattern-item n="vbhaverinfger"/>
         <pattern-item n="pp_no_ser"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="2"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="2" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
             </test>
             <call-macro n="f_set_pron_pro_force"><with-param pos="1"/><with-param pos="1"/></call-macro>
             <call-macro n="print_pron"></call-macro>
             <choose>
               <when>
                 <test>
                   <or>
                     <and>
                       <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="réussir"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="escàder"/></equal>
                     </and>
                     <and>
                       <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="échouer"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="mauescàder"/></equal>
                     </and>
                   </or>
                 </test>
                 <out>
                   <chunk name="prnpro">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="pro"/></tag>
                     </tags>
                     <lu>
                       <lit v="i"/>
                       <lit-tag v="prn.pro.adv"/>
                     </lu>
                   </chunk>
                   <b/>
                 </out>
               </when>
             </choose>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="1" side="tl" part="temps"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="2"/>
             </call-macro>
             <out>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="2" side="tl" part="gen"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <clip pos="2" side="tl" part="temps"/>
                   <lit-tag v="2"/>
                   <lit-tag v="3"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
             <call-macro n="f_unset_capletter"><with-param pos="1"/></call-macro>
             <out>
               <chunk name="vbhaver" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="2"/>
             </call-macro>
             <out>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="2" side="tl" part="gen"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <clip pos="2" side="tl" part="temps"/>
                   <lit-tag v="2"/>
                   <lit-tag v="3"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: HAVER PP > HAVER + PP: ai mangé > ai manjat, ai décollé > me soi enlairat">
       <pattern>
         <pattern-item n="vbhaverconj"/>
         <pattern-item n="pp_no_ser"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="2"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="2" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
             </test>
             <call-macro n="f_set_pron_pro_force"><with-param pos="1"/><with-param pos="1"/></call-macro>
             <call-macro n="print_pron"></call-macro>
             <choose>
               <when>
                 <test>
                   <or>
                     <and>
                       <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="réussir"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="escàder"/></equal>
                     </and>
                     <and>
                       <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="échouer"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="mauescàder"/></equal>
                     </and>
                   </or>
                 </test>
                 <out>
                   <chunk name="prnpro">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="pro"/></tag>
                     </tags>
                     <lu>
                       <lit v="i"/>
                       <lit-tag v="prn.pro.adv"/>
                     </lu>
                   </chunk>
                   <b/>
                 </out>
               </when>
             </choose>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="2"/>
             </call-macro>
             <out>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="2" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <clip pos="2" side="tl" part="temps"/>
                   <lit-tag v="2"/>
                   <lit-tag v="3"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
             <call-macro n="f_unset_capletter"><with-param pos="1"/></call-macro>
             <out>
               <chunk name="vbhaver" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="2"/>
             </call-macro>
             <out>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="2" side="tl" part="gen"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <clip pos="2" side="tl" part="temps"/>
                   <lit-tag v="2"/>
                   <lit-tag v="3"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVERINF PAS PP > HAVERINF PAS PP: n'avoir pas mangé > aver pas manjat, n'avoir pas décollé > s'èsser pas enlairat">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaverinfger"/>
         <pattern-item n="pas"/>
         <pattern-item n="pp_no_ser"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="4" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
             </test>
             <call-macro n="f_set_pron_pro_force"><with-param pos="2"/><with-param pos="1"/></call-macro>
             <call-macro n="print_pron"></call-macro>
             <choose>
               <when>
                 <test>
                   <or>
                     <and>
                       <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="réussir"/></equal>
                       <equal caseless="yes"><clip pos="4" side="tl" part="lem"/><lit v="escàder"/></equal>
                     </and>
                     <and>
                       <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="échouer"/></equal>
                       <equal caseless="yes"><clip pos="4" side="tl" part="lem"/><lit v="mauescàder"/></equal>
                     </and>
                   </or>
                 </test>
                 <out>
                   <chunk name="prnpro">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="pro"/></tag>
                     </tags>
                     <lu>
                       <lit v="i"/>
                       <lit-tag v="prn.pro.adv"/>
                     </lu>
                   </chunk>
                   <b/>
                 </out>
               </when>
             </choose>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="2" side="tl" part="temps"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
               </chunk>
               <b pos="2"/>
             </out>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="3"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="4"/>
             </call-macro>
             <out>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="4" side="tl" part="gen"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <lit-tag v="2"/>
                   <lit-tag v="3"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
             <out>
               <chunk name="vbhaver" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="2"/>
             </out>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="3"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="4"/>
             </call-macro>
             <out>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="4" side="tl" part="gen"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <lit-tag v="2"/>
                   <lit-tag v="3"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVER PAS PP > HAVER PAS PP: n'ai pas mangé > ai pas manjat, n'ai pas décollé > me soi pas enlairat">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaverconj"/>
         <pattern-item n="pas"/>
         <pattern-item n="pp_no_ser"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="4" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
             </test>
             <call-macro n="f_set_pron_pro_force"><with-param pos="2"/><with-param pos="1"/></call-macro>
             <call-macro n="print_pron"></call-macro>
             <choose>
               <when>
                 <test>
                   <or>
                     <and>
                       <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="réussir"/></equal>
                       <equal caseless="yes"><clip pos="4" side="tl" part="lem"/><lit v="escàder"/></equal>
                     </and>
                     <and>
                       <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="échouer"/></equal>
                       <equal caseless="yes"><clip pos="4" side="tl" part="lem"/><lit v="mauescàder"/></equal>
                     </and>
                   </or>
                 </test>
                 <out>
                   <chunk name="prnpro">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="pro"/></tag>
                     </tags>
                     <lu>
                       <lit v="i"/>
                       <lit-tag v="prn.pro.adv"/>
                     </lu>
                   </chunk>
                   <b/>
                 </out>
               </when>
             </choose>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                 </lu>
               </chunk>
               <b pos="2"/>
             </out>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="3"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="4"/>
             </call-macro>
             <out>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="4" side="tl" part="gen"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <lit-tag v="2"/>
                   <lit-tag v="3"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
             <out>
               <chunk name="vbhaver" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="2"/>
             </out>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="3"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="4"/>
             </call-macro>
             <out>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="4" side="tl" part="gen"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <lit-tag v="2"/>
                   <lit-tag v="3"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ HAVER PP > HAVER + PP: j'ai mangé > ai manjat, j'ai décollé > me soi enlairat">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp_no_ser"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="3" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
             </test>
             <call-macro n="f_set_pron_pro_force"><with-param pos="2"/><with-param pos="1"/></call-macro>
             <call-macro n="print_pron"></call-macro>
             <choose>
               <when>
                 <test>
                   <or>
                     <and>
                       <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="réussir"/></equal>
                       <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="escàder"/></equal>
                     </and>
                     <and>
                       <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="échouer"/></equal>
                       <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="mauescàder"/></equal>
                     </and>
                   </or>
                 </test>
                 <out>
                   <chunk name="prnpro">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="pro"/></tag>
                     </tags>
                     <lu>
                       <lit v="i"/>
                       <lit-tag v="prn.pro.adv"/>
                     </lu>
                   </chunk>
                   <b/>
                 </out>
               </when>
             </choose>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="2" side="tl" part="temps"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
               </chunk>
               <b pos="2"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="3" side="tl" part="gen"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
             <out>
               <chunk name="vbhaver" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="2"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="3" side="tl" part="gen"/></tag>
                   <tag><clip pos="3" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE HAVER PAS PP > HAVER PAS PP: je n'ai pas mangé > ai pas manjat, je n'ai pas décollé > me soi pas enlairat">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="pp_no_ser"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="5" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
             </test>
             <call-macro n="f_set_pron_pro_force"><with-param pos="3"/><with-param pos="1"/></call-macro>
             <call-macro n="print_pron"></call-macro>
             <choose>
               <when>
                 <test>
                   <or>
                     <and>
                       <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="réussir"/></equal>
                       <equal caseless="yes"><clip pos="5" side="tl" part="lem"/><lit v="escàder"/></equal>
                     </and>
                     <and>
                       <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="échouer"/></equal>
                       <equal caseless="yes"><clip pos="5" side="tl" part="lem"/><lit v="mauescàder"/></equal>
                     </and>
                   </or>
                 </test>
                 <out>
                   <chunk name="prnpro">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="pro"/></tag>
                     </tags>
                     <lu>
                       <lit v="i"/>
                       <lit-tag v="prn.pro.adv"/>
                     </lu>
                   </chunk>
                   <b/>
                 </out>
               </when>
             </choose>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                 </lu>
               </chunk>
               <b pos="3"/>
             </out>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="5"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="5" side="tl" part="gen"/></tag>
                   <tag><clip pos="5" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
             <out>
               <chunk name="vbhaver" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="3"/>
             </out>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="5"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="5" side="tl" part="gen"/></tag>
                   <tag><clip pos="5" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO HAVER PAS PP > HAVER PAS PP: ne lui ai pas mangé > li ai pas manjat, ne lui ai pas décollé > me li soi pas enlairat">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="pp_no_ser"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <choose>
           <when>
             <test>
               <equal><clip pos="5" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
             </test>
             <call-macro n="f_set_pron_pro_force"><with-param pos="3"/><with-param pos="3"/></call-macro>
             <call-macro n="print_pron"></call-macro>
             <choose>
               <when>
                 <test>
                   <or>
                     <and>
                       <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="réussir"/></equal>
                       <equal caseless="yes"><clip pos="5" side="tl" part="lem"/><lit v="escàder"/></equal>
                     </and>
                     <and>
                       <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="échouer"/></equal>
                       <equal caseless="yes"><clip pos="5" side="tl" part="lem"/><lit v="mauescàder"/></equal>
                     </and>
                   </or>
                 </test>
                 <out>
                   <chunk name="prnpro">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="pro"/></tag>
                     </tags>
                     <lu>
                       <lit v="i"/>
                       <lit-tag v="prn.pro.adv"/>
                     </lu>
                   </chunk>
                   <b/>
                 </out>
               </when>
             </choose>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="5"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="5" side="tl" part="gen"/></tag>
                   <tag><clip pos="5" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="caseFirstWord"/><case-of pos="3" side="tl" part="lemh"/></let>
             <out>
               <chunk name="vbhaver" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="5"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="5" side="tl" part="gen"/></tag>
                   <tag><clip pos="5" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO HAVER PAS PP > HAVER PAS PP: je ne lui ai pas mangé > li ai pas manjat, je ne lui ai pas décollé > me li soi pas enlairat">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pas"/>
         <pattern-item n="pp_no_ser"/>
       </pattern>
       <action>
         <call-macro n="set_vbser"></call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <choose>
           <when>
             <test>
               <equal><clip pos="6" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
             </test>
             <call-macro n="f_set_pron_pro_force"><with-param pos="4"/><with-param pos="4"/></call-macro>
             <call-macro n="print_pron"></call-macro>
             <choose>
               <when>
                 <test>
                   <or>
                     <and>
                       <equal caseless="yes"><clip pos="6" side="sl" part="lem"/><lit v="réussir"/></equal>
                       <equal caseless="yes"><clip pos="6" side="tl" part="lem"/><lit v="escàder"/></equal>
                     </and>
                     <and>
                       <equal caseless="yes"><clip pos="6" side="sl" part="lem"/><lit v="échouer"/></equal>
                       <equal caseless="yes"><clip pos="6" side="tl" part="lem"/><lit v="mauescàder"/></equal>
                     </and>
                   </or>
                 </test>
                 <out>
                   <chunk name="prnpro">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="pro"/></tag>
                     </tags>
                     <lu>
                       <lit v="i"/>
                       <lit-tag v="prn.pro.adv"/>
                     </lu>
                   </chunk>
                   <b/>
                 </out>
               </when>
             </choose>
             <out>
               <chunk name="vbser">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <clip pos="4" side="tl" part="pers"/>
                   <clip pos="4" side="tl" part="nbr"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="tags"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="5"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="6"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="6" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="6" side="tl" part="gen"/></tag>
                   <tag><clip pos="6" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="6" side="tl" part="lemh"/>
                   <clip pos="6" side="tl" part="a_verb"/>
                   <clip pos="6" side="tl" part="temps"/>
                   <lit-tag v="2"/>
                   <lit-tag v="3"/>
                   <clip pos="6" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="caseFirstWord"/><case-of pos="4" side="tl" part="lemh"/></let>
             <out>
               <chunk name="vbhaver" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="tags"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="5"/>
             </out>
             <call-macro n="tipus_verb">
              <with-param pos="6"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="6" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="6" side="tl" part="gen"/></tag>
                   <tag><clip pos="6" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="6" side="tl" part="lemh"/>
                   <clip pos="6" side="tl" part="a_verb"/>
                   <clip pos="6" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="6" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <!-- FIN RÈGLAS CAMBI AUXILIAR -->


    <!-- RÈGLAS VÈRBS NON-PRON -->

    <rule comment="RÈGLA: PRNPRO VBPRON-NOPRON > VBPRON-NOPRON: Jean se rend chez lui > Jean va a casa">
       <pattern>
         <pattern-item n="prnpro"/>
         <pattern-item n="verb_pron-nopron_conj"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="2" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="1" side="sl" part="pers"/><clip pos="2" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="1" side="sl" part="nbr"/><clip pos="2" side="sl" part="nbr"/></equal>
                   <equal><clip pos="1" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
                 <b pos="1"/>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ PRNPRO VBPRON-NOPRON > VBPRON-NOPRON: il se rend chez lui > va a casa">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="verb_pron-nopron_conj"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="3" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="2" side="sl" part="pers"/><clip pos="3" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="2" side="sl" part="nbr"/><clip pos="3" side="sl" part="nbr"/></equal>
                   <equal><clip pos="2" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO VBSER VBPRON-NOPRON > VBSER VBPRON-NOPRON: Jean s'est rendu chez lui > Jean es anat a casa ; Jean s'est enfui > Jean a fugit">
       <pattern>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbser"/>
         <pattern-item n="verb_pron-nopron_pp"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="3" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="1" side="sl" part="pers"/><clip pos="2" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="1" side="sl" part="nbr"/><clip pos="2" side="sl" part="nbr"/></equal>
                   <equal><clip pos="1" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
             <choose>
               <when>
                 <test>
                   <in><clip pos="3" side="tl" part="lem"/><list n="vbambser_oc"/></in>
                 </test>
                 <out>
                   <chunk namefrom="chunkname" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                       <tag><clip pos="2" side="tl" part="temps"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="2" side="tl" part="lemh"/>
                       <clip pos="2" side="tl" part="tags"/>
                       <clip pos="2" side="tl" part="lemq"/>
                     </lu>
                     <b pos="2"/>
                     <lu>
                       <clip pos="3" side="tl" part="lemh"/>
                       <clip pos="3" side="tl" part="tags"/>
                       <clip pos="3" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk namefrom="chunkname" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                       <tag><clip pos="2" side="tl" part="temps"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <lit v="aver"/>
                       <lit-tag v="vbhaver"/>
                       <clip pos="2" side="tl" part="temps"/>
                       <clip pos="2" side="tl" part="pers"/>
                       <clip pos="2" side="tl" part="gen"/>
                       <clip pos="2" side="tl" part="nbr"/>
                     </lu>
                     <b pos="2"/>
                     <lu>
                       <clip pos="3" side="tl" part="lemh"/>
                       <clip pos="3" side="tl" part="a_verb"/>
                       <clip pos="3" side="tl" part="temps"/>
                       <lit-tag v="m.sg"/>
                       <clip pos="3" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
           </when>
           <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
                 <b pos="1"/>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ PRNPRO VBSER VBPRON-NOPRON > VBSER VBPRON-NOPRON: il s'est rendu chez lui > es anat a casa ; il s'est enfui > a fugit">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbser"/>
         <pattern-item n="verb_pron-nopron_pp"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="4" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="2" side="sl" part="pers"/><clip pos="3" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="2" side="sl" part="nbr"/><clip pos="3" side="sl" part="nbr"/></equal>
                   <equal><clip pos="2" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
             <choose>
               <when>
                 <test>
                   <in><clip pos="4" side="tl" part="lem"/><list n="vbambser_oc"/></in>
                 </test>
                 <out>
                   <chunk namefrom="chunkname" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                       <tag><clip pos="3" side="tl" part="temps"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="3" side="tl" part="lemh"/>
                       <clip pos="3" side="tl" part="tags"/>
                       <clip pos="3" side="tl" part="lemq"/>
                     </lu>
                     <b pos="3"/>
                     <lu>
                       <clip pos="4" side="tl" part="lemh"/>
                       <clip pos="4" side="tl" part="tags"/>
                       <clip pos="4" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk namefrom="chunkname" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                       <tag><clip pos="3" side="tl" part="temps"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <lit v="aver"/>
                       <lit-tag v="vbhaver"/>
                       <clip pos="3" side="tl" part="temps"/>
                       <clip pos="3" side="tl" part="pers"/>
                       <clip pos="3" side="tl" part="gen"/>
                       <clip pos="3" side="tl" part="nbr"/>
                     </lu>
                     <b pos="3"/>
                     <lu>
                       <clip pos="4" side="tl" part="lemh"/>
                       <clip pos="4" side="tl" part="a_verb"/>
                       <clip pos="4" side="tl" part="temps"/>
                       <lit-tag v="m.sg"/>
                       <clip pos="4" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
           </when>
           <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO VBSER ADV VBPRON-NOPRON > ADV VBSER VBPRON-NOPRON: Jean s'est toujours rendu chez lui > Jean es totjorn anat a casa ; Jean s'est toujours enfui > Jean a totjorn fugit">
       <pattern>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbser"/>
         <pattern-item n="adv"/>
         <pattern-item n="verb_pron-nopron_pp"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="4" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="1" side="sl" part="pers"/><clip pos="2" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="1" side="sl" part="nbr"/><clip pos="2" side="sl" part="nbr"/></equal>
                   <equal><clip pos="1" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
             <choose>
               <when>
                 <test>
                   <in><clip pos="4" side="tl" part="lem"/><list n="vbambser_oc"/></in>
                 </test>
                 <out>
                   <chunk namefrom="chunkname" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                       <tag><clip pos="2" side="tl" part="temps"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="2" side="tl" part="lemh"/>
                       <clip pos="2" side="tl" part="tags"/>
                       <clip pos="2" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
                 <out>
                   <b pos="2"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SAdv"/></tag>
                     </tags>
                     <lu>
                       <clip pos="3" side="tl" part="lemh"/>
                       <clip pos="3" side="tl" part="tags"/>
                       <clip pos="3" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <call-macro n="f_chunk_tags">
                   <with-param pos="4"/>
                 </call-macro>
                 <call-macro n="tipus_verb">
                  <with-param pos="4"/>
                 </call-macro>
                 <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
                 <out>
                   <b pos="3"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SA"/></tag>
                       <tag><lit-tag v="pp"/></tag>
                       <tag><clip pos="4" side="tl" part="gen"/></tag>
                       <tag><clip pos="4" side="tl" part="nbr"/></tag>
                       <tag><var n="genero_sl"/></tag>
                       <tag><var n="numero_sl"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="4" side="tl" part="lemh"/>
                       <clip pos="4" side="tl" part="a_verb"/>
                       <clip pos="4" side="tl" part="temps"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                       <clip pos="4" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="havercj" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><lit-tag v="vbhaver"/></tag>
                       <tag><clip pos="2" side="tl" part="temps"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <lit v="aver"/>
                       <lit-tag v="vbhaver"/>
                       <clip pos="2" side="tl" part="temps"/>
                       <clip pos="2" side="tl" part="pers"/>
                       <clip pos="2" side="tl" part="gen"/>
                       <clip pos="2" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
                 <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
                 <out>
                   <b pos="2"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SAdv"/></tag>
                     </tags>
                     <lu>
                       <clip pos="3" side="tl" part="lemh"/>
                       <clip pos="3" side="tl" part="tags"/>
                       <clip pos="3" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <call-macro n="f_chunk_tags">
                   <with-param pos="4"/>
                 </call-macro>
                 <call-macro n="tipus_verb">
                  <with-param pos="4"/>
                 </call-macro>
                 <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
                 <out>
                   <b pos="3"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SA"/></tag>
                       <tag><lit-tag v="pp"/></tag>
                       <tag><lit-tag v="m"/></tag>
                       <tag><lit-tag v="sg"/></tag>
                       <tag><var n="genero_sl"/></tag>
                       <tag><var n="numero_sl"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="4" side="tl" part="lemh"/>
                       <clip pos="4" side="tl" part="a_verb"/>
                       <clip pos="4" side="tl" part="temps"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                       <clip pos="4" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
           </when>
           <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
                 <b pos="1"/>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="4"/>
             </call-macro>
             <call-macro n="tipus_verb">
              <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma">
                 <tags>
               <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="4" side="tl" part="gen"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ PRNPRO VBSER ADV VBPRON-NOPRON > ADV VBSER VBPRON-NOPRON: il s'est toujours rendu chez lui > es totjorn anat a casa ; il s'est toujours enfui > a totjorn fugit">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbser"/>
         <pattern-item n="adv"/>
         <pattern-item n="verb_pron-nopron_pp"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="5" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="2" side="sl" part="pers"/><clip pos="3" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="2" side="sl" part="nbr"/><clip pos="3" side="sl" part="nbr"/></equal>
                   <equal><clip pos="2" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
             <choose>
               <when>
                 <test>
                   <in><clip pos="5" side="tl" part="lem"/><list n="vbambser_oc"/></in>
                 </test>
                 <out>
                   <chunk namefrom="chunkname" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                       <tag><clip pos="3" side="tl" part="temps"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="3" side="tl" part="lemh"/>
                       <clip pos="3" side="tl" part="tags"/>
                       <clip pos="3" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
                 <out>
                   <b pos="3"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SAdv"/></tag>
                     </tags>
                     <lu>
                       <clip pos="4" side="tl" part="lemh"/>
                       <clip pos="4" side="tl" part="tags"/>
                       <clip pos="4" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <call-macro n="f_chunk_tags">
                   <with-param pos="5"/>
                 </call-macro>
                 <call-macro n="tipus_verb">
                  <with-param pos="5"/>
                 </call-macro>
                 <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
                 <out>
                   <b pos="4"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SA"/></tag>
                       <tag><lit-tag v="pp"/></tag>
                       <tag><clip pos="5" side="tl" part="gen"/></tag>
                       <tag><clip pos="5" side="tl" part="nbr"/></tag>
                       <tag><var n="genero_sl"/></tag>
                       <tag><var n="numero_sl"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="5" side="tl" part="lemh"/>
                       <clip pos="5" side="tl" part="a_verb"/>
                       <clip pos="5" side="tl" part="temps"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                       <clip pos="5" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="havercj" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><lit-tag v="vbhaver"/></tag>
                       <tag><clip pos="3" side="tl" part="temps"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <lit v="aver"/>
                       <lit-tag v="vbhaver"/>
                       <clip pos="3" side="tl" part="temps"/>
                       <clip pos="3" side="tl" part="pers"/>
                       <clip pos="3" side="tl" part="gen"/>
                       <clip pos="3" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
                 <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
                 <out>
                   <b pos="3"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SAdv"/></tag>
                     </tags>
                     <lu>
                       <clip pos="4" side="tl" part="lemh"/>
                       <clip pos="4" side="tl" part="tags"/>
                       <clip pos="4" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <call-macro n="f_chunk_tags">
                   <with-param pos="5"/>
                 </call-macro>
                 <call-macro n="tipus_verb">
                  <with-param pos="5"/>
                 </call-macro>
                 <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
                 <out>
                   <b pos="4"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SA"/></tag>
                       <tag><lit-tag v="pp"/></tag>
                       <tag><lit-tag v="m"/></tag>
                       <tag><lit-tag v="sg"/></tag>
                       <tag><var n="genero_sl"/></tag>
                       <tag><var n="numero_sl"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="5" side="tl" part="lemh"/>
                       <clip pos="5" side="tl" part="a_verb"/>
                       <clip pos="5" side="tl" part="temps"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                       <clip pos="5" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
           </when>
           <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="5"/>
             </call-macro>
             <call-macro n="tipus_verb">
              <with-param pos="5"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
             <out>
               <b pos="4"/>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="5" side="tl" part="gen"/></tag>
                   <tag><clip pos="5" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO VBSER ADV VBPRON-NOPRON > VBSER ADV VBPRON-NOPRON: Jean ne s'est pas rendu chez lui > Jean es pas anat a casa ; Jean ne s'est pas enfui > Jean a pas fugit">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbser"/>
         <pattern-item n="adv"/>
         <pattern-item n="verb_pron-nopron_pp"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="5" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="2" side="sl" part="pers"/><clip pos="3" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="2" side="sl" part="nbr"/><clip pos="3" side="sl" part="nbr"/></equal>
                   <equal><clip pos="2" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
             <choose>
               <when>
                 <test>
                   <in><clip pos="5" side="tl" part="lem"/><list n="vbambser_oc"/></in>
                 </test>
                 <out>
                   <chunk namefrom="chunkname" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                       <tag><clip pos="3" side="tl" part="temps"/></tag>
                       <tag><lit-tag v="negation"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="3" side="tl" part="lemh"/>
                       <clip pos="3" side="tl" part="tags"/>
                       <clip pos="3" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
                 <out>
                   <b pos="3"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SAdv"/></tag>
                     </tags>
                     <lu>
                       <clip pos="4" side="tl" part="lemh"/>
                       <clip pos="4" side="tl" part="tags"/>
                       <clip pos="4" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <call-macro n="f_chunk_tags">
                   <with-param pos="5"/>
                 </call-macro>
                 <call-macro n="tipus_verb">
                  <with-param pos="5"/>
                 </call-macro>
                 <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
                 <out>
                   <b pos="4"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SA"/></tag>
                       <tag><lit-tag v="pp"/></tag>
                       <tag><clip pos="5" side="tl" part="gen"/></tag>
                       <tag><clip pos="5" side="tl" part="nbr"/></tag>
                       <tag><var n="genero_sl"/></tag>
                       <tag><var n="numero_sl"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="5" side="tl" part="lemh"/>
                       <clip pos="5" side="tl" part="a_verb"/>
                       <clip pos="5" side="tl" part="temps"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                       <clip pos="5" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="havercj" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><lit-tag v="vbhaver"/></tag>
                       <tag><clip pos="3" side="tl" part="temps"/></tag>
                       <tag><lit-tag v="negation"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <lit v="aver"/>
                       <lit-tag v="vbhaver"/>
                       <clip pos="3" side="tl" part="temps"/>
                       <clip pos="3" side="tl" part="pers"/>
                       <clip pos="3" side="tl" part="gen"/>
                       <clip pos="3" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
                 <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
                 <out>
                   <b pos="3"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SAdv"/></tag>
                     </tags>
                     <lu>
                       <clip pos="4" side="tl" part="lemh"/>
                       <clip pos="4" side="tl" part="tags"/>
                       <clip pos="4" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <call-macro n="f_chunk_tags">
                   <with-param pos="5"/>
                 </call-macro>
                 <call-macro n="tipus_verb">
                  <with-param pos="5"/>
                 </call-macro>
                 <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
                 <out>
                   <b pos="4"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SA"/></tag>
                       <tag><lit-tag v="pp"/></tag>
                       <tag><lit-tag v="m"/></tag>
                       <tag><lit-tag v="sg"/></tag>
                       <tag><var n="genero_sl"/></tag>
                       <tag><var n="numero_sl"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="5" side="tl" part="lemh"/>
                       <clip pos="5" side="tl" part="a_verb"/>
                       <clip pos="5" side="tl" part="temps"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                       <clip pos="5" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
           </when>
           <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="5"/>
             </call-macro>
             <call-macro n="tipus_verb">
              <with-param pos="5"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
             <out>
               <b pos="4"/>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="5" side="tl" part="gen"/></tag>
                   <tag><clip pos="5" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO VBSER ADV VBPRON-NOPRON > VBSER ADV VBPRON-NOPRON: il ne s'est pas rendu chez lui > es pas anat a casa ; il ne s'est pas enfui > a pas fugit">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbser"/>
         <pattern-item n="adv"/>
         <pattern-item n="verb_pron-nopron_pp"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="6" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="3" side="sl" part="pers"/><clip pos="4" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="3" side="sl" part="nbr"/><clip pos="4" side="sl" part="nbr"/></equal>
                   <equal><clip pos="3" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
             <choose>
               <when>
                 <test>
                   <in><clip pos="6" side="tl" part="lem"/><list n="vbambser_oc"/></in>
                 </test>
                 <out>
                   <chunk namefrom="chunkname" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                       <tag><clip pos="4" side="tl" part="temps"/></tag>
                       <tag><lit-tag v="negation"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="4" side="tl" part="lemh"/>
                       <clip pos="4" side="tl" part="tags"/>
                       <clip pos="4" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
                 <out>
                   <b pos="4"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SAdv"/></tag>
                     </tags>
                     <lu>
                       <clip pos="5" side="tl" part="lemh"/>
                       <clip pos="5" side="tl" part="tags"/>
                       <clip pos="5" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <call-macro n="f_chunk_tags">
                   <with-param pos="6"/>
                 </call-macro>
                 <call-macro n="tipus_verb">
                  <with-param pos="6"/>
                 </call-macro>
                 <let><var n="lemma"/><clip pos="6" side="tl" part="lem"/></let>
                 <out>
                   <b pos="5"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SA"/></tag>
                       <tag><lit-tag v="pp"/></tag>
                       <tag><clip pos="6" side="tl" part="gen"/></tag>
                       <tag><clip pos="6" side="tl" part="nbr"/></tag>
                       <tag><var n="genero_sl"/></tag>
                       <tag><var n="numero_sl"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="6" side="tl" part="lemh"/>
                       <clip pos="6" side="tl" part="a_verb"/>
                       <clip pos="6" side="tl" part="temps"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                       <clip pos="6" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="havercj" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SV"/></tag>
                       <tag><lit-tag v="vbhaver"/></tag>
                       <tag><clip pos="4" side="tl" part="temps"/></tag>
                       <tag><lit-tag v="negation"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <lit v="aver"/>
                       <lit-tag v="vbhaver"/>
                       <clip pos="4" side="tl" part="temps"/>
                       <clip pos="4" side="tl" part="pers"/>
                       <clip pos="4" side="tl" part="gen"/>
                       <clip pos="4" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
                 <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
                 <out>
                   <b pos="4"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SAdv"/></tag>
                     </tags>
                     <lu>
                       <clip pos="5" side="tl" part="lemh"/>
                       <clip pos="5" side="tl" part="tags"/>
                       <clip pos="5" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
                 <call-macro n="f_chunk_tags">
                   <with-param pos="6"/>
                 </call-macro>
                 <call-macro n="tipus_verb">
                  <with-param pos="6"/>
                 </call-macro>
                 <let><var n="lemma"/><clip pos="6" side="tl" part="lem"/></let>
                 <out>
                   <b pos="5"/>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SA"/></tag>
                       <tag><lit-tag v="pp"/></tag>
                       <tag><lit-tag v="m"/></tag>
                       <tag><lit-tag v="sg"/></tag>
                       <tag><var n="genero_sl"/></tag>
                       <tag><var n="numero_sl"/></tag>
                       <tag><var n="tipusverb"/></tag>
                     </tags>
                     <lu>
                       <clip pos="6" side="tl" part="lemh"/>
                       <clip pos="6" side="tl" part="a_verb"/>
                       <clip pos="6" side="tl" part="temps"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                       <clip pos="6" side="tl" part="lemq"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
           </when>
           <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
             <out>
               <b pos="4"/>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="tags"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="6"/>
             </call-macro>
             <call-macro n="tipus_verb">
              <with-param pos="6"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="6" side="tl" part="lem"/></let>
             <out>
               <b pos="5"/>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="6" side="tl" part="gen"/></tag>
                   <tag><clip pos="6" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="6" side="tl" part="lemh"/>
                   <clip pos="6" side="tl" part="a_verb"/>
                   <clip pos="6" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="6" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <!-- FIN RÈGLAS VÈRBS NON-PRON -->


    <!-- RÈGLAS ELISION NE -->

    <rule comment="RÈGLA: NE PAS INF > INF PAS: ne pas manger > manjar pas" v="oci">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="pas"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PAS INF > NON PAS INF: ne pas manger > non pas manjar" v="oci@gascon">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="pas"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <lit v="non"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="1"/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PAS PRNPRO INF > PRNPRO INF PAS: ne pas te dire > te dire pas" v="oci">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="pas"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PAS PRNPRO PRNPRO INF > PRNPRO PRNPRO INF PAS: ne pas te le dire > te lo dire pas" v="oci">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="pas"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk name="prnpro">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><clip pos="5" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE ADV_PRNTN INF > INF PAS ADV_PRNTN: ne jamais manger > manjar pas jamai ; ne rien écouter > escotar pas res" v="oci">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="adv_prntn"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE ADV_PRNTN INF > NON PAS ADV_PRNTN INF: ne jamais manger > non pas jamei manjar ; ne rien écouter > non pas arren enténer" v="oci@gascon">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="adv_prntn"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <lit v="non"/>
               <lit-tag v="adv"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="1"/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE ADV_PRNTN PRNPRO INF > PRNPRO INF PAS ADV_PRNTN: ne jamais te dire > te dire pas jamai" v="oci">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="adv_prntn"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE ADV_PRNTN PRNPRO INF > NON PAS ADV_PRNTN PRNPRO INF: ne pas te dire > non pas jamei te dire" v="oci@gascon">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="adv_prntn"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="non_pas_adv" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
             </tags>
             <lu>
               <lit v="non"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="1"/>
             <lu>
               <get-case-from pos="2">
                 <lit v="pas"/>
               </get-case-from>
               <lit-tag v="adv"/>
             </lu>
             <b/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk name="prnpro">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE ADV_PRNTN PRNPRO PRNPRO INF > PRNPRO PRNPRO INF PAS ADV_PRNTN: ne jamais te le dire > te lo dire pas jamai" v="oci">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="adv_prntn"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk name="prnpro">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><clip pos="5" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>


    <rule comment="RÈGLA: NE ADV_PRNTN PRNPRO PRNPRO INF > NON PAS ADV_PRNTN PRNPRO PRNPRO INF: ne pas te le dire > non pas jamei t'ac dire" v="oci@gascon">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="adv_prntn"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="non_pas_adv" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
             </tags>
             <lu>
               <lit v="non"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="1"/>
             <lu>
               <get-case-from pos="2">
                 <lit v="pas"/>
               </get-case-from>
               <lit-tag v="adv"/>
             </lu>
             <b/>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="escriure_prnpro_prnpro">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <out>
           <b pos="4"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><clip pos="5" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE VBSER > VBSER: Jean n'est pas > Jean es pas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbser"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
	   <when>
	     <test>
	       <or>
                 <equal><clip pos="2" side="tl" part="pers"/><lit v=""/></equal>
                 <equal><clip pos="2" side="tl" part="nbr"/><lit v=""/></equal>
	       </or>
	     </test>
             <out>
               <chunk name="vbser" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
	   </when>
	   <otherwise>
             <out>
               <chunk name="vbser" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
	   </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE VBNOSER > VBNOSER: Jean ne dit pas > Jean ditz pas ; l'avion ne décolle pas > l'avion s'enlaira pas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbnoser"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <equal><clip pos="2" side="tl" part="a_verb_pron"/><lit-tag v="vblex.pron"/></equal>
             </test>
             <call-macro n="f_set_pron_pro_force"><with-param pos="2"/><with-param pos="1"/></call-macro>
             <call-macro n="print_pron"></call-macro>
             <let><var n="caseFirstWord"/><case-of pos="2" side="tl" part="lemh"/></let>
           </when>
         </choose>
         <choose>
	       <when>
	         <test>
	           <or>
                 <equal><clip pos="2" side="tl" part="pers"/><lit v=""/></equal>
                 <equal><clip pos="2" side="tl" part="nbr"/><lit v=""/></equal>
	           </or>
	         </test>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
	       </when>
	       <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="2" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
	       </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO VBSER > PRNPRO VBSER: Jean n'y est pas > Jean i es pas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbser"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="tipus_verb">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <let><var n="chunkname"/><clip pos="2" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lem"/>
               <clip pos="2" side="tl" part="tags"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <let><var n="caseFirstWord"/><case-of pos="3" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <or>
                 <equal><clip pos="3" side="tl" part="pers"/><lit v=""/></equal>
                 <equal><clip pos="3" side="tl" part="nbr"/><lit v=""/></equal>
               </or>
             </test>
             <out>
               <chunk name="vbser" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="vbser" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><clip pos="3" side="tl" part="pers"/></tag>
                   <tag><clip pos="3" side="tl" part="nbr"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO VBNOSER > PRNPRO VBNOSER: Jean ne lui dit pas > Jean li ditz pas ; Jean ne se rend pas chez lui > Jean va pas a casa">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbnoser"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="3" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="2" side="sl" part="pers"/><clip pos="3" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="2" side="sl" part="nbr"/><clip pos="3" side="sl" part="nbr"/></equal>
                   <equal><clip pos="2" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><clip pos="3" side="tl" part="pers"/></tag>
                   <tag><clip pos="3" side="tl" part="nbr"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <when>
             <test>
               <or>
                 <equal><clip pos="3" side="tl" part="pers"/><lit v=""/></equal>
                 <equal><clip pos="3" side="tl" part="nbr"/><lit v=""/></equal>
               </or>
             </test>
             <let><var n="chunkname"/><clip pos="2" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lem"/>
                   <clip pos="2" side="tl" part="tags"/>
                 </lu>
               </chunk>
               <b pos="2"/>
             </out>
             <let><var n="caseFirstWord"/><case-of pos="3" side="sl" part="lemh"/></let>
             <let><var n="chunkname"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="chunkname"/><clip pos="2" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lem"/>
                   <clip pos="2" side="tl" part="tags"/>
                 </lu>
               </chunk>
               <b pos="2"/>
             </out>
             <let><var n="caseFirstWord"/><case-of pos="3" side="sl" part="lemh"/></let>
             <let><var n="chunkname"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><clip pos="3" side="tl" part="pers"/></tag>
                   <tag><clip pos="3" side="tl" part="nbr"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO PRNPRO VBNOSER > PRNPRO PRNPRO VBNOSER: Jean ne lui en donne pas > Jean li ne donne pas" v="oci">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="verbconj"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="escriure_prnpro_prnpro">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <or>
                 <equal><clip pos="4" side="tl" part="pers"/><lit v=""/></equal>
                 <equal><clip pos="4" side="tl" part="nbr"/><lit v=""/></equal>
               </or>
             </test>
             <out>
               <b pos="3"/>
               <chunk namefrom="chunkname">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="4" side="tl" part="pers"/>
                   <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <b pos="3"/>
               <chunk namefrom="chunkname">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><clip pos="4" side="tl" part="pers"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO PRNPRO VERB (n'y en a pas: n'i a pas; Jean ne le lui dit pas: Jean l'ac diguèt pas)" v="oci@gascon">
      <pattern>
        <pattern-item n="ne"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
        <call-macro n="tipus_prn">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_bcond">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <modify-case>
          <clip pos="2" side="tl" part="lem"/>
          <case-of pos="1" side="tl" part="lem"/>
        </modify-case>
        <call-macro n="escriure_prnpro_prnpro">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <b pos="3"/>
          <chunk namefrom="chunkname" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="4" side="tl" part="a_verb"/></tag>
              <tag><clip pos="4" side="tl" part="temps"/></tag>
              <tag><clip pos="4" side="tl" part="pers"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><lit-tag v="negation"/></tag>
              <tag><lit-tag v="sans_pas"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="a_verb"/>
              <lit-tag v="3"/>
              <lit-tag v="4"/>
              <lit-tag v="5"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

  <!-- FIN RÈGLAS ELISION NE -->


  <!-- RÈGLAS ELISION SUBJECTE -->

    <rule comment="RÈGLA: PRNSUBJ VERB (il arrive > arriba ; il décolle > s'enlaira)">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
        <call-macro n="f_set_pron_pro">
          <with-param pos="2"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <equal><var n="pronom"/><lit v=""/></equal>
             </test>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="2" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <call-macro n="f_set_pron_pro_force"><with-param pos="2"/><with-param pos="1"/></call-macro>
             <call-macro n="print_pron"></call-macro>
             <out>
               <chunk name="verb">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="2" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
      </action>
    </rule>


    <rule comment="RÈGLA: VERB PRNSUBJ (penses-tu: pensas)">
      <pattern>
        <pattern-item n="verbconj"/>
        <pattern-item n="prnsubj"/>
      </pattern>
      <action>
        <call-macro n="f_concord0">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal><var n="chunkname"/><lit v="verbcj"/></equal>
            </test>
            <let><var n="chunkname"/><lit v="verbcj-prnsubj"/></let>
          </when>
        </choose>
        <out>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="1" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>


    <rule comment="RÈGLA: CM VERB PRNSUBJ (, dit-il > , çò ditz)">
      <pattern>
        <pattern-item n="cm_qmarks"/>
        <pattern-item n="verbconj"/>
        <pattern-item n="prnsubj"/>
      </pattern>
      <action>
        <call-macro n="f_concord0">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal><var n="chunkname"/><lit v="verbcj"/></equal>
            </test>
            <let><var n="chunkname"/><lit v="verbcj-prnsubj"/></let>
          </when>
        </choose>
        <out>
          <chunk name="cm">
            <tags>
              <tag><lit-tag v="CM"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="ce">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
              <tag><lit-tag v="enon"/></tag>
            </tags>
            <lu>
              <lit v="ce"/>
              <lit-tag v="adv.enon"/>
            </lu>
          </chunk>
          <b/>
          <b/>
          <chunk namefrom="chunkname">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="2" side="tl" part="a_verb"/></tag>
              <tag><clip pos="2" side="tl" part="temps"/></tag>
              <tag><clip pos="2" side="tl" part="pers"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <lit-tag v="3"/>
              <lit-tag v="4"/>
              <lit-tag v="5"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: PRNSUBJ PRNPRO VERB (il lui dit: li ditz)">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lem"/></let>
         <let><var n="chunkname"/><clip pos="2" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lem"/>
               <clip pos="2" side="tl" part="tags"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <let><var n="caseFirstWord"/><case-of pos="3" side="sl" part="lemh"/></let>
         <let><var n="chunkname"/><clip pos="3" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><clip pos="3" side="tl" part="pers"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
      </action>
    </rule>


<!--
    <rule comment="RÈGLA: Y EN (il y en a: n'i a">
      <pattern>
        <pattern-item n="y"/>
        <pattern-item n="enprn"/>
      </pattern>
      <action>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="pro-pro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <get-case-from pos="2">
                 <clip pos="1" side="tl" part="lemh"/>
               </get-case-from>
               <clip pos="1" side="tl" part="tags"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
      </action>
    </rule>
-->


    <rule comment="RÈGLA: PRNPRO PRNPRO (y en > n'i; le lui > o li / l'ac)">
      <pattern>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
      </pattern>
      <action>
         <call-macro n="f_concord1">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
        <call-macro n="escriure_prnpro_prnpro">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
      </action>
    </rule>


    <rule comment="RÈGLA: PRNSUBJ PRNPRO PRNPRO VERB (il y en a: n'i a; il le lui dit: o li ditz)" v="oci">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="y"/></equal>
                 <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="en"/></equal>
               </and>
             </test>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><clip pos="4" side="tl" part="pers"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lem"/></let>
             <let><var n="chunkname"/><clip pos="2" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lem"/>
                   <clip pos="2" side="tl" part="tags"/>
                 </lu>
               </chunk>
               <b pos="2"/>
             </out>
             <let><var n="caseFirstWord"/><case-of pos="3" side="sl" part="lem"/></let>
             <let><var n="chunkname"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lem"/>
                   <clip pos="3" side="tl" part="tags"/>
                 </lu>
               </chunk>
               <b pos="3"/>
             </out>
             <let><var n="caseFirstWord"/><case-of pos="4" side="sl" part="lemh"/></let>
             <let><var n="chunkname"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><clip pos="4" side="tl" part="pers"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
      </action>
    </rule>


    <rule comment="RÈGLA: PRNSUBJ PRNPRO PRNPRO VERB (il y en a: n'i a; il le lui dit: l'ac ditz)" v="oci@gascon">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
        <modify-case>
          <clip pos="2" side="tl" part="lem"/>
          <case-of pos="1" side="tl" part="lem"/>
        </modify-case>
        <call-macro n="escriure_prnpro_prnpro">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="4" side="sl" part="lemh"/></let>
        <let><var n="chunkname"/><clip pos="4" side="tl" part="lem"/></let>
        <out>
          <b pos="3"/>
          <chunk namefrom="chunkname" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="4" side="tl" part="a_verb"/></tag>
              <tag><clip pos="4" side="tl" part="temps"/></tag>
              <tag><clip pos="4" side="tl" part="pers"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="a_verb"/>
              <lit-tag v="3"/>
              <lit-tag v="4"/>
              <lit-tag v="5"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: EST-CE QUE PRNPRO PRNSUBJ VERB (est-ce qu'il lui dit: li ditz)">
      <pattern>
        <pattern-item n="estceque"/>
        <pattern-item n="prnsubj"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="2"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
      </action>
    </rule>


    <rule comment="RÈGLA: EST-CE QUE PRNSUBJ VERB (est-ce qu'il arrive: arriba)">
      <pattern>
        <pattern-item n="estceque"/>
        <pattern-item n="prnsubj"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
        <call-macro n="f_concord0">
          <with-param pos="2"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>


    <rule comment="RÈGLA: PRNSUBJ NE VERB (il ne dit > ditz ; il ne décolle > s'enlaira)">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="ne"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_set_pron_pro">
          <with-param pos="3"/>
          <with-param pos="3"/>
          <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <equal><var n="pronom"/><lit v=""/></equal>
             </test>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <call-macro n="print_pron"></call-macro>
             <out>
               <chunk namefrom="chunkname">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
      </action>
    </rule>


    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO VERB > PRNPRO VBNOSER: il ne lui dit pas > li ditz pas ; il ne se rend pas chez lui > va pas a casa">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="ne"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="4" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="3" side="sl" part="pers"/><clip pos="4" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="3" side="sl" part="nbr"/><clip pos="4" side="sl" part="nbr"/></equal>
                   <equal><clip pos="3" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lem"/></let>
             <let><var n="chunkname"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lem"/>
                   <clip pos="3" side="tl" part="tags"/>
                 </lu>
               </chunk>
               <b pos="3"/>
             </out>
             <let><var n="caseFirstWord"/><case-of pos="4" side="sl" part="lemh"/></let>
             <let><var n="chunkname"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="4" side="tl" part="pers"/>
                   <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lem"/></let>
             <let><var n="chunkname"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><var n="tipusprn"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lem"/>
                   <clip pos="3" side="tl" part="tags"/>
                 </lu>
               </chunk>
               <b pos="3"/>
             </out>
             <let><var n="caseFirstWord"/><case-of pos="4" side="sl" part="lemh"/></let>
             <let><var n="chunkname"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><lit-tag v="sans_pas"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="4" side="tl" part="pers"/>
                   <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO PRNPRO VERB (il n'y en a pas: n'i a pas; il ne le lui dit pas: o li diguèt pas)" v="oci">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="ne"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="4"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <and>
                 <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="y"/></equal>
                 <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="en"/></equal>
               </and>
             </test>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="5" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="5" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="5" side="tl" part="pers"/>
                   <clip pos="5" side="tl" part="nbr"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="5" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="5" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="5" side="tl" part="pers"/>
                   <clip pos="5" side="tl" part="nbr"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO PRNPRO VERB (il n'y en a pas: n'i a pas; il ne le lui dit pas: l'ac diguèt pas)" v="oci@gascon">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="ne"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbconj"/>
      </pattern>
      <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="4"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
        <modify-case>
          <clip pos="3" side="tl" part="lem"/>
          <case-of pos="1" side="tl" part="lem"/>
        </modify-case>
        <call-macro n="escriure_prnpro_prnpro">
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="5" side="sl" part="lemh"/></let>
        <out>
          <b pos="4"/>
          <chunk namefrom="chunkname" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="5" side="tl" part="a_verb"/></tag>
              <tag><clip pos="5" side="tl" part="temps"/></tag>
              <tag><lit-tag v="negation"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="a_verb"/>
              <lit-tag v="3"/>
              <clip pos="5" side="tl" part="pers"/>
              <clip pos="5" side="tl" part="nbr"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NE VBSER > VBSER: N'est-il pas > Es pas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbser"/>
         <pattern-item n="prnsubj"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_verb"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE VBNOSER > VBNOSER: Ne dit-il pas > Ditz pas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbnoser"/>
         <pattern-item n="prnsubj"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_verb"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO VBSER > PRNPRO VBSER: N'y est-il pas > I es pas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbser"/>
         <pattern-item n="prnsubj"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="tipus_verb">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <let><var n="chunkname"/><clip pos="2" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lem"/>
               <clip pos="2" side="tl" part="tags"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <let><var n="caseFirstWord"/><case-of pos="3" side="sl" part="lemh"/></let>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO VBNOSER > PRNPRO VBNOSER: Ne lui dit-il pas > Li ditz pas">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbnoser"/>
         <pattern-item n="prnsubj"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO PRNPRO VBNOSER > PRNPRO PRNPRO VBNOSER: Ne lui en donne-t-il pas > Li en donne pas" v="oci">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="verbconj"/>
         <pattern-item n="prnsubj"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="escriure_prnpro_prnpro">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out>
           <b pos="3"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <clip pos="4" side="tl" part="pers"/>
               <clip pos="4" side="tl" part="nbr"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO PRNPRO VERB (Ne le lui dit-il pas: L'ac digó pas)" v="oci@gascon">
      <pattern>
        <pattern-item n="ne"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbconj"/>
         <pattern-item n="prnsubj"/>
      </pattern>
      <action>
         <call-macro n="tipus_prn">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
        <modify-case>
          <clip pos="2" side="tl" part="lem"/>
          <case-of pos="1" side="tl" part="lem"/>
        </modify-case>
        <call-macro n="escriure_prnpro_prnpro">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk namefrom="chunkname" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="4" side="tl" part="a_verb"/></tag>
              <tag><clip pos="4" side="tl" part="temps"/></tag>
              <tag><lit-tag v="negation"/></tag>
              <tag><lit-tag v="sans_pas"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="a_verb"/>
              <lit-tag v="3"/>
              <clip pos="4" side="tl" part="pers"/>
              <clip pos="4" side="tl" part="nbr"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

  <!-- FIN RÈGLAS ELISION SUBJECTE -->


  <!-- RÈGLAS ON -->

    <rule comment="RÈGLA: ON VERBP3 (on peut: se pòt)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="verbp3sg"/>
      </pattern>
      <action>
        <call-macro n="tipus_verb">
         <with-param pos="2"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
          <chunk name="prn" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SPron"/></tag>
              <tag><lit-tag v="ref"/></tag>
              <tag><lit-tag v="on"/></tag>
            </tags>
            <lu>
              <lit v="se"/>
              <lit-tag v="prn.pro.ref.p3.mf.sp"/>
            </lu>
          </chunk>
          <b pos="1"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_verb"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: VERBP3 ON (peut-on: se pòt)">
      <pattern>
        <pattern-item n="verbp3sg"/>
        <pattern-item n="on"/>
      </pattern>
      <action>
        <call-macro n="f_concord0">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="1"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
          <chunk name="prn" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SPron"/></tag>
              <tag><lit-tag v="ref"/></tag>
              <tag><lit-tag v="on"/></tag>
            </tags>
            <lu>
              <lit v="se"/>
              <lit-tag v="prn.pro.ref.p3.mf.sp"/>
            </lu>
          </chunk>
          <b/>
          <b/>	<!-- SPACE BUG -->
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <get-case-from pos="2">
                 <clip pos="1" side="tl" part="lemh"/>
               </get-case-from>
               <clip pos="1" side="tl" part="tags"/>
               <clip pos="1" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ON PRNPROREF VERBP3 (on se dit: nos diguèrem)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="prnproref"/>
        <pattern-item n="verbp3sg"/>
      </pattern>
      <action>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
          <chunk namefrom="chunkname" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="3" side="tl" part="a_verb"/></tag>
              <tag><clip pos="3" side="tl" part="temps"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <lit v="nos"/>
              <lit-tag v="prn.pro.p1.mf.pl"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <lit-tag v="p1.pl"/>
              <clip pos="3" side="tl" part="lemq"/>
             </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ON PRNPRO VERBP3 (on lui dit > se li diguèt ; on me dit > qualqu'un me diguèt)" v="oci">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbp3sg"/>
      </pattern>
      <action>
         <call-macro n="set_qualqun"></call-macro>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <choose>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="2" side="sl" part="lemh"/><lit v="me"/></equal>
                <equal caseless="yes"><clip pos="2" side="sl" part="lemh"/><lit v="te"/></equal>
                <equal caseless="yes"><clip pos="2" side="sl" part="lemh"/><lit v="nous"/></equal>
                <equal caseless="yes"><clip pos="2" side="sl" part="lemh"/><lit v="vous"/></equal>
              </or>
            </test>
            <out>
              <chunk name="prn" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SPron"/></tag>
                  <tag><lit-tag v="ref"/></tag>
                  <tag><lit-tag v="on"/></tag>
                </tags>
                <lu>
                  <var n="v_qualqun"/>
                  <lit-tag v="prn.tn.m.sg"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="prn" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SPron"/></tag>
                  <tag><lit-tag v="ref"/></tag>
                  <tag><lit-tag v="on"/></tag>
                </tags>
                <lu>
                  <lit v="se"/>
                  <lit-tag v="prn.pro.ref.p3.mf.sp"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
        <out>
          <b pos="1"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ON PRNPRO VERBP3 (on en dit > se'n diguó ; on lui dit > lo's diguó ; on me dit > quauqu'un me diguó)" v="oci@gascon">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbp3sg"/>
      </pattern>
      <action>
        <call-macro n="set_qualqun"></call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <choose>
          <when>
            <test>
              <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
            </test>
            <call-macro n="tipus_prn">
              <with-param pos="2"/>
            </call-macro>
            <out>
              <chunk name="lo" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SPron"/></tag>
                  <tag><var n="tipusprn"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lem"/>
                  <clip pos="2" side="tl" part="tags"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
            <let><var n="caseFirstWord"/><case-of pos="2" side="sl" part="lem"/></let>
            <out>
              <chunk name="se" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SPron"/></tag>
                  <tag><lit-tag v="ref"/></tag>
                </tags>
                <lu>
                  <lit v="se"/>
                  <lit-tag v="prn.pro.ref.p3.mf.sp"/>
                </lu>
              </chunk>
              <b pos="2"/>
              <chunk namefrom="chunkname">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                  <tag><clip pos="3" side="tl" part="temps"/></tag>
                  <tag><var n="tipusverb"/></tag>
                </tags>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
           <choose>
             <when>
               <test>
                 <or>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lemh"/><lit v="me"/></equal>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lemh"/><lit v="te"/></equal>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lemh"/><lit v="nous"/></equal>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lemh"/><lit v="vous"/></equal>
                 </or>
               </test>
               <out>
                 <chunk name="prn" case="caseFirstWord">
                   <tags>
                     <tag><lit-tag v="SPron"/></tag>
                     <tag><lit-tag v="ref"/></tag>
                     <tag><lit-tag v="on"/></tag>
                   </tags>
                   <lu>
                     <var n="v_qualqun"/>
                     <lit-tag v="prn.tn.m.sg"/>
                   </lu>
                 </chunk>
               </out>
             </when>
             <otherwise>
               <out>
                 <chunk name="prn" case="caseFirstWord">
                   <tags>
                     <tag><lit-tag v="SPron"/></tag>
                     <tag><lit-tag v="ref"/></tag>
                     <tag><lit-tag v="on"/></tag>
                   </tags>
                   <lu>
                     <lit v="se"/>
                     <lit-tag v="prn.pro.ref.p3.mf.sp"/>
                   </lu>
                 </chunk>
               </out>
             </otherwise>
           </choose>
           <out>
             <b pos="1"/>
              <chunk namefrom="chunkname">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                  <tag><clip pos="3" side="tl" part="temps"/></tag>
                  <tag><var n="tipusverb"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                 </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: ON PRNPRO PRNPRO VERBP3 (on le lui dit: se o li diguèt)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbp3sg"/>
      </pattern>
      <action>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="4"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
          <chunk name="prn" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SPron"/></tag>
              <tag><lit-tag v="ref"/></tag>
              <tag><lit-tag v="on"/></tag>
            </tags>
            <lu>
              <lit v="se"/>
              <lit-tag v="prn.pro.ref.p3.mf.sp"/>
            </lu>
          </chunk>
          <b pos="1"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="whole"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ON NE VERBP3 (on ne mange pas: se manja pas)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="ne"/>
        <pattern-item n="verbp3sg"/>
      </pattern>
      <action>
        <call-macro n="tipus_verb">
         <with-param pos="3"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
          <chunk name="prn" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SPron"/></tag>
              <tag><lit-tag v="ref"/></tag>
              <tag><lit-tag v="on"/></tag>
            </tags>
            <lu>
              <lit v="se"/>
              <lit-tag v="prn.pro.ref.p3.mf.sp"/>
            </lu>
          </chunk>
          <b pos="1"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ON PRNPROREF VERBP3 (on ne se dit pas > nos diguèrem pas)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="ne"/>
        <pattern-item n="prnproref"/>
        <pattern-item n="verbp3sg"/>
      </pattern>
      <action>
        <call-macro n="tipus_verb">
         <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
          <chunk namefrom="chunkname" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="4" side="tl" part="a_verb"/></tag>
              <tag><clip pos="4" side="tl" part="temps"/></tag>
              <tag><lit-tag v="negation"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <lit v="nos"/>
              <lit-tag v="prn.pro.p1.mf.pl"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="a_verb"/>
              <clip pos="4" side="tl" part="temps"/>
              <lit-tag v="p1.pl"/>
              <clip pos="4" side="tl" part="lemq"/>
             </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ON NE PRNPRO VERBP3 (on ne lui dit pas > se li diguèt pas ; on ne me dit pas > degun me diguèt pas)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="ne"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbp3sg"/>
      </pattern>
      <action>
         <call-macro n="set_degun"></call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="4"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <choose>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="3" side="sl" part="lemh"/><lit v="me"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lemh"/><lit v="te"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lemh"/><lit v="nous"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lemh"/><lit v="vous"/></equal>
              </or>
            </test>
            <out>
              <chunk namefrom="v_degun" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SPron"/></tag>
                  <tag><lit-tag v="tn"/></tag>
                  <tag><lit-tag v="pas_neg"/></tag>
                </tags>
                <lu>
                  <var n="v_degun"/>
                  <lit-tag v="prn.tn.m.sg"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="prn" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SPron"/></tag>
                  <tag><lit-tag v="ref"/></tag>
                  <tag><lit-tag v="on"/></tag>
                </tags>
                <lu>
                  <lit v="se"/>
                  <lit-tag v="prn.pro.ref.p3.mf.sp"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
        <out>
          <b pos="1"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ON NE PRNPRO PRNPRO VERBP3 (on ne le lui dit pas: se o li diguèt pas)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="ne"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="verbp3sg"/>
      </pattern>
      <action>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="4"/>
         </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="5"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
          <chunk name="prn" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SPron"/></tag>
              <tag><lit-tag v="ref"/></tag>
              <tag><lit-tag v="on"/></tag>
            </tags>
            <lu>
              <lit v="se"/>
              <lit-tag v="prn.pro.ref.p3.mf.sp"/>
            </lu>
          </chunk>
          <b pos="1"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><clip pos="5" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="4" side="tl" part="whole"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

  <!-- FIN RÈGLAS ON -->


  <!-- RÈGLAS REORDENACION PRONOMS -->

    <rule comment="RÈGLA: HAVER PP PRNPRO INF (auraient pu l'imaginer: l’aurián pogut imaginar)">
       <pattern>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp_no_ser"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="1"/>
             <lu>
               <get-case-from pos="2">
                 <clip pos="1" side="tl" part="lemh"/>
               </get-case-from>
               <clip pos="1" side="tl" part="tags"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ HAVER PP PRNPRO INF (ils auraient pu l'imaginer: l’aurián pogut imaginar)">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp_no_ser"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="4"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: HAVER ADV PP PRNPRO INF (auraient bien pu l'imaginer: l’aurián fòrça pogut imaginar)">
       <pattern>
         <pattern-item n="vbhaver"/>
         <pattern-item n="adv"/>
         <pattern-item n="pp_no_ser"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
             <b pos="1"/>
             <lu>
               <get-case-from pos="2">
                 <clip pos="1" side="tl" part="lemh"/>
               </get-case-from>
               <clip pos="1" side="tl" part="tags"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ HAVER ADV PP PRNPRO INF (ils auraient bien pu l'imaginer: l’aurián fòrça pogut imaginar)">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="adv"/>
         <pattern-item n="pp_no_ser"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
         <call-macro n="tipus_prn">
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="5"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="6" side="tl" part="a_verb"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
             <b pos="5"/>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="tags"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
      </action>
    </rule>

  <!-- FIN RÈGLAS REORDENACION PRONOMS -->


  <!-- RÈGLAS EN TRAIN DE -->

    <rule comment="RÈGLA: être en train de inf = verb-conj: Jean est en train de dormir > Jean dòrm">
      <pattern>
        <pattern-item n="vbser"/>
        <pattern-item n="enprep"/>
        <pattern-item n="train"/>
        <pattern-item n="deprep"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><clip pos="5" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: prnsubj être en train de inf = verb-conj: il est en train de dormir > dòrm">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="vbser"/>
        <pattern-item n="enprep"/>
        <pattern-item n="train"/>
        <pattern-item n="deprep"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="5"/>
           <with-param pos="6"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="6" side="tl" part="a_verb"/></tag>
               <tag><clip pos="6" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
           </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: être en train de prnpro inf = prnpro verb-conj: est en train de lui dire > li ditz">
      <pattern>
        <pattern-item n="vbser"/>
        <pattern-item n="enprep"/>
        <pattern-item n="train"/>
        <pattern-item n="deprep"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
         <call-macro n="tipus_prn">
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="6"/>
         </call-macro>
        <call-macro n="tipus_prn">
          <with-param pos="5"/>
        </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="5"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="6" side="tl" part="a_verb"/></tag>
               <tag><clip pos="6" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
           </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: prnsubj être en train de prnpro inf = prnpro verb-conj: il est en train de lui dire > li ditz">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="vbser"/>
        <pattern-item n="enprep"/>
        <pattern-item n="train"/>
        <pattern-item n="deprep"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
         <call-macro n="tipus_prn">
           <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_concord1">
           <with-param pos="6"/>
         </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="7"/>
         </call-macro>
        <call-macro n="tipus_prn">
          <with-param pos="6"/>
        </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="5"/>
           <with-param pos="6"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="tags"/>
               <clip pos="6" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="6"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="7" side="tl" part="a_verb"/></tag>
               <tag><clip pos="7" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="7" side="tl" part="lemq"/>
             </lu>
           </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ne être pas en train de inf = verb-conj pas: Jean n'est pas en train de dormir > Jean dòrm pas">
      <pattern>
        <pattern-item n="ne"/>
        <pattern-item n="vbser"/>
        <pattern-item n="pas"/>
        <pattern-item n="enprep"/>
        <pattern-item n="train"/>
        <pattern-item n="deprep"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
         <call-macro n="tipus_verb">
          <with-param pos="7"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="5"/>
           <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="6"/>
           <with-param pos="7"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="7" side="tl" part="a_verb"/></tag>
               <tag><clip pos="7" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="7" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
           </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: prnsubj ne être pas en train de inf = verb-conj: il n'est pas en train de dormir > dòrm pas">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="ne"/>
        <pattern-item n="vbser"/>
        <pattern-item n="pas"/>
        <pattern-item n="enprep"/>
        <pattern-item n="train"/>
        <pattern-item n="deprep"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="8"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="5"/>
           <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="6"/>
           <with-param pos="7"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="7"/>
           <with-param pos="8"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="8" side="tl" part="a_verb"/></tag>
               <tag><clip pos="8" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="8" side="tl" part="lemh"/>
               <clip pos="8" side="tl" part="a_verb"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="8" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
           </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ne prnpro être pas en train de inf = verb-conj pas: Jeaj ne lui est pas en train de dire > Jeaj ditz pas">
      <pattern>
        <pattern-item n="ne"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="vbser"/>
        <pattern-item n="pas"/>
        <pattern-item n="enprep"/>
        <pattern-item n="train"/>
        <pattern-item n="deprep"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
         <call-macro n="f_concord1">
           <with-param pos="2"/>
         </call-macro>
        <call-macro n="tipus_prn">
          <with-param pos="2"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="8"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="f_bcond">
           <with-param pos="3"/>
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="5"/>
           <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="6"/>
           <with-param pos="7"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="7"/>
           <with-param pos="8"/>
         </call-macro>
        <out>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="8" side="tl" part="a_verb"/></tag>
               <tag><clip pos="8" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="8" side="tl" part="lemh"/>
               <clip pos="8" side="tl" part="a_verb"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="8" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
           </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: prnsubj ne prnpro être pas en train de inf = verb-conj pas: il ne lui est pas en train de dire > li ditz pas">
      <pattern>
        <pattern-item n="prnsubj"/>
        <pattern-item n="ne"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="vbser"/>
        <pattern-item n="pas"/>
        <pattern-item n="enprep"/>
        <pattern-item n="train"/>
        <pattern-item n="deprep"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="tipus_prn">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord0">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="9"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk name="prnpro" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="f_bcond">
           <with-param pos="4"/>
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="5"/>
           <with-param pos="6"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="6"/>
           <with-param pos="7"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="7"/>
           <with-param pos="8"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="8"/>
           <with-param pos="9"/>
         </call-macro>
        <out>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="9" side="tl" part="a_verb"/></tag>
               <tag><clip pos="9" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="9" side="tl" part="lemh"/>
               <clip pos="9" side="tl" part="a_verb"/>
               <clip pos="4" side="tl" part="temps"/>
               <clip pos="4" side="tl" part="pers"/>
               <clip pos="4" side="tl" part="nbr"/>
               <clip pos="9" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
           </chunk>
        </out>
      </action>
    </rule>

  <!-- FIN RÈGLAS EN TRAIN DE -->


  <!-- RÈGLAS NE... QUE -->

    <!-- sens prnpro -->

    <rule comment="RÈGLA: NE VERB QUE (ne veut que manger > vòl pas que manjar)">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="verb"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="neg_imp">
          <with-param pos="2"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <out>
           <chunk name="verb" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_verb"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk name="que">
             <tags>
               <tag><lit-tag v="cnjsub"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE VERB QUE (il ne veut que manger > vòl pas que manjar)">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="verbconj"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk name="verb" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
           </chunk>
           <b pos="3"/>
           <chunk name="que">
             <tags>
               <tag><lit-tag v="cnjsub"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVER PP QUE (n'a volu que manger > a pas volgut que manjar)">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="neg_imp">
          <with-param pos="2"/>
         </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal caseless="yes"><clip pos="3" side="sl" part="lemh"/><lit v="être"/></equal>
             </test>
             <call-macro n="set_vbser"></call-macro>
             <call-macro n="f_concord2">
              <with-param pos="3"/>
              <with-param pos="2"/>
             </call-macro>
             <out>
               <chunk name="vbser_pp" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="2" side="tl" part="temps"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="gen"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="3"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="whole"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="verb" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="gen"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="3"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="whole"/>
                 </lu>
               </chunk>
           </out>
         </otherwise>
       </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE HAVER PP QUE (il n'a volu que manger > a pas volgut que manjar)">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal caseless="yes"><clip pos="4" side="sl" part="lemh"/><lit v="être"/></equal>
             </test>
             <call-macro n="set_vbser"></call-macro>
             <call-macro n="f_concord2">
              <with-param pos="4"/>
              <with-param pos="3"/>
             </call-macro>
             <out>
               <chunk name="vbser_pp" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <clip pos="4" side="tl" part="gen"/>
                   <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="whole"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="verb" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <clip pos="4" side="tl" part="gen"/>
                   <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="whole"/>
                 </lu>
               </chunk>
           </out>
         </otherwise>
       </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE SER PP QUE (n'est venu que pour manger > es pas vengut que manjar)">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbser"/>
         <pattern-item n="adjec"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="neg_imp">
          <with-param pos="2"/>
         </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <out>
           <chunk name="vbser_pp" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_verb"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_adj"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <clip pos="3" side="tl" part="temps"/>
	           <clip pos="3" side="tl" part="gen"/>
	           <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
           <chunk name="que">
             <tags>
               <tag><lit-tag v="cnjsub"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE SER PP QUE (il n'est venu que pour manger > es pas vengut que manjar)">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbser"/>
         <pattern-item n="adjec"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk name="vbser_pp" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_adj"/>
               <clip pos="4" side="tl" part="a_verb"/>
               <clip pos="4" side="tl" part="temps"/>
	       <clip pos="4" side="tl" part="gen"/>
	       <clip pos="4" side="tl" part="nbr"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="4"/>
           <chunk name="que">
             <tags>
               <tag><lit-tag v="cnjsub"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE HAVER PP ADJEC QUE (n'a été volu que > es pas estat volgut que)">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp"/>
         <pattern-item n="adjec"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="neg_imp">
          <with-param pos="2"/>
         </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal caseless="yes"><clip pos="3" side="sl" part="lemh"/><lit v="être"/></equal>
             </test>
             <call-macro n="set_vbser"></call-macro>
             <call-macro n="f_concord2">
              <with-param pos="3"/>
              <with-param pos="4"/>
             </call-macro>
             <out>
               <chunk name="vbser_pp" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="2" side="tl" part="temps"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_adj"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
	           <clip pos="4" side="tl" part="gen"/>
	           <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="whole"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="verb" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_adj"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
	           <clip pos="4" side="tl" part="gen"/>
	           <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="whole"/>
                 </lu>
               </chunk>
           </out>
         </otherwise>
       </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE HAVER PP ADJEC QUE (il n'a été volu que > es pas estat volgut que)">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp"/>
         <pattern-item n="adjec"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="4"/>
          <with-param pos="5"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal caseless="yes"><clip pos="4" side="sl" part="lemh"/><lit v="être"/></equal>
             </test>
             <call-macro n="set_vbser"></call-macro>
             <call-macro n="f_concord2">
              <with-param pos="4"/>
              <with-param pos="3"/>
             </call-macro>
             <out>
               <chunk name="vbser_pp" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                 </tags>
                 <lu>
                   <var n="v_vbser"/>
                   <lit-tag v="vbser"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
	           <clip pos="4" side="tl" part="gen"/>
	           <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_adj"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
	           <clip pos="5" side="tl" part="gen"/>
	           <clip pos="5" side="tl" part="nbr"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="5"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="6" side="tl" part="whole"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="verb" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
	           <clip pos="4" side="tl" part="gen"/>
	           <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_adj"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
	           <clip pos="5" side="tl" part="gen"/>
	           <clip pos="5" side="tl" part="nbr"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="5"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="6" side="tl" part="whole"/>
                 </lu>
               </chunk>
           </out>
         </otherwise>
       </choose>
       </action>
    </rule>

    <!-- ambe un prnpro -->

    <rule comment="RÈGLA: NE PRNPRO VERB QUE (ne lui donne que > li dona pas que)">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="verb"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <out>
           <chunk name="verb" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
           </chunk>
           <b pos="3"/>
           <chunk name="que">
             <tags>
               <tag><lit-tag v="cnjsub"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO VERB QUE (il ne lui donne que > li dona pas que)">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="verbconj"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="4"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk name="verb" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
           </chunk>
           <b pos="4"/>
           <chunk name="que">
             <tags>
               <tag><lit-tag v="cnjsub"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO HAVER PP QUE (ne lui a donné que > li a pas donat que)">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal caseless="yes"><clip pos="4" side="sl" part="lemh"/><lit v="être"/></equal>
             </test>
             <call-macro n="set_vbser"></call-macro>
             <call-macro n="f_concord2">
              <with-param pos="4"/>
              <with-param pos="3"/>
             </call-macro>
             <out>
               <chunk name="vbser_pp" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <get-case-from pos="3">
                     <var n="v_vbser"/>
                   </get-case-from>
                   <lit-tag v="vbser"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="whole"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="verb" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="4"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="whole"/>
                 </lu>
               </chunk>
           </out>
         </otherwise>
       </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO HAVER PP QUE (il ne lui a donné que > li a pas donat que)">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="4"/>
         </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="5"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal caseless="yes"><clip pos="5" side="sl" part="lemh"/><lit v="être"/></equal>
             </test>
             <call-macro n="set_vbser"></call-macro>
             <call-macro n="f_concord2">
              <with-param pos="5"/>
              <with-param pos="4"/>
             </call-macro>
             <out>
               <chunk name="vbser_pp" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <get-case-from pos="4">
                     <var n="v_vbser"/>
                   </get-case-from>
                   <lit-tag v="vbser"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <clip pos="4" side="tl" part="pers"/>
                   <clip pos="4" side="tl" part="nbr"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="tags"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="5"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="6" side="tl" part="whole"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="verb" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="tags"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="5"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="6" side="tl" part="whole"/>
                 </lu>
               </chunk>
           </out>
         </otherwise>
       </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO SER PP QUE (ne lui est arrivé que > li es pas arribat que)">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbser"/>
         <pattern-item n="adjec"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <out>
           <chunk name="vbser_pp" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_adj"/>
               <clip pos="4" side="tl" part="a_verb"/>
               <clip pos="4" side="tl" part="temps"/>
	       <clip pos="4" side="tl" part="gen"/>
	       <clip pos="4" side="tl" part="nbr"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="4"/>
           <chunk name="que">
             <tags>
               <tag><lit-tag v="cnjsub"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO SER PP QUE (il ne lui est arrivé que > li es pas arribat que)">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbser"/>
         <pattern-item n="adjec"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="4"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_concord1">
          <with-param pos="5"/>
        </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk name="vbser_pp" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
             <b/>
             <lu>
               <lit v="pas"/>
               <lit-tag v="adv"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_adj"/>
               <clip pos="5" side="tl" part="a_verb"/>
               <clip pos="5" side="tl" part="temps"/>
	       <clip pos="5" side="tl" part="gen"/>
	       <clip pos="5" side="tl" part="nbr"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="5"/>
           <chunk name="que">
             <tags>
               <tag><lit-tag v="cnjsub"/></tag>
             </tags>
             <lu>
               <clip pos="6" side="tl" part="whole"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NE PRNPRO HAVER PP ADJEC QUE (ne lui a été dit que > li es pas estat dich que)">
       <pattern>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp"/>
         <pattern-item n="adjec"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="neg_imp">
          <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="4"/>
          <with-param pos="5"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal caseless="yes"><clip pos="4" side="sl" part="lemh"/><lit v="être"/></equal>
             </test>
             <call-macro n="set_vbser"></call-macro>
             <call-macro n="f_concord2">
              <with-param pos="4"/>
              <with-param pos="5"/>
             </call-macro>
             <out>
               <chunk name="vbser_pp" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <get-case-from pos="3">
                     <var n="v_vbser"/>
                   </get-case-from>
                   <lit-tag v="vbser"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="pers"/>
                   <clip pos="3" side="tl" part="nbr"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_adj"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
	           <clip pos="5" side="tl" part="gen"/>
	           <clip pos="5" side="tl" part="nbr"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="5"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="6" side="tl" part="whole"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="verb" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="3" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_adj"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
	           <clip pos="5" side="tl" part="gen"/>
	           <clip pos="5" side="tl" part="nbr"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="5"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="6" side="tl" part="whole"/>
                 </lu>
               </chunk>
           </out>
         </otherwise>
       </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNSUBJ NE PRNPRO HAVER PP ADJEC QUE (il ne lui a été dit que > li es pas estat dich que)">
       <pattern>
         <pattern-item n="prnsubj"/>
         <pattern-item n="ne"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="vbhaver"/>
         <pattern-item n="pp"/>
         <pattern-item n="adjec"/>
         <pattern-item n="que_cnjsub"/>
       </pattern>
       <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="neg_imp">
          <with-param pos="4"/>
         </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="5"/>
          <with-param pos="6"/>
        </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal caseless="yes"><clip pos="5" side="sl" part="lemh"/><lit v="être"/></equal>
             </test>
             <call-macro n="set_vbser"></call-macro>
             <call-macro n="f_concord2">
              <with-param pos="5"/>
              <with-param pos="4"/>
             </call-macro>
             <out>
               <chunk name="vbser_pp" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <get-case-from pos="4">
                     <var n="v_vbser"/>
                   </get-case-from>
                   <lit-tag v="vbser"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <clip pos="4" side="tl" part="pers"/>
                   <clip pos="4" side="tl" part="nbr"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="tags"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
                 <b pos="5"/>
                 <lu>
                   <clip pos="6" side="tl" part="lemh"/>
                   <clip pos="6" side="tl" part="a_adj"/>
                   <clip pos="6" side="tl" part="a_verb"/>
                   <clip pos="6" side="tl" part="temps"/>
	           <clip pos="6" side="tl" part="gen"/>
	           <clip pos="6" side="tl" part="nbr"/>
                   <clip pos="6" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="6"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="7" side="tl" part="whole"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="verb" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="4" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="4" side="tl" part="temps"/></tag>
                   <tag><lit-tag v="negation"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
                 <b/>
                 <lu>
                   <lit v="pas"/>
                   <lit-tag v="adv"/>
                 </lu>
                 <b pos="4"/>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="tags"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
                 <b pos="5"/>
                 <lu>
                   <clip pos="6" side="tl" part="lemh"/>
                   <clip pos="6" side="tl" part="a_adj"/>
                   <clip pos="6" side="tl" part="a_verb"/>
                   <clip pos="6" side="tl" part="temps"/>
	           <clip pos="6" side="tl" part="gen"/>
	           <clip pos="6" side="tl" part="nbr"/>
                   <clip pos="6" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="6"/>
               <chunk name="que">
                 <tags>
                   <tag><lit-tag v="cnjsub"/></tag>
                 </tags>
                 <lu>
                   <clip pos="7" side="tl" part="whole"/>
                 </lu>
               </chunk>
           </out>
         </otherwise>
       </choose>
       </action>
    </rule>

  <!-- FIN RÈGLAS NE... QUE -->


  <!-- AUTRAS RÈGLAS VERBALAS -->

    <rule comment="RÈGLA: IMP PRNENC">
       <pattern>
         <pattern-item n="verb"/>
         <pattern-item n="prnenc"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="1"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <mlu>
               <lu>
                 <clip pos="1" side="tl" part="lemh"/>
                 <clip pos="1" side="tl" part="a_verb"/>
                 <clip pos="1" side="tl" part="temps"/>
                 <clip pos="1" side="tl" part="pers"/>
                 <clip pos="1" side="tl" part="nbr"/>
               </lu>
               <lu>
                 <clip pos="2" side="tl" part="lemh"/>
                 <clip pos="2" side="tl" part="tags"/>
                 <clip pos="1" side="tl" part="lemq"/>
               </lu>
             </mlu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: IMP PRNENC PRNENC" v="oci">
       <pattern>
         <pattern-item n="verb"/>
         <pattern-item n="prnenc"/>
         <pattern-item n="prnenc"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="1"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <or>
                 <and>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="le"/></equal>
                   <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="lui"/></equal>
                 </and>
                 <and>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="le"/></equal>
                   <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="leur"/></equal>
                 </and>
               </or>
             </test>
             <out>
               <chunk namefrom="chunkname">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <mlu>
                   <lu>
                     <clip pos="1" side="tl" part="lemh"/>
                     <clip pos="1" side="tl" part="a_verb"/>
                     <clip pos="1" side="tl" part="temps"/>
                     <clip pos="1" side="tl" part="pers"/>
                     <clip pos="1" side="tl" part="nbr"/>
                   </lu>
                   <lu>
                     <clip pos="3" side="tl" part="lem"/>
                     <clip pos="3" side="tl" part="tags"/>
                   </lu>
                   <lu>
                     <clip pos="2" side="tl" part="lem"/>
                     <clip pos="2" side="tl" part="tags"/>
                     <clip pos="1" side="tl" part="lemq"/>
                   </lu>
                 </mlu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="v_enc_enc">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <mlu>
                   <lu>
                     <clip pos="1" side="tl" part="lemh"/>
                     <clip pos="1" side="tl" part="a_verb"/>
                     <clip pos="1" side="tl" part="temps"/>
                     <clip pos="1" side="tl" part="pers"/>
                     <clip pos="1" side="tl" part="nbr"/>
                   </lu>
                   <lu>
                     <clip pos="2" side="tl" part="lem"/>
                     <clip pos="2" side="tl" part="tags"/>
                   </lu>
                   <lu>
                     <clip pos="3" side="tl" part="lem"/>
                     <clip pos="3" side="tl" part="tags"/>
                     <clip pos="1" side="tl" part="lemq"/>
                   </lu>
                 </mlu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: IMP PRNENC PRNENC" v="oci@gascon">
       <pattern>
         <pattern-item n="verb"/>
         <pattern-item n="prnenc"/>
         <pattern-item n="prnenc"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
          <with-param pos="1"/>
         </call-macro>

         <!-- quasi còpia de la macro escriure_prnpro_prnpro (v=gascon) -->
         <!-- cas 'le/la/les + lui/leur' : on inverse CD et CI -->
         <choose>
           <when>
             <test>
               <and>
                 <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="le"/></equal>
                 <or>
                   <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="lui"/></equal>
                   <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="leur"/></equal>
                 </or>
               </and>
             </test>
             <let><clip pos="2" side="tl" part="lem"/><lit v="lo"/></let>
             <choose>
               <when>
                 <test>
                   <equal><clip pos="2" side="sl" part="nbr"/><lit v=""/></equal>
                 </test>
                 <let><clip pos="2" side="tl" part="gen"/><lit-tag v="m.sg"/></let>
               </when>
               <otherwise>
                 <let><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></let>
                 <let><clip pos="2" side="tl" part="nbr"/><clip pos="3" side="sl" part="nbr"/></let>
               </otherwise>
             </choose>
             <let><clip pos="3" side="tl" part="lem"/><lit v="ac"/></let>
             <let><clip pos="3" side="tl" part="gen"/><lit-tag v="nt"/></let>
             <let><clip pos="3" side="tl" part="nbr"/><lit-tag v=""/></let>
           </when>
         </choose>
                 
         <let><var n="caseFirstWord"/><case-of pos="2" side="tl" part="lem"/></let>
         <modify-case><clip pos="2" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <choose>
           <when>
             <test>
               <or>
                 <and> <!-- lo: prioritat 1 -->
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="lo"/></equal>
                   <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="m"/></equal>
                   <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                 </and>
                 <and> <!-- la: prioritat 2 -->
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="lo"/></equal>
                   <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="f"/></equal>
                   <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                   <not>
                     <and>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></equal>
                       <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                     </and>
                   </not>
                 </and>
                 <and> <!-- los: prioritat 3 -->
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="lo"/></equal>
                   <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="m"/></equal>
                   <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
                   <not>
                     <and>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                     </and>
                   </not>
                 </and>
                 <and> <!-- las: prioritat 4 -->
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="lo"/></equal>
                   <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="f"/></equal>
                   <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
                   <not>
                     <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                   </not>
                 </and>
                 <and> <!-- se: prioritat 5 -->
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="se"/></equal>
                   <not>
                     <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                   </not>
                 </and>
                 <and> <!-- te: prioritat 6 -->
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="te"/></equal>
                   <not>
                     <or>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="se"/></equal>
                     </or>
                   </not>
                 </and>
                 <and> <!-- vos: prioritat 7 -->
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="vos"/></equal>
                   <not>
                     <or>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="se"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="te"/></equal>
                     </or>
                   </not>
                 </and>
                 <and> <!-- me: prioritat 8 -->
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="me"/></equal>
                   <not>
                     <or>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="se"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="te"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="vos"/></equal>
                     </or>
                   </not>
                 </and>
                 <and> <!-- nos: prioritat 9 -->
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="ne"/></equal>
                   <not>
                     <or>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lo"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="se"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="te"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="vos"/></equal>
                       <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="me"/></equal>
                     </or>
                   </not>
                 </and>
                 <and> <!-- ne: prioritat 10 -->
                   <or>
                     <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="ne"/></equal>
                     <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="en"/></equal>
                   </or>
                   <or>
                     <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="ac"/></equal>
                     <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="i"/></equal>
                   </or>
                 </and>
                 <and> <!-- ac: prioritat 11 -->
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="ac"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="i"/></equal>
                 </and>
               </or>
             </test>
             <out>
               <chunk namefrom="chunkname">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <mlu>
                   <lu>
                     <clip pos="1" side="tl" part="lemh"/>
                     <clip pos="1" side="tl" part="a_verb"/>
                     <clip pos="1" side="tl" part="temps"/>
                     <clip pos="1" side="tl" part="pers"/>
                     <clip pos="1" side="tl" part="nbr"/>
                   </lu>
                   <lu>
                     <clip pos="3" side="tl" part="lem"/>
                     <clip pos="3" side="tl" part="tags"/>
                   </lu>
                   <lu>
                     <clip pos="2" side="tl" part="lem"/>
                     <clip pos="2" side="tl" part="tags"/>
                     <clip pos="1" side="tl" part="lemq"/>
                   </lu>
                 </mlu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="v_enc_enc">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <mlu>
                   <lu>
                     <clip pos="1" side="tl" part="lemh"/>
                     <clip pos="1" side="tl" part="a_verb"/>
                     <clip pos="1" side="tl" part="temps"/>
                     <clip pos="1" side="tl" part="pers"/>
                     <clip pos="1" side="tl" part="nbr"/>
                   </lu>
                   <lu>
                     <clip pos="2" side="tl" part="lem"/>
                     <clip pos="2" side="tl" part="tags"/>
                   </lu>
                   <lu>
                     <clip pos="3" side="tl" part="lem"/>
                     <clip pos="3" side="tl" part="tags"/>
                     <clip pos="1" side="tl" part="lemq"/>
                   </lu>
                 </mlu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: TOUT EN VBGER > EN VBGER (tout en décollant > en s'enlairant)">
       <pattern>
         <pattern-item n="tout_adv"/>
         <pattern-item n="enprep"/>
         <pattern-item n="ger"/>
       </pattern>
       <action>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_set_pron_pro">
          <with-param pos="3"/>
          <with-param pos="3"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="print_pron"></call-macro>
         <out>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: TOUT EN PRNPRO VBGER > EN PRNPRO VBGER (tout en lui disant > en li disent)">
       <pattern>
         <pattern-item n="tout_adv"/>
         <pattern-item n="enprep"/>
         <pattern-item n="prnpro"/>
         <pattern-item n="ger"/>
       </pattern>
       <action>
        <call-macro n="tipus_verb">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_set_pron_pro">
          <with-param pos="4"/>
          <with-param pos="4"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="print_pron"></call-macro>
        <out>
          <chunk name="prnpro" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SPron"/></tag>
              <tag><var n="tipusprn"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="3"/>
           <chunk namefrom="chunkname">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_verb"/>
               <clip pos="4" side="tl" part="temps"/>
               <clip pos="4" side="tl" part="pers"/>
               <clip pos="4" side="tl" part="nbr"/>
               <clip pos="4" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
       </action>
    </rule>

  <!-- FIN AUTRAS RÈGLAS VERBALAS -->


  <!-- RÈGLAS C'EST -->

    <rule comment="RÈGLA: CE VBSER > VBSER: ce fut > foguèt">
       <pattern>
         <pattern-item n="ce"/>
         <pattern-item n="vbserp3"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><clip pos="2" side="tl" part="pers"/></tag>
               <tag><clip pos="2" side="tl" part="nbr"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: CE NE VBSER > VBSER: ce ne fut pas > foguèt pas">
       <pattern>
         <pattern-item n="ce"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbserp3"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><clip pos="3" side="tl" part="pers"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: CE VBSERP3SG PRNTNP1P2 > VBSERP1P2 PRNSUBJP1P2: c'est moi > soi ieu">
       <pattern>
         <pattern-item n="ce"/>
         <pattern-item n="vbserp3sg"/>
         <pattern-item n="prnperstnp1p2"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><clip pos="3" side="tl" part="pers"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="3" side="sl" part="lemh"/></let>
         <modify-case><clip pos="3" side="tl" part="lemh"/><lit v="aa"/></modify-case>
         <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
               <tag><clip pos="3" side="tl" part="gen"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lem"/>
               <lit-tag v="prn"/>
               <clip pos="3" side="tl" part="a_pron_long"/>
               <clip pos="3" side="tl" part="pers"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: CE NE VBSERP3SG ADV PRNTNP1P2 > VBSERP1P2 ADV PRNSUBJP1P2: ce n'est pas moi > soi pas ieu">
       <pattern>
         <pattern-item n="ce"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbserp3sg"/>
         <pattern-item n="adv"/>
         <pattern-item n="prnperstnp1p2"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><clip pos="5" side="tl" part="pers"/></tag>
               <tag><clip pos="5" side="tl" part="nbr"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
         <call-macro n="f_concord1">
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="5"/>
         </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="5"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="5" side="sl" part="lemh"/></let>
         <modify-case><clip pos="5" side="tl" part="lemh"/><lit v="aa"/></modify-case>
         <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
         <out>
           <b pos="4"/>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
               <tag><clip pos="5" side="tl" part="gen"/></tag>
               <tag><clip pos="5" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lem"/>
               <lit-tag v="prn"/>
               <clip pos="5" side="tl" part="a_pron_long"/>
               <clip pos="5" side="tl" part="pers"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: CE VBSERP3SG PRNTNP1P2 QUI VBP3SG > VBSERP1P2 PRNSUBJP1P2 QUE VBP1P2 : c'est moi qui mange > soi ieu que mangi ; c'est moi qui décolle > soi ieu que m'enlairi">
       <pattern>
         <pattern-item n="ce"/>
         <pattern-item n="vbserp3sg"/>
         <pattern-item n="prnperstnp1p2"/>
         <pattern-item n="qui_rel"/>
         <pattern-item n="verbp3sg"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><clip pos="3" side="tl" part="pers"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>

         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="3" side="sl" part="lemh"/></let>
         <modify-case><clip pos="3" side="tl" part="lemh"/><lit v="aa"/></modify-case>
         <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
               <tag><clip pos="3" side="tl" part="gen"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lem"/>
               <lit-tag v="prn"/>
               <clip pos="3" side="tl" part="a_pron_long"/>
               <clip pos="3" side="tl" part="pers"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>

        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="rel"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
           <b pos="4"/>
        </out>

         <call-macro n="tipus_verb">
           <with-param pos="5"/>
         </call-macro>
         <let><clip pos="5" side="tl" part="pers"/><clip pos="3" side="tl" part="pers"/></let>
         <let><clip pos="5" side="tl" part="nbr"/><clip pos="3" side="tl" part="nbr"/></let>
         <call-macro n="f_set_pron_pro">
           <with-param pos="5"/>
           <with-param pos="5"/>
           <with-param pos="5"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="5" side="tl" part="lemh"/></let>
         <call-macro n="f_unset_capletter"><with-param pos="5"/></call-macro>
         <call-macro n="print_pron"></call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><clip pos="5" side="tl" part="temps"/></tag>
               <tag><clip pos="3" side="tl" part="pers"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="5" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: CE VBSERP3SG PRNTNP1P2 QUI NE VBP3SG ADV > VBSERP1P2 PRNSUBJP1P2 QUE VBP1P2 : c'est moi qui ne mange pas > soi ieu que mangi pas ; c'est moi qui ne décolle pas > soi ieu que m'enlairi pas">
       <pattern>
         <pattern-item n="ce"/>
         <pattern-item n="vbserp3sg"/>
         <pattern-item n="prnperstnp1p2"/>
         <pattern-item n="qui_rel"/>
         <pattern-item n="ne"/>
         <pattern-item n="verbp3sg"/>
         <pattern-item n="adv"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><clip pos="3" side="tl" part="pers"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>

         <call-macro n="f_concord1">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="3"/>
         </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="3" side="sl" part="lemh"/></let>
         <modify-case><clip pos="3" side="tl" part="lemh"/><lit v="aa"/></modify-case>
         <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
               <tag><clip pos="3" side="tl" part="gen"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lem"/>
               <lit-tag v="prn"/>
               <clip pos="3" side="tl" part="a_pron_long"/>
               <clip pos="3" side="tl" part="pers"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>

        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="rel"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
           <b pos="4"/>
        </out>

        <call-macro n="f_bcond"><with-param pos="5"/><with-param pos="6"/></call-macro>
         <call-macro n="tipus_verb">
           <with-param pos="6"/>
         </call-macro>
         <let><clip pos="6" side="tl" part="pers"/><clip pos="3" side="tl" part="pers"/></let>
         <let><clip pos="6" side="tl" part="nbr"/><clip pos="3" side="tl" part="nbr"/></let>
         <call-macro n="f_set_pron_pro">
           <with-param pos="6"/>
           <with-param pos="6"/>
           <with-param pos="6"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="6" side="tl" part="lemh"/></let>
         <call-macro n="f_unset_capletter"><with-param pos="6"/></call-macro>
         <call-macro n="print_pron"></call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="6" side="tl" part="a_verb"/></tag>
               <tag><clip pos="6" side="tl" part="temps"/></tag>
               <tag><clip pos="3" side="tl" part="pers"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="6" side="tl" part="lemq"/>
              </lu>
           </chunk>
           <b pos="6"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="7"/></call-macro>
       </action>
    </rule>

    <rule comment="RÈGLA: CE NE VBSERP3SG ADV PRNTNP1P2 QUI VBP3SG > VBSERP1P2 ADV PRNSUBJP1P2 QUE VBP1P2 : ce n'est pas moi qui mange > soi pas ieu que mangi ; ce n'est pas moi qui décolle > soi pas ieu que m'enlairi">
       <pattern>
         <pattern-item n="ce"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbserp3sg"/>
         <pattern-item n="adv"/>
         <pattern-item n="prnperstnp1p2"/>
         <pattern-item n="qui_rel"/>
         <pattern-item n="verbp3sg"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><clip pos="5" side="tl" part="pers"/></tag>
               <tag><clip pos="5" side="tl" part="nbr"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
         <call-macro n="f_concord1">
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="5"/>
         </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="5"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="5" side="sl" part="lemh"/></let>
         <modify-case><clip pos="5" side="tl" part="lemh"/><lit v="aa"/></modify-case>
         <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
         <out>
           <b pos="4"/>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
               <tag><clip pos="5" side="tl" part="gen"/></tag>
               <tag><clip pos="5" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lem"/>
               <lit-tag v="prn"/>
               <clip pos="5" side="tl" part="a_pron_long"/>
               <clip pos="5" side="tl" part="pers"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
           <b pos="5"/>
         </out>

        <call-macro n="f_concord1">
          <with-param pos="6"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="6" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="rel"/></tag>
            </tags>
            <lu>
              <clip pos="6" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="6"/>
        </out>

         <call-macro n="tipus_verb">
           <with-param pos="7"/>
         </call-macro>
         <let><clip pos="7" side="tl" part="pers"/><clip pos="5" side="tl" part="pers"/></let>
         <let><clip pos="7" side="tl" part="nbr"/><clip pos="5" side="tl" part="nbr"/></let>
         <call-macro n="f_set_pron_pro">
           <with-param pos="7"/>
           <with-param pos="7"/>
           <with-param pos="7"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="7" side="tl" part="lemh"/></let>
         <call-macro n="f_unset_capletter"><with-param pos="7"/></call-macro>
         <call-macro n="print_pron"></call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="7" side="tl" part="a_verb"/></tag>
               <tag><clip pos="7" side="tl" part="temps"/></tag>
               <tag><clip pos="5" side="tl" part="pers"/></tag>
               <tag><clip pos="5" side="tl" part="nbr"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="7" side="tl" part="lemh"/>
               <clip pos="7" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="7" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: CE NE VBSERP3SG ADV PRNTNP1P2 QUI NE VBP3SG ADV > VBSERP1P2 ADV PRNSUBJP1P2 QUE VBP1P2 ADV : ce n'est pas moi qui ne mange pas > soi pas ieu que mangi pas ; ce n'est pas moi qui ne décolle pas > soi pas ieu que m'enlairi pas">
       <pattern>
         <pattern-item n="ce"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbserp3sg"/>
         <pattern-item n="adv"/>
         <pattern-item n="prnperstnp1p2"/>
         <pattern-item n="qui_rel"/>
         <pattern-item n="ne"/>
         <pattern-item n="verbp3sg"/>
         <pattern-item n="adv"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><clip pos="5" side="tl" part="pers"/></tag>
               <tag><clip pos="5" side="tl" part="nbr"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
         <call-macro n="f_concord1">
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="5"/>
         </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="5"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="5" side="sl" part="lemh"/></let>
         <modify-case><clip pos="5" side="tl" part="lemh"/><lit v="aa"/></modify-case>
         <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
         <out>
           <b pos="4"/>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
               <tag><clip pos="5" side="tl" part="gen"/></tag>
               <tag><clip pos="5" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lem"/>
               <lit-tag v="prn"/>
               <clip pos="5" side="tl" part="a_pron_long"/>
               <clip pos="5" side="tl" part="pers"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
           <b pos="5"/>
         </out>

        <call-macro n="f_concord1">
          <with-param pos="6"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="6" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="rel"/></tag>
            </tags>
            <lu>
              <clip pos="6" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="6"/>
        </out>

        <call-macro n="f_bcond"><with-param pos="7"/><with-param pos="8"/></call-macro>
         <call-macro n="tipus_verb">
           <with-param pos="8"/>
         </call-macro>
         <let><clip pos="8" side="tl" part="pers"/><clip pos="5" side="tl" part="pers"/></let>
         <let><clip pos="8" side="tl" part="nbr"/><clip pos="5" side="tl" part="nbr"/></let>
         <call-macro n="f_set_pron_pro">
           <with-param pos="8"/>
           <with-param pos="8"/>
           <with-param pos="8"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="8" side="tl" part="lemh"/></let>
         <call-macro n="f_unset_capletter"><with-param pos="8"/></call-macro>
         <call-macro n="print_pron"></call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="8" side="tl" part="a_verb"/></tag>
               <tag><clip pos="8" side="tl" part="temps"/></tag>
               <tag><clip pos="5" side="tl" part="pers"/></tag>
               <tag><clip pos="5" side="tl" part="nbr"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="8" side="tl" part="lemh"/>
               <clip pos="8" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <clip pos="8" side="tl" part="lemq"/>
              </lu>
           </chunk>
           <b pos="8"/>
         </out>

         <call-macro n="escriure_SAdv"><with-param pos="9"/></call-macro>
       </action>
    </rule>

    <rule comment="RÈGLA: CE VBHAVERP3SG VBSERPP PRNTNP1P2 > VBSERP1P2 VBSERPP PRNSUBJP1P2: ça a été moi > soi estat ieu">
       <pattern>
         <pattern-item n="ce_cela_ça"/>
         <pattern-item n="vbhaverp3"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="prnperstnp1p2"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="set_vbser"></call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><clip pos="4" side="tl" part="pers"/></tag>
               <tag><clip pos="4" side="tl" part="nbr"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SA"/></tag>
               <tag><lit-tag v="pp"/></tag>
               <tag><lit-tag v="GD"/></tag>
               <tag><clip pos="4" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <clip pos="3" side="tl" part="temps"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="f_concord1">
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="4"/>
         </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="4" side="sl" part="lemh"/></let>
         <modify-case><clip pos="4" side="tl" part="lemh"/><lit v="aa"/></modify-case>
         <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
               <tag><clip pos="4" side="tl" part="gen"/></tag>
               <tag><clip pos="4" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lem"/>
               <lit-tag v="prn"/>
               <clip pos="4" side="tl" part="a_pron_long"/>
               <clip pos="4" side="tl" part="pers"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: CE NE VBHAVERP3SG ADV VBSERPP PRNTNP1P2 > VBSERP1P2 ADV VBSERPP PRNSUBJP1P2: ce n'a pas été moi > soi pas estat ieu">
       <pattern>
         <pattern-item n="ce_cela_ça"/>
         <pattern-item n="ne"/>
         <pattern-item n="vbhaverp3"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_pp"/>
         <pattern-item n="prnperstnp1p2"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="set_vbser"></call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
         <out>
           <chunk name="vbser" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><clip pos="6" side="tl" part="pers"/></tag>
               <tag><clip pos="6" side="tl" part="nbr"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><lit-tag v="sans_pas"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <var n="v_vbser"/>
               <lit-tag v="vbser"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="escriure_SAdv"><with-param pos="4"/></call-macro>
         <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
         <out>
           <b pos="4"/>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SA"/></tag>
               <tag><lit-tag v="pp"/></tag>
               <tag><lit-tag v="GD"/></tag>
               <tag><clip pos="6" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="a_verb"/>
               <clip pos="5" side="tl" part="temps"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="5"/>
         </out>
         <call-macro n="f_concord1">
           <with-param pos="6"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="6"/>
         </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="6"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="6" side="sl" part="lemh"/></let>
         <modify-case><clip pos="6" side="tl" part="lemh"/><lit v="aa"/></modify-case>
         <let><var n="lemma"/><clip pos="6" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><var n="tipusprn"/></tag>
               <tag><clip pos="6" side="tl" part="gen"/></tag>
               <tag><clip pos="6" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="6" side="tl" part="lem"/>
               <lit-tag v="prn"/>
               <clip pos="6" side="tl" part="a_pron_long"/>
               <clip pos="6" side="tl" part="pers"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

  <!-- FIN RÈGLAS C'EST -->


  <!-- RÈGLAS ON DOIT + INF > CAL + INF -->

    <rule comment="RÈGLA: ON DOIT INF (on doit manger > cal manjar)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="devoirp3sg"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <lit v="caler"/>
               <lit-tag v="vbmod"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ON DOIT PRNPRO INF (on doit la changer > la cal cambiar)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="devoirp3sg"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><lit-tag v="normal"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lem"/>
               <clip pos="3" side="tl" part="tags"/>
             </lu>
             <b pos="2"/>
             <lu>
               <lit v="caler"/>
               <lit-tag v="vbmod"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ON NE DOIT PAS INF (On ne doit pas lire > Cal pas legir)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="ne"/>
        <pattern-item n="devoirp3sg"/>
        <pattern-item n="pas"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="5"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <lit v="caler"/>
               <lit-tag v="vbmod"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
              </lu>
             <b pos="4"/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ON NE DOIT PAS PRNPRO INF (On ne doit pas lui lire > Li cal pas legir)">
      <pattern>
        <pattern-item n="on"/>
        <pattern-item n="ne"/>
        <pattern-item n="devoirp3sg"/>
        <pattern-item n="pas"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
         <call-macro n="f_concord0">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="6"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_bcond">
           <with-param pos="2"/>
           <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="6" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><lit-tag v="negation"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lem"/>
               <clip pos="5" side="tl" part="tags"/>
             </lu>
             <b pos="3"/>
             <lu>
               <lit v="caler"/>
               <lit-tag v="vbmod"/>
               <clip pos="3" side="tl" part="temps"/>
               <clip pos="3" side="tl" part="pers"/>
               <clip pos="3" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="4"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
              </lu>
             <b pos="5"/>
             <lu>
               <clip pos="6" side="tl" part="lemh"/>
               <clip pos="6" side="tl" part="tags"/>
               <clip pos="6" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
      </action>
    </rule>

  <!-- FIN RÈGLAS ON DOIT + INF > CAL + INF -->


    <!-- RÈGLAS CAPÇALERA CHUNK + LEMH/LEMQ -->

    <rule comment="RÈGLA: DET">
       <pattern>
         <pattern-item n="det"/>
       </pattern>
       <action>
         <call-macro n="f_concord1">
           <with-param pos="1"/>
         </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="Det"/></tag>
               <tag><var n="tipusdet"/></tag>
               <tag><clip pos="1" side="tl" part="gen"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
            </tags>
           <lu>
             <clip pos="1" side="tl" part="lemh"/>
             <clip pos="1" side="tl" part="tags"/>
             <clip pos="1" side="tl" part="lemq"/>
           </lu>
         </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: NOM">
      <pattern>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NP">
      <pattern>
        <pattern-item n="np"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="np">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>

              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ">
      <pattern>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_itg">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when> <!-- <e><p><l>II<s n="num"/><s n="mf"/><s n="sp"/></l><r>IIe<s n="adj"/><s n="mf"/><s n="sg"/></r></p></e> -->
            <test>
              <equal>
                <clip pos="1" side="tl" part="a_num"/><lit-tag v="num"/>
              </equal>
            </test>
            <out>
             <chunk name="num">
               <tags>
                 <tag><lit-tag v="Num"/></tag>
               </tags>
              <lu>
                <clip pos="1" side="tl" part="whole"/>
              </lu>
             </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="a">
                <tags>
                  <tag><lit-tag v="SA"/></tag>
                  <tag><clip pos="1" side="tl" part="gen"/></tag>
                  <tag><clip pos="1" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                  <tag><var n="v_itg"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="a_adj"/>
                  <lit-tag v="2"/>
                  <lit-tag v="3"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: PP">
      <pattern>
        <pattern-item n="pp"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><lit-tag v="pp"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="temps"/>
              <lit-tag v="3"/>
              <lit-tag v="4"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADV">
      <pattern>
        <pattern-item n="adv_preadv"/>
      </pattern>
      <action>
        <call-macro n="escriure_SAdv"><with-param pos="1"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: ADVITG">
      <pattern>
        <pattern-item n="advitg"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
              <tag><lit-tag v="itg"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREADV ADV (empaquetament en un sol chunk per t2x)">
      <pattern>
        <pattern-item n="preadv"/>
        <pattern-item n="adv"/>
      </pattern>
      <action>
        <out>
          <chunk name="preadv_adv">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PRN">
       <pattern>
         <pattern-item n="prn"/>
       </pattern>
       <action>
         <call-macro n="f_concord1">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_prn">
           <with-param pos="1"/>
         </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <modify-case><clip pos="1" side="tl" part="lemh"/><lit v="aa"/></modify-case>
         <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
         <choose>
           <when>
             <test>
               <not>
                 <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v=""/></equal>
               </not>
             </test>
             <choose>
               <when>
                 <test>
                   <or>
                     <equal><clip pos="1" side="tl" part="gen"/><lit v=""/></equal>
                     <equal><clip pos="1" side="tl" part="nbr"/><lit v=""/></equal>
                     <not><equal><var n="tipusprn"/><clip pos="1" side="tl" part="a_pron"/></equal></not>
                   </or>
                 </test>
                 <out>
                   <chunk namefrom="lemma" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><var n="tipusprn"/></tag>
                     </tags>
                     <lu>
                       <clip pos="1" side="tl" part="lem"/>
                       <lit-tag v="prn"/>
                       <clip pos="1" side="tl" part="a_pron_long"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <clip pos="1" side="tl" part="gen"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk namefrom="lemma" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><var n="tipusprn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                       <tag><var n="genero_sl"/></tag>
                       <tag><var n="numero_sl"/></tag>
                     </tags>
                     <lu>
                       <clip pos="1" side="tl" part="lem"/>
                       <lit-tag v="prn"/>
                       <clip pos="1" side="tl" part="a_pron_long"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
           </when>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: NUMERAL">
      <pattern>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
         <chunk name="num">
           <tags>
             <tag><lit-tag v="Num"/></tag>
           </tags>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu>
         </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF">
      <pattern>
        <pattern-item n="pref"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="pref"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP">
      <pattern>
        <pattern-item n="pr"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <choose>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="avec"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="de"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="par"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="sur"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="sous"/></equal>
              </or>
            </test>
            <let><var n="genero"/><lit-tag v="m"/></let>
            <let><var n="numero"/><lit-tag v="sg"/></let>
          </when>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: CNJCOO">
      <pattern>
        <pattern-item n="cnjcoo"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="cnjcoo"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CNJSUB">
      <pattern>
        <pattern-item n="cnjsub"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="cnjsub"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CNJADV">
      <pattern>
        <pattern-item n="cnjadv"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="cnjadv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: RELATIF">
      <pattern>
        <pattern-item n="rel"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="rel"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: VBSER">
       <pattern>
         <pattern-item n="vbser"/>
       </pattern>
       <action>
         <call-macro n="f_concord1">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
           <with-param pos="1"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
         <call-macro n="f_unset_capletter"><with-param pos="1"/></call-macro>
         <choose>
	   <when>
	     <test>
	       <or>
                 <equal><clip pos="1" side="tl" part="pers"/><lit v=""/></equal>
                 <equal><clip pos="1" side="tl" part="nbr"/><lit v=""/></equal>
	       </or>
	     </test>
             <out>
               <chunk name="vbser" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
	   </when>
	   <otherwise>
             <out>
               <chunk name="vbser" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><lit-tag v="vbser"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
	   </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: VBNOSER imperatiu (décolle! > enlaira't)">
       <pattern>
         <pattern-item n="vbnoserimper"/>
       </pattern>
       <action>
        <call-macro n="tipus_verb"><with-param pos="1"/></call-macro>
        <call-macro n="f_unset_nopron"><with-param pos="1"/></call-macro>
        <call-macro n="f_set_pron_enc"><with-param pos="1"/></call-macro>
        <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
        <call-macro n="f_unset_capletter"><with-param pos="1"/></call-macro>
        <choose>
	  <when>
	    <test>
	      <equal><var n="pronom"/><lit v=""/></equal>
	    </test>
            <out>
              <chunk namefrom="chunkname" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                  <tag><clip pos="1" side="tl" part="temps"/></tag>
                  <tag><var n="tipusverb"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="a_verb"/>
                  <clip pos="1" side="tl" part="temps"/>
                  <clip pos="1" side="tl" part="pers"/>
                  <clip pos="1" side="tl" part="nbr"/>
                  <clip pos="1" side="tl" part="lemq"/>
                 </lu>
              </chunk>
            </out>
	  </when>
	  <otherwise>
            <out>
              <chunk name="verb" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                  <tag><clip pos="1" side="tl" part="temps"/></tag>
                  <tag><var n="tipusverb"/></tag>
                </tags>
                <mlu>
                  <lu>
                    <clip pos="1" side="tl" part="lemh"/>
                    <clip pos="1" side="tl" part="a_verb"/>
                    <clip pos="1" side="tl" part="temps"/>
                    <clip pos="1" side="tl" part="pers"/>
                    <clip pos="1" side="tl" part="nbr"/>
                  </lu>
                  <lu>
	            <var n="pronom"/>
                    <clip pos="1" side="tl" part="lemq"/>
                  </lu>
                </mlu>
              </chunk>
            </out>
	  </otherwise>
        </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: VBNOSER (décolle > s'enlaira)">
       <pattern>
         <pattern-item n="vbnoser"/>
       </pattern>
       <action>
         <call-macro n="tipus_verb">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_set_pron_pro">
           <with-param pos="1"/>
           <with-param pos="1"/>
           <with-param pos="1"/>
         </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="tl" part="lemh"/></let>
         <call-macro n="f_unset_capletter"><with-param pos="1"/></call-macro>
         <call-macro n="print_pron"></call-macro>
         <choose>
	   <when>
	     <test>
	       <or>
                 <equal><clip pos="1" side="tl" part="pers"/><lit v=""/></equal>
                 <equal><clip pos="1" side="tl" part="nbr"/><lit v=""/></equal>
	       </or>
	     </test>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                   <clip pos="1" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
	   </when>
	   <otherwise>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                   <tag><var n="tipusverb"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="a_verb"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <lit-tag v="5"/>
                   <clip pos="1" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
	   </otherwise>
         </choose>
       </action>
    </rule>


    <rule comment="RÈGLA: IJ">
      <pattern>
        <pattern-item n="ij"/>
      </pattern>
      <action>
        <out>
         <chunk name="ij">
           <tags>
             <tag><lit-tag v="ij"/></tag>
           </tags>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu>
         </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS CAPÇALERA CHUNK + LEMH/LEMQ -->


  <!-- AUTRAS RÈGLAS -->

    <rule comment="RÈGLA: aussi ADJ SER_PRS_P3 IL > per mai ADJ que SER_PRS_P3">
      <pattern>
        <pattern-item n="aussi"/>
        <pattern-item n="adjec"/>
        <pattern-item n="vbserprsp3"/>
        <pattern-item n="prnsubjp3"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="escriure_SAdv"><with-param pos="1"/></call-macro>
        <out>
          <b pos="1"/>
          <chunk name="a">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="v_itg"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <lit-tag v="2"/>
              <lit-tag v="3"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
          <chunk name="que">
            <tags>
              <tag><lit-tag v="cnjsub"/></tag>
            </tags>
            <lu>
              <lit v="que"/>
              <lit-tag v="cnjsub"/>
            </lu>
          </chunk>
          <b/>
          <b/>	<!-- extra blank because of bug -->
          <chunk name="vbser">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vbser"/></tag>
              <tag><clip pos="3" side="tl" part="temps"/></tag>
              <tag><clip pos="3" side="tl" part="pers"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <lit-tag v="3"/>
              <lit-tag v="4"/>
              <lit-tag v="5"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: en début de nom_mois_an > en debuta de nom_mois_an">
      <pattern>
        <pattern-item n="en_debut_de"/>
        <pattern-item n="nom_mois_an"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="adv">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: en début de NOM > en debuta de DET NOM">
      <pattern>
        <pattern-item n="en_debut_de"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="adv">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def"/>
              <var n="genero"/>
              <var n="numero"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: EGLISE AL > ESGLESIA DE AL">
      <pattern>
        <pattern-item n="eglise_n"/>
        <pattern-item n="npal"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET EGLISE AL > DET ESGLESIA DE AL">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="eglise_n"/>
        <pattern-item n="npal"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord_mantun2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: EST-CE QUE > 0">
       <pattern>
         <pattern-item n="estceque"/>
       </pattern>
       <action>
       </action>
    </rule>

    <rule comment="RÈGLA: ADVITG EST-CE QUE > ADVITG">
       <pattern>
         <pattern-item n="advitg"/>
         <pattern-item n="estceque"/>
       </pattern>
       <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
              <tag><lit-tag v="itg"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
        </call-macro>
       </action>
    </rule>

    <rule comment="RÈGLA: IL EN FAIT > en fa (pedaç per evitar il + 'en fa' (adv) ">
       <pattern>
         <pattern-item n="il_elle"/>
         <pattern-item n="en_fait"/>
       </pattern>
       <action>
         <call-macro n="set_vbfar"></call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
         <call-macro n="f_bcond">
           <with-param pos="1"/>
           <with-param pos="2"/>
         </call-macro>
         <out>
           <chunk name="pro-verb" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><clip pos="3" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <lit v="en"/>
               <lit-tag v="prn.pro.adv"/>
             </lu>
             <b/>
             <lu>
              <var n="v_vbfar"/>
              <lit-tag v="vblex.pri.p3.sg"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: CELUI PR > CELUI PR (celui de > lo de)">
      <pattern>
        <pattern-item n="celui"/>
        <pattern-item n="pr"/>
      </pattern>
      <action>
       <call-macro n="tipus_det">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="f_concord1">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="f_chunk_tags">
         <with-param pos="1"/>
       </call-macro>
         <let><var n="caseFirstWord"/><case-of pos="1" side="sl" part="lemh"/></let>
<!--
       <choose>
         <when>
           <test>
             <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
           </test>
           <let><clip pos="1" side="tl" part="gen"/><clip pos="1" side="sl" part="gen"/></let>
         </when>
       </choose>
       <choose>
         <when>
           <test>
             <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
           </test>
           <let><clip pos="1" side="tl" part="gen"/><var n="genero"/></let>
         </when>
       </choose>
-->
       <out>
         <chunk name="det" case="caseFirstWord">
           <tags>
             <tag><lit-tag v="Det"/></tag>
             <tag><lit-tag v="def"/></tag>
             <tag><clip pos="1" side="tl" part="gen"/></tag>
             <tag><clip pos="1" side="tl" part="nbr"/></tag>
             <tag><var n="genero_sl"/></tag>
             <tag><var n="numero_sl"/></tag>
           </tags>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def"/>
              <clip pos="1" side="tl" part="gen"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP PRNSUBJ: aucune d'elles > cap d'elas">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="prnsubj"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_prn">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
         <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
         <let><var n="caseFirstWord"/><case-of pos="2" side="sl" part="lemh"/></let>
         <choose>
           <when>
             <test>
               <not>
                 <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v=""/></equal>
               </not>
             </test>
             <choose>
               <when>
                 <test>
                   <or>
                     <equal><clip pos="2" side="tl" part="gen"/><lit v=""/></equal>
                     <equal><clip pos="2" side="tl" part="nbr"/><lit v=""/></equal>
                     <not><equal><var n="tipusprn"/><clip pos="2" side="tl" part="a_pron"/></equal></not>
                   </or>
                 </test>
                 <out>
                   <chunk namefrom="lemma" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><var n="tipusprn"/></tag>
                     </tags>
                     <lu>
                       <clip pos="2" side="tl" part="lem"/>
                       <lit-tag v="prn"/>
                       <clip pos="2" side="tl" part="a_pron_long"/>
                       <clip pos="2" side="tl" part="pers"/>
                       <clip pos="2" side="tl" part="gen"/>
                       <clip pos="2" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk namefrom="lemma" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><var n="tipusprn"/></tag>
                       <tag><clip pos="2" side="tl" part="gen"/></tag>
                       <tag><clip pos="2" side="tl" part="nbr"/></tag>
                       <tag><var n="genero_sl"/></tag>
                       <tag><var n="numero_sl"/></tag>
                     </tags>
                     <lu>
                       <clip pos="2" side="tl" part="lem"/>
                       <lit-tag v="prn"/>
                       <clip pos="2" side="tl" part="a_pron_long"/>
                       <clip pos="2" side="tl" part="pers"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
           </when>
         </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP monsieur X > PREP lo sénher X">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="npant_unk"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><lit-tag v="def"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP monsieur DETDEF NOM > PREP lo sénher NOM (de monsieur le président > del sénher president)">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><lit-tag v="def"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: CNJSUB monsieur X > CNJSUB lo sénher X">
      <pattern>
        <pattern-item n="cnjsub"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="npant_unk"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="cnjsub"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><lit-tag v="def"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CNJSUB monsieur DETDEF NOM > CNJSUB lo sénher NOM (que monsieur le président > que lo sénher president)">
      <pattern>
        <pattern-item n="cnjsub"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="cnjsub"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><lit-tag v="def"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: CNJADV monsieur X > CNJADV lo sénher X">
      <pattern>
        <pattern-item n="cnjadv"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="npant_unk"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="cnjadv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><lit-tag v="def"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CNJADV monsieur DETDEF NOM > CNJADV lo sénher NOM (parce que monsieur le président > perque lo sénher president)">
      <pattern>
        <pattern-item n="cnjadv"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="cnjadv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><lit-tag v="def"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: REL monsieur X > REL lo sénher X">
      <pattern>
        <pattern-item n="rel"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="npant_unk"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="rel"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><lit-tag v="def"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: REL monsieur DETDEF NOM > REL lo sénher NOM (que monsieur le président > que lo sénher president)">
      <pattern>
        <pattern-item n="rel"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="rel"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><lit-tag v="def"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <lit v="lo"/>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: monsieur DETDEF NOM > sénher NOM (monsieur le président > sénher president)">
      <pattern>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: monsieur X > lo sénher X">
      <pattern>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="npant_unk"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><lit-tag v="def"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="lo"/>
              </get-case-from>
              <lit-tag v="det.def"/>
              <clip pos="1" side="tl" part="gen"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: , monsieur X, > , sénher X,">
      <pattern>
        <pattern-item n="cm"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="npant_unk"/>
        <pattern-item n="cm"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="cm">
            <tags>
              <tag><lit-tag v="CM"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <chunk name="cm">
            <tags>
              <tag><lit-tag v="CM"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SENT monsieur X, > SENT sénher X,">
      <pattern>
        <pattern-item n="sent"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="npant_unk"/>
        <pattern-item n="cm"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal><clip pos="1" side="sl" part="lem"/><lit v="?"/></equal>
            </test>
            <out>
              <chunk name="quest">
                <tags>
                  <tag><lit-tag v="SENT"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <equal><clip pos="1" side="sl" part="lem"/><lit v="!"/></equal>
            </test>
            <out>
              <chunk name="excl">
                <tags>
                  <tag><lit-tag v="SENT"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="std">
                <tags>
                  <tag><lit-tag v="SENT"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
        <out>
          <b pos="1"/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <chunk name="cm">
            <tags>
              <tag><lit-tag v="CM"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SENT monsieur DETDEF NOM > SENT lo sénher NOM (monsieur le président > el sénher president)">
      <pattern>
        <pattern-item n="sent"/>
        <pattern-item n="nom_monsieur"/>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="4"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal><clip pos="1" side="sl" part="lem"/><lit v="?"/></equal>
            </test>
            <out>
              <chunk name="quest">
                <tags>
                  <tag><lit-tag v="SENT"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <equal><clip pos="1" side="sl" part="lem"/><lit v="!"/></equal>
            </test>
            <out>
              <chunk name="excl">
                <tags>
                  <tag><lit-tag v="SENT"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="std">
                <tags>
                  <tag><lit-tag v="SENT"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
        <out>
          <b pos="1"/>
          <chunk name="det">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><lit-tag v="def"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <lit v="lo"/>
              </get-case-from>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b/>
          <chunk name="n">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: Marie-Claire > Marie-Claire (1 chunk)">
      <pattern>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="np">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: Marie-Claire Dupont > Marie-Claire Dupont (1 chunk)">
      <pattern>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="np">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: Marie-Claire Dupont Fernandez > Marie-Claire Dupont Fernandez (1 chunk)">
      <pattern>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="np">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: LPAR">
      <pattern>
        <pattern-item n="lpar"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="LPAR"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: RPAR">
      <pattern>
        <pattern-item n="rpar"/>
      </pattern>
      <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="RPAR"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CM">
      <pattern>
        <pattern-item n="cm"/>
      </pattern>
      <action>
        <out>
          <chunk name="cm">
            <tags>
              <tag><lit-tag v="CM"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SENT">
      <pattern>
        <pattern-item n="sent"/>
      </pattern>
      <action>
        <choose>
          <when>
            <test>
              <equal><clip pos="1" side="sl" part="lem"/><lit v="?"/></equal>
            </test>
            <out>
              <chunk name="quest">
                <tags>
                  <tag><lit-tag v="SENT"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <equal><clip pos="1" side="sl" part="lem"/><lit v="!"/></equal>
            </test>
            <out>
              <chunk name="excl">
                <tags>
                  <tag><lit-tag v="SENT"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="std">
                <tags>
                  <tag><lit-tag v="SENT"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
        <let><var n="genero"/><lit-tag v="m"/></let>
        <let><var n="numero"/><lit-tag v="sg"/></let>
      </action>
    </rule>

    <rule comment="RÈGLA: à X reprises > X còps">
       <pattern>
         <pattern-item n="aprep"/>
         <pattern-item n="num_detind"/>
         <pattern-item n="reprise_n"/>
       </pattern>
       <action>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk namefrom="adv">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <clip pos="2" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
       </action>
    </rule>

    <rule comment="RÈGLA: mal à DETDEF N (mal au dos > mal d'esquina)">
       <pattern>
         <pattern-item n="mal_n"/>
         <pattern-item n="aprep"/>
         <pattern-item n="detdef"/>
         <pattern-item n="nom"/>
       </pattern>
       <action>
        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk namefrom="mal_de_x">
            <tags>
              <tag><lit-tag v="SN"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <lit v="de"/>
              <lit-tag v="pr"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
       </action>
    </rule>

    <rule comment="RÈGLA: DE FAÇON ADJ > DE FAIÇON ADJ (SAdv per evitar l'analisa coma article partitiu)">
      <pattern>
        <pattern-item n="deprep"/>
        <pattern-item n="facon_n"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="pr_n_a">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE FAÇON PREADV ADJ > DE FAIÇON PREADV ADJ (SAdv per evitar l'analisa coma article partitiu)">
      <pattern>
        <pattern-item n="deprep"/>
        <pattern-item n="facon_n"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <out>
          <chunk name="pr_n_a">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

  <!-- FIN AUTRAS RÈGLAS -->

  </section-rules>
</transfer>

<!--
Resources:
    https://wiki.apertium.org/wiki/Chunking:_A_full_example
    https://wiki.apertium.org/wiki/Chunking
    https://wiki.apertium.org/wiki/Apertium_New_Language_Pair_HOWTO#Transfer_rules
    https://wiki.apertium.org/wiki/A_long_introduction_to_transfer_rules
    https://wiki.apertium.org/wiki/Transfer#Adding_structural_transfer_.28grammar.29_rules
-->
