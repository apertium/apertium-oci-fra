<?xml version="1.0" encoding="UTF-8"?>
<interchunk>
  <section-def-cats>
    <def-cat n="SN">
      <cat-item tags="SN"/>
      <cat-item tags="SN.*"/>
      <cat-item tags="SPron.tn.*"/>
    </def-cat>
    <def-cat n="SA">
      <cat-item tags="SA"/>
      <cat-item tags="SA.*"/>
      <cat-item tags="SAcomp.*"/>
    </def-cat>
    <def-cat n="PP">
      <cat-item lemma="pp" tags="SA.*"/>
      <cat-item tags="SA.pp.*"/>
    </def-cat>
    <def-cat n="PP_partitiu">
      <cat-item lemma="pp" tags="SA.*.partitiu"/>
      <cat-item tags="SA.pp.*.partitiu"/>
    </def-cat>
    <def-cat n="PPser">
      <cat-item lemma="èsser" tags="SA.pp.*"/>
      <cat-item lemma="estar" tags="SA.pp.*"/>
    </def-cat>
    <def-cat n="PP_pl">
      <cat-item lemma="pp" tags="SA.*.pl.*"/>
      <cat-item tags="SA.pp.*.pl.*"/>
    </def-cat>
    <def-cat n="PPser_SA">
      <cat-item lemma="èsser" tags="SA.pp.*"/>
      <cat-item lemma="estar" tags="SA.pp.*"/>
      <cat-item tags="SA"/>
      <cat-item tags="SA.*"/>
      <cat-item tags="SAcomp.*"/>
    </def-cat>
    <def-cat n="SAcomp">
      <cat-item tags="SAcomp.*"/>
    </def-cat>
    <def-cat n="SN_SA">
      <cat-item tags="SN"/>
      <cat-item tags="SN.*"/>
      <cat-item tags="SA"/>
      <cat-item tags="SA.*"/>
      <cat-item tags="SAcomp.*"/>
    </def-cat>
    <def-cat n="SAdv">
      <cat-item tags="SAdv"/>
      <cat-item tags="SAdv.*"/>
    </def-cat>
    <def-cat n="SV">
      <cat-item tags="SV"/>
      <cat-item tags="SV.*"/>
    </def-cat>
    <def-cat n="SV_haver">
      <cat-item tags="SV.vbhaver.*"/>
    </def-cat>
    <def-cat n="SV_sans_pas">
      <cat-item tags="SV.*.negation.sans_pas.*"/>
    </def-cat>
    <def-cat n="SV_inf">
      <cat-item tags="SV.*.inf"/>
      <cat-item tags="SV.*.inf.*"/>
    </def-cat>
    <def-cat n="SV_partitiu">
      <cat-item tags="SV.vbser.partitiu"/>
      <cat-item tags="SV.vblex.partitiu"/>
      <cat-item tags="SV.vbhaver.partitiu"/>
      <cat-item tags="SV.vbser.*.partitiu"/>
      <cat-item tags="SV.vblex.*.partitiu"/>
      <cat-item tags="SV.vbhaver.*.partitiu"/>
    </def-cat>
    <def-cat n="SV_partitiu_neg">
      <cat-item tags="SV.vblex.*.negation.partitiu"/>
      <cat-item tags="SV.vblex.*.negation.*.partitiu"/>
    </def-cat>
    <def-cat n="SV_vbser">
      <cat-item tags="SV.vbser"/>
      <cat-item tags="SV.vbser.*"/>
    </def-cat>
    <def-cat n="SV_copulatiu">
      <cat-item tags="SV.vbser"/>
      <cat-item tags="SV.vbser.*"/>
      <cat-item lemma="paréisser" tags="SV.*"/>
      <cat-item lemma="paréisher" tags="SV.*"/>
      <cat-item lemma="semblar" tags="SV.*"/>
      <cat-item lemma="venir" tags="SV.*"/>
    </def-cat>
    <def-cat n="SPron">
      <cat-item tags="SPron"/>
      <cat-item tags="SPron.*"/>
    </def-cat>
    <def-cat n="SPron_pro">
      <cat-item tags="SPron.pro"/>
      <cat-item tags="SPron.pro.*"/>
      <cat-item tags="SPron.ref"/>
      <cat-item tags="SPron.ref.*"/>
    </def-cat>
    <def-cat n="SPron_ref">
      <cat-item tags="SPron.ref"/>
      <cat-item tags="SPron.ref.*"/>
    </def-cat>
    <def-cat n="PRN_mantun">
      <cat-item lemma="mantun" tags="SPron.*"/>
    </def-cat>
    <def-cat n="PREP">
      <cat-item tags="PREP"/>
      <cat-item tags="PREP.*"/>
    </def-cat>
    <def-cat n="PREP_de">
      <cat-item lemma="de" tags="PREP"/>
    </def-cat>
    <def-cat n="PREP_DET">
      <cat-item tags="PREP"/>
      <cat-item tags="PREP.*"/>
      <cat-item tags="Det"/>
      <cat-item tags="Det.*"/>
    </def-cat>
    <def-cat n="SENT_PREP_CNJ_REL">
      <cat-item tags="SENT"/>
      <cat-item tags="LPAR"/>
      <cat-item tags="PREP"/>
      <cat-item tags="PREP.*"/>
      <cat-item lemma="dempuèi" tags="SAdv"/>
      <cat-item lemma="après" tags="SAdv"/>
      <cat-item lemma="aprèp" tags="SAdv"/>
      <cat-item tags="cnjsub"/>
      <cat-item tags="cnjadv"/>
      <cat-item tags="rel"/>
    </def-cat>
    <def-cat n="DET">
      <cat-item tags="Det"/>
      <cat-item tags="Det.*"/>
    </def-cat>
    <def-cat n="DET_def">
      <cat-item tags="Det.def.*"/>
    </def-cat>
    <def-cat n="DET_defpl">
      <cat-item tags="Det.def.*.pl.*"/>
      <cat-item tags="Det.def.*.pl.*"/>
    </def-cat>
    <def-cat n="DET_aucun">
      <cat-item tags="Det.aucun.*"/>
    </def-cat>

    <def-cat n="UNK">
      <cat-item tags="unknown"/>
    </def-cat>
    <def-cat n="SN_UNK">
      <cat-item tags="SN"/>
      <cat-item tags="SN.*"/>
      <cat-item tags="SPron.tn.*"/>
      <cat-item tags="unknown"/>
    </def-cat>
    <def-cat n="SN_SA_UNK">
      <cat-item tags="SN"/>
      <cat-item tags="SN.*"/>
      <cat-item tags="SA"/>
      <cat-item tags="SA.*"/>
      <cat-item tags="SAcomp.*"/>
      <cat-item tags="unknown"/>
      <cat-item tags="unknown"/>
      <cat-item tags="unknown.*"/>
    </def-cat>

    <def-cat n="CM">
      <cat-item tags="CM"/>
    </def-cat>
    <def-cat n="LPAR">
      <cat-item tags="LPAR"/>
    </def-cat>
    <def-cat n="SENT">
      <cat-item tags="SENT"/>
    </def-cat>
  </section-def-cats>

  <section-def-attrs>
    <def-attr n="chunk">
      <attr-item tags="SN"/>
      <attr-item tags="SV"/>
    </def-attr>

    <def-attr n="gen">
      <attr-item tags="m"/>
      <attr-item tags="f"/>
      <attr-item tags="mf"/>
    </def-attr>

    <def-attr n="sl_gen">
      <attr-item tags="sl_m"/>
      <attr-item tags="sl_f"/>
      <attr-item tags="sl_mf"/>
    </def-attr>

    <def-attr n="nbr">
      <attr-item tags="sg"/>
      <attr-item tags="pl"/>
      <attr-item tags="sp"/>
      <attr-item tags="ND"/>
    </def-attr>

    <def-attr n="sl_nbr">
      <attr-item tags="sl_sg"/>
      <attr-item tags="sl_pl"/>
      <attr-item tags="sl_sp"/>
    </def-attr>

    <def-attr n="pers">
      <attr-item tags="p1"/>
      <attr-item tags="p2"/>
      <attr-item tags="p3"/>
    </def-attr>

    <def-attr n="a_pron">
      <attr-item tags="tn"/>
      <attr-item tags="pro"/>
      <attr-item tags="ref"/>
      <attr-item tags="ref.on"/>
      <attr-item tags="enc"/>
      <attr-item tags="itg"/>
    </def-attr>

  </section-def-attrs>

  <section-def-vars>
    <def-var n="number"/>
  </section-def-vars>

  <section-def-macros>
    <def-macro n="f_acord_mantun2" npar="2"> <!-- par1 = prn/n -->
      <choose>
        <when>
          <test>
            <equal caseless="yes"><clip pos="1" part="lem"/><lit v="mantun"/></equal>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <equal><clip pos="1" part="gen"/><lit-tag v="m"/></equal>
                  <equal><clip pos="2" part="gen"/><lit-tag v="f"/></equal>
                </and>
              </test>
              <let><clip pos="1" part="gen"/><lit-tag v="f"/></let>
            </when>
            <when>
              <test>
                <and>
                  <equal><clip pos="1" part="gen"/><lit-tag v="f"/></equal>
                  <equal><clip pos="2" part="gen"/><lit-tag v="m"/></equal>
                </and>
              </test>
              <let><clip pos="1" part="gen"/><lit-tag v="m"/></let>
            </when>
          </choose>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_acord_mantun3" npar="3"> <!-- par1 = prn/n -->
      <choose>
        <when>
          <test>
            <or>
              <equal><clip pos="2" part="gen"/><lit-tag v="m"/></equal>
              <equal><clip pos="2" part="gen"/><lit-tag v="f"/></equal>
            </or>
          </test>
          <call-macro n="f_acord_mantun2"><with-param pos="1"/><with-param pos="2"/></call-macro>
        </when>
        <otherwise>
          <call-macro n="f_acord_mantun2"><with-param pos="1"/><with-param pos="3"/></call-macro>
        </otherwise>
      </choose>
    </def-macro>

    <def-macro n="f_acord_subj_vcop_atrib3" npar="3"> <!-- par1 = SN (sujet), par2 = SV_copulatiu, par3 = SA (attribut): accord en genre et nombre entre sujet et attribut -->
      <choose>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="m"/></equal>
              <equal><clip pos="3" part="gen"/><lit-tag v="f"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_f"/></equal>
                <equal><clip pos="3" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="3" part="gen"/><lit-tag v="m"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="f"/></equal>
              <equal><clip pos="3" part="gen"/><lit-tag v="m"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_m"/></equal>
                <equal><clip pos="3" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="3" part="gen"/><lit-tag v="f"/></let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="3" part="nbr"/><lit-tag v="pl"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_pl"/></equal>
                <equal><clip pos="3" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="3" part="nbr"/><lit-tag v="sg"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="3" part="nbr"/><lit-tag v="sg"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_sg"/></equal>
                <equal><clip pos="3" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="3" part="nbr"/><lit-tag v="pl"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_acord_subj_vcop_atrib4" npar="4"> <!-- par1 = SN (sujet), par2 = SV_copulatiu, par3 = SDet, par4 = SA (attribut): accord en genre et nombre entre sujet et attribut -->
      <choose>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="m"/></equal>
              <equal><clip pos="4" part="gen"/><lit-tag v="f"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_f"/></equal>
                <equal><clip pos="4" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="3" part="gen"/><lit-tag v="m"/></let>
          <let><clip pos="4" part="gen"/><lit-tag v="m"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="f"/></equal>
              <equal><clip pos="4" part="gen"/><lit-tag v="m"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_m"/></equal>
                <equal><clip pos="4" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="3" part="gen"/><lit-tag v="f"/></let>
          <let><clip pos="4" part="gen"/><lit-tag v="f"/></let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="4" part="nbr"/><lit-tag v="pl"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_pl"/></equal>
                <equal><clip pos="4" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="4" part="nbr"/><lit-tag v="sg"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="4" part="nbr"/><lit-tag v="sg"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_sg"/></equal>
                <equal><clip pos="4" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="4" part="nbr"/><lit-tag v="pl"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_acord_subj_vaux_vcop_atrib4" npar="4"> <!-- par1 = SN (sujet), par2 = SV_copulatiu, par3 = SV_aux, = SV_ser, par4 = SA (attribut): accord en genre et nombre entre sujet et attribut -->
      <choose>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="m"/></equal>
              <equal><clip pos="3" part="gen"/><lit-tag v="f"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_f"/></equal>
                <equal><clip pos="3" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="3" part="gen"/><lit-tag v="m"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="f"/></equal>
              <equal><clip pos="3" part="gen"/><lit-tag v="m"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_m"/></equal>
                <equal><clip pos="3" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="3" part="gen"/><lit-tag v="f"/></let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="3" part="nbr"/><lit-tag v="pl"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_pl"/></equal>
                <equal><clip pos="3" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="3" part="nbr"/><lit-tag v="sg"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="3" part="nbr"/><lit-tag v="sg"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_sg"/></equal>
                <equal><clip pos="3" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="3" part="nbr"/><lit-tag v="pl"/></let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="m"/></equal>
              <equal><clip pos="4" part="gen"/><lit-tag v="f"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_f"/></equal>
                <equal><clip pos="4" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="4" part="gen"/><lit-tag v="m"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="f"/></equal>
              <equal><clip pos="4" part="gen"/><lit-tag v="m"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_m"/></equal>
                <equal><clip pos="4" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="4" part="gen"/><lit-tag v="f"/></let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="4" part="nbr"/><lit-tag v="pl"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_pl"/></equal>
                <equal><clip pos="4" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="4" part="nbr"/><lit-tag v="sg"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="4" part="nbr"/><lit-tag v="sg"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_sg"/></equal>
                <equal><clip pos="4" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="4" part="nbr"/><lit-tag v="pl"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_bcond" npar="2"><!--Per mirar si el blanc conté o no format. Cal posar aquesta funció en les regles en què desaparegui alguna paraula, per tal de decidir si el blanc de la paraula eliminada s'ha d'eliminar o conservar. Si conté format cal conservar-la, si no en conté cal eliminar-la perquè no apareguin dos espais seguits. -->
      <choose>
        <when>
          <test>
            <not>
              <equal>
                <b pos="1"/>
                <lit v=" "/>
              </equal>
            </not>
          </test>
          <out>
            <b pos="1"/>
          </out>
        </when>
      </choose>
    </def-macro>
  </section-def-macros>

  <section-rules>
    <rule comment="RÈGLA: SN">
      <pattern>
        <pattern-item n="SN"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- RÈGLAS PER MANTUN PRN -->

    <rule comment="RÈGLA: PRN_mantun PREP SN SV_copulatiu SA: plusieurs d'elles > mantuna d'elas">
      <pattern>
        <pattern-item n="PRN_mantun"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun2"><with-param pos="1"/><with-param pos="3"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PRN_mantun PREP DET SN SV_copulatiu SA: plusieurs de ses nouvelles > mantuna de sas novèlas ; plusieurs d'entre ellex > mantuna d'entre elas">
      <pattern>
        <pattern-item n="PRN_mantun"/>
        <pattern-item n="PREP"/>
        <pattern-item n="PREP_DET"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun3"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS PER MANTUN PRN -->

    <!-- RÈGLAS PEL SUPERLATIU -->

    <rule comment="RÈGLA: DET_def SN DET_def SAcomp: la montagne la plus haute > la montanha mai nauta">
      <pattern>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SAcomp"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS PEL SUPERLATIU -->

    <!-- RÈGLAS PER L'ATRIBUT -->

    <rule comment="RÈGLA: PREP SN SV_copulatiu SA: aquesta regla inhibeix la concordança de les regles que segueixen si hi ha una preposició al davant del subjecte putatiu">
      <pattern>
        <pattern-item n="PREP"/>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
      <out>
        <chunk>
          <clip pos="1" part="lem"/>
          <clip pos="1" part="tags"/>
          <clip pos="1" part="chcontent"/>
        </chunk>
	<b pos="1"/>
        <chunk>
          <clip pos="2" part="lem"/>
          <clip pos="2" part="tags"/>
          <clip pos="2" part="chcontent"/>
        </chunk>
	<b pos="2"/>
        <chunk>
          <clip pos="3" part="lem"/>
          <clip pos="3" part="tags"/>
          <clip pos="3" part="chcontent"/>
        </chunk>
	<b pos="3"/>
        <chunk>
          <clip pos="4" part="lem"/>
          <clip pos="4" part="tags"/>
          <clip pos="4" part="chcontent"/>
        </chunk>
      </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP DET SN SV_copulatiu SA: aquesta regla inhibeix la concordança de les regles que segueixen si hi ha una preposició al davant del subjecte putatiu">
      <pattern>
        <pattern-item n="PREP"/>
        <pattern-item n="DET"/>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
      <out>
        <chunk>
          <clip pos="1" part="lem"/>
          <clip pos="1" part="tags"/>
          <clip pos="1" part="chcontent"/>
        </chunk>
	<b pos="1"/>
        <chunk>
          <clip pos="2" part="lem"/>
          <clip pos="2" part="tags"/>
          <clip pos="2" part="chcontent"/>
        </chunk>
	<b pos="2"/>
        <chunk>
          <clip pos="3" part="lem"/>
          <clip pos="3" part="tags"/>
          <clip pos="3" part="chcontent"/>
        </chunk>
	<b pos="3"/>
        <chunk>
          <clip pos="4" part="lem"/>
          <clip pos="4" part="tags"/>
          <clip pos="4" part="chcontent"/>
        </chunk>
	<b pos="4"/>
        <chunk>
          <clip pos="5" part="lem"/>
          <clip pos="5" part="tags"/>
          <clip pos="5" part="chcontent"/>
        </chunk>
      </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SV_copulatiu SA: accord en genre et nombre entre sujet et attribut: la maison est grande > l'ostal es grand">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="2"/><with-param pos="3"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SV_copulatiu SAdv SA: accord en genre et nombre entre sujet et attribut: la maison est très grande > l'ostal es plan grand">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="2"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SV_copulatiu DET SA: accord en genre entre sujet et attribut: la maison est la grande > l'ostal es lo grand">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="DET"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vcop_atrib4"><with-param pos="1"/><with-param pos="2"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SV_copulatiu PPser SA: accord en genre entre sujet et attribut: la maison a été grande > l'ostal es estat grand">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="PPser"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vaux_vcop_atrib4"><with-param pos="1"/><with-param pos="2"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SV_copulatiu PPser SAdv SA: accord en genre entre sujet et attribut: la maison a été très grande > l'ostal es estat plan grand">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="PPser"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vaux_vcop_atrib4"><with-param pos="1"/><with-param pos="2"/><with-param pos="3"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SV_copulatiu SAdv PPser SA: accord en genre entre sujet et attribut: la maison a toujours été grande > l'ostal es totjorn estat grand">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PPser"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vaux_vcop_atrib4"><with-param pos="1"/><with-param pos="2"/><with-param pos="4"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SV_copulatiu SAdv PPser SAdv SA: accord en genre entre sujet et attribut: la maison a toujours été très grande > l'ostal es totjorn estat plan grand">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PPser"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vaux_vcop_atrib4"><with-param pos="1"/><with-param pos="2"/><with-param pos="4"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP SN SV_copulatiu SA: accord en genre entre suject et attribut: la voisine de Jean est unique > la vesina de Jean es unica">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
      <call-macro n="f_acord_mantun2"><with-param pos="1"/><with-param pos="3"/></call-macro>
      <choose>
        <when>
          <test>
            <equal caseless="yes"><clip pos="2" part="lem"/><lit v="per"/></equal> <!-- per evitar problèmas amb construccions coma 'le voisin tres fois par an est ...' (lo cambiament de genre fois/còp causa de problèmas) -->
          </test>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="m"/></equal>
              <equal><clip pos="5" part="gen"/><lit-tag v="f"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_f"/></equal>
                <equal><clip pos="5" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="5" part="gen"/><lit-tag v="m"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="f"/></equal>
              <equal><clip pos="5" part="gen"/><lit-tag v="m"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_m"/></equal>
                <equal><clip pos="5" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="5" part="gen"/><lit-tag v="f"/></let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="4" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="5" part="nbr"/><lit-tag v="pl"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_pl"/></equal>
                <equal><clip pos="5" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="5" part="nbr"/><lit-tag v="sg"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="4" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="5" part="nbr"/><lit-tag v="sg"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_sg"/></equal>
                <equal><clip pos="5" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="5" part="nbr"/><lit-tag v="pl"/></let>
        </when>
      </choose>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP DET SN SV_copulatiu SA: accord en genre entre suject et attribut: la voisine du voisin est unique > la vesina del vesin es unica ; plusieurs de ses nouvelles sont historiques > mantuna de sas novèlas es istorica ; plusieurs d'entre eux sont historiques > mantun d'entre eles es istoric">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="PREP_DET"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun3"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="5"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP SN PREP SN SV_copulatiu SA: accord en genre entre suject et attribut">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun2"><with-param pos="1"/><with-param pos="3"/></call-macro>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="6"/><with-param pos="7"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP DET SN PREP SN SV_copulatiu SA: accord en genre entre suject et attribut">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="PREP"/>
        <pattern-item n="DET"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun2"><with-param pos="1"/><with-param pos="3"/></call-macro>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="7"/><with-param pos="8"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
          <b pos="7"/>
          <chunk>
            <clip pos="8" part="lem"/>
            <clip pos="8" part="tags"/>
            <clip pos="8" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP DET SN PREP SN SV_copulatiu SA: accord en genre entre suject et attribut">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="DET"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun3"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="7"/><with-param pos="8"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
          <b pos="7"/>
          <chunk>
            <clip pos="8" part="lem"/>
            <clip pos="8" part="tags"/>
            <clip pos="8" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP DET SN PREP DET SN SV_copulatiu SA: accord en genre entre suject et attribut">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="DET"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="PREP"/>
        <pattern-item n="DET"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun3"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="8"/><with-param pos="9"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
          <b pos="7"/>
          <chunk>
            <clip pos="8" part="lem"/>
            <clip pos="8" part="tags"/>
            <clip pos="8" part="chcontent"/>
          </chunk>
          <b pos="8"/>
          <chunk>
            <clip pos="9" part="lem"/>
            <clip pos="9" part="tags"/>
            <clip pos="9" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP SN SV_copulatiu SAdv SA: accord en genre entre suject et attribut: la voisine de Jean n'est pas unique > la vesina de Jean es pas unica">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
      <call-macro n="f_acord_mantun2"><with-param pos="1"/><with-param pos="3"/></call-macro>
      <choose>
        <when>
          <test>
            <equal caseless="yes"><clip pos="2" part="lem"/><lit v="per"/></equal> <!-- per evitar problèmas amb construccions coma 'le voisin trois fois par an n'est pas ...' (lo cambiament de genre fois/còp causa de problèmas) -->
          </test>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="m"/></equal>
              <equal><clip pos="6" part="gen"/><lit-tag v="f"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_f"/></equal>
                <equal><clip pos="6" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="6" part="gen"/><lit-tag v="m"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="gen"/><lit-tag v="f"/></equal>
              <equal><clip pos="6" part="gen"/><lit-tag v="m"/></equal>
              <or>
                <equal><clip pos="1" part="sl_gen"/><lit-tag v="sl_m"/></equal>
                <equal><clip pos="6" part="sl_gen"/><lit-tag v="sl_mf"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="6" part="gen"/><lit-tag v="f"/></let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal caseless="yes"><clip pos="2" part="lem"/><lit v="per"/></equal> <!-- per evitar problèmas amb construccions coma 'le voisin trois fois par an n'est pas ...' (lo cambiament de genre fois/còp causa de problèmas) -->
          </test>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="4" part="nbr"/><lit-tag v="sg"/></equal>
              <equal><clip pos="6" part="nbr"/><lit-tag v="pl"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_pl"/></equal>
                <equal><clip pos="6" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="6" part="nbr"/><lit-tag v="sg"/></let>
        </when>
        <when>
          <test>
            <and>
              <equal><clip pos="1" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="4" part="nbr"/><lit-tag v="pl"/></equal>
              <equal><clip pos="6" part="nbr"/><lit-tag v="sg"/></equal>
              <or>
                <equal><clip pos="1" part="sl_nbr"/><lit-tag v="sl_sg"/></equal>
                <equal><clip pos="6" part="sl_nbr"/><lit-tag v="sl_sp"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="6" part="nbr"/><lit-tag v="pl"/></let>
        </when>
      </choose>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP DET SN SV_copulatiu SAdv SA: accord en genre entre suject et attribut: la voisine du voisin n'est pas unique > la vesina del vesin es pas unica ; plusieurs de ses nouvelles sont très historiques > mantuna de sas novèlas es plan istorica ; plusieurs d'entre eux sont très historiques > mantun d'entre eles es plan istoric">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="PREP_DET"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun3"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="5"/><with-param pos="7"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP SN PREP SN SV_copulatiu SAdv SA: accord en genre entre suject et attribut">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun2"><with-param pos="1"/><with-param pos="3"/></call-macro>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="6"/><with-param pos="8"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
          <b pos="7"/>
          <chunk>
            <clip pos="8" part="lem"/>
            <clip pos="8" part="tags"/>
            <clip pos="8" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP DET SN PREP SN SV_copulatiu SAdv SA: accord en genre entre suject et attribut">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="PREP"/>
        <pattern-item n="DET"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun2"><with-param pos="1"/><with-param pos="3"/></call-macro>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="7"/><with-param pos="9"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
          <b pos="7"/>
          <chunk>
            <clip pos="8" part="lem"/>
            <clip pos="8" part="tags"/>
            <clip pos="8" part="chcontent"/>
          </chunk>
          <b pos="8"/>
          <chunk>
            <clip pos="9" part="lem"/>
            <clip pos="9" part="tags"/>
            <clip pos="9" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP DET SN PREP SN SV_copulatiu SAdv SA: accord en genre entre suject et attribut">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="DET"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun3"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="7"/><with-param pos="9"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
          <b pos="7"/>
          <chunk>
            <clip pos="8" part="lem"/>
            <clip pos="8" part="tags"/>
            <clip pos="8" part="chcontent"/>
          </chunk>
          <b pos="8"/>
          <chunk>
            <clip pos="9" part="lem"/>
            <clip pos="9" part="tags"/>
            <clip pos="9" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP DET SN PREP DET SN SV_copulatiu SAdv SA: accord en genre entre suject et attribut">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="DET"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="PREP"/>
        <pattern-item n="DET"/>
        <pattern-item n="SN_UNK"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun3"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="8"/><with-param pos="10"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
          <b pos="7"/>
          <chunk>
            <clip pos="8" part="lem"/>
            <clip pos="8" part="tags"/>
            <clip pos="8" part="chcontent"/>
          </chunk>
          <b pos="8"/>
          <chunk>
            <clip pos="9" part="lem"/>
            <clip pos="9" part="tags"/>
            <clip pos="9" part="chcontent"/>
          </chunk>
          <b pos="9"/>
          <chunk>
            <clip pos="10" part="lem"/>
            <clip pos="10" part="tags"/>
            <clip pos="10" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP SN SPron_pro SV_copulatiu SA: aquesta regla inhibeix la concordança de les regles que segueixen si hi ha una preposició al davant del subjecte putatiu">
      <pattern>
        <pattern-item n="PREP"/>
        <pattern-item n="SN"/>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="PPser_SA"/>
      </pattern>
      <action>
      <out>
        <chunk>
          <clip pos="1" part="lem"/>
          <clip pos="1" part="tags"/>
          <clip pos="1" part="chcontent"/>
        </chunk>
	<b pos="1"/>
        <chunk>
          <clip pos="2" part="lem"/>
          <clip pos="2" part="tags"/>
          <clip pos="2" part="chcontent"/>
        </chunk>
	<b pos="2"/>
        <chunk>
          <clip pos="3" part="lem"/>
          <clip pos="3" part="tags"/>
          <clip pos="3" part="chcontent"/>
        </chunk>
	<b pos="3"/>
        <chunk>
          <clip pos="4" part="lem"/>
          <clip pos="4" part="tags"/>
          <clip pos="4" part="chcontent"/>
        </chunk>
	<b pos="4"/>
        <chunk>
          <clip pos="5" part="lem"/>
          <clip pos="5" part="tags"/>
          <clip pos="5" part="chcontent"/>
        </chunk>
      </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP DET SN SPron_pro SV_copulatiu SA: aquesta regla inhibeix la concordança de les regles que segueixen si hi ha una preposició al davant del subjecte putatiu">
      <pattern>
        <pattern-item n="PREP"/>
        <pattern-item n="DET"/>
        <pattern-item n="SN"/>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="PPser_SA"/>
      </pattern>
      <action>
      <out>
        <chunk>
          <clip pos="1" part="lem"/>
          <clip pos="1" part="tags"/>
          <clip pos="1" part="chcontent"/>
        </chunk>
	<b pos="1"/>
        <chunk>
          <clip pos="2" part="lem"/>
          <clip pos="2" part="tags"/>
          <clip pos="2" part="chcontent"/>
        </chunk>
	<b pos="2"/>
        <chunk>
          <clip pos="3" part="lem"/>
          <clip pos="3" part="tags"/>
          <clip pos="3" part="chcontent"/>
        </chunk>
	<b pos="3"/>
        <chunk>
          <clip pos="4" part="lem"/>
          <clip pos="4" part="tags"/>
          <clip pos="4" part="chcontent"/>
        </chunk>
	<b pos="4"/>
        <chunk>
          <clip pos="5" part="lem"/>
          <clip pos="5" part="tags"/>
          <clip pos="5" part="chcontent"/>
        </chunk>
	<b pos="5"/>
        <chunk>
          <clip pos="6" part="lem"/>
          <clip pos="6" part="tags"/>
          <clip pos="6" part="chcontent"/>
        </chunk>
      </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SPron_pro SV_copulatiu SA: accord en genre entre sujet et attribut: la maison en est fière > l'ostal n'es gloriós">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SPron_pro SV_copulatiu PPser SA: accord en genre entre sujet et attribut: la maison en a été fière > l'ostal n'es estat gloriós">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="PPser"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vaux_vcop_atrib4"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SPron_pro SV_copulatiu PPser SAdv SA: accord en genre entre sujet et attribut: la maison en a été très fière > l'ostal n'es estat plan gloriós">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="PPser"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vaux_vcop_atrib4"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SPron_pro SV_copulatiu SAdv PPser SA: accord en genre entre sujet et attribut: la maison en a toujours été fière > l'ostal n'es totjorn estat gloriós">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PPser"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vaux_vcop_atrib4"><with-param pos="1"/><with-param pos="3"/><with-param pos="5"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN SPron_pro SV_copulatiu SAdv PPser SAdv SA: accord en genre entre sujet et attribut: la maison en a toujours été très fière > l'ostal n'es totjorn estat plan gloriós">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PPser"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vaux_vcop_atrib4"><with-param pos="1"/><with-param pos="3"/><with-param pos="5"/><with-param pos="7"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

<!--
    <rule comment="RÈGLA: SN PREP PREP SN SV_copulatiu SA: accord en genre entre sujet et attribut: plusieurs d'entre eux sont historiques > mantun d'entre eles es istoric ; plusieurs de ses nouvelles sont historiques > mantuna de sas novèlas es istorica">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="5"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>
-->

<!--
    <rule comment="RÈGLA: SN PREP PREP SN SV_copulatiu SAdv SA: accord en genre entre sujet et attribut: plusieurs d'entre eux sont très historiques > mantun d'entre eles es plan istoric ; plusieurs de ses nouvelles sont très historiques > mantuna de sas novèlas es plan istorica">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="PREP"/>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_subj_vcop_atrib3"><with-param pos="1"/><with-param pos="5"/><with-param pos="7"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>
-->

    <rule comment="RÈGLA: SN PREP PREP SN SV_copulatiu PPser SA: accord en genre entre sujet et attribut: plusieurs d'entre eux ont été traduits > mantun d'entre eles es estat traduch ; plusieurs de ses nouvelles ont été traduites > mantuna de sas novèlas es estada traducha">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="PREP_DET"/>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="PPser"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun3"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_acord_subj_vaux_vcop_atrib4"><with-param pos="1"/><with-param pos="5"/><with-param pos="6"/><with-param pos="7"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SN PREP PREP SN SV_copulatiu SAdv PPser SA: accord en genre entre sujet et attribut: plusieurs d'entre eux n'ont pas été traduits > mantun d'entre eles es pas estat traduch; ; plusieurs de ses nouvelles n'ont pas été traduites > mantuna de sas novèlas es pas estada traducha">
      <pattern>
        <pattern-item n="SN"/>
        <pattern-item n="PREP"/>
        <pattern-item n="PREP_DET"/>
        <pattern-item n="SN"/>
        <pattern-item n="SV_copulatiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PPser"/>
        <pattern-item n="SA"/>
      </pattern>
      <action>
        <call-macro n="f_acord_mantun3"><with-param pos="1"/><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_acord_subj_vaux_vcop_atrib4"><with-param pos="1"/><with-param pos="5"/><with-param pos="7"/><with-param pos="8"/></call-macro>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
          <b pos="6"/>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
          <b pos="7"/>
          <chunk>
            <clip pos="8" part="lem"/>
            <clip pos="8" part="tags"/>
            <clip pos="8" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS PER L'ATRIBUT -->

    <!-- RÈGLAS PEL PARTITIU -->

    <rule comment="RÈGLA: SV PR_de DET_def SN: Je veux de l'eau > Vòli d'aiga" v="oci">
      <pattern>
        <pattern-item n="SV_partitiu"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV PR_de DET_def SN: Je veux de l'eau > Vòli aiga" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_partitiu"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV SAdv PR_de DET_def SN: Je veux toujours de l'eau > Vòli totjorn d'aiga" v="oci">
      <pattern>
        <pattern-item n="SV_partitiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV SAdv PR_de DET_def SN: Je veux toujours de l'eau > Vòli totjorn aiga" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_partitiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV SAdv SAdv PR_de DET_def SN: Je ne veux pas toujours de l'eau > Vòli pas totjorn d'aiga" v="oci">
      <pattern>
        <pattern-item n="SV_partitiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="5"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV SAdv SAdv PR_de DET_def SN: Je ne veux pas toujours de l'eau > Vòli pas totjorn aiga" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_partitiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="5"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV_haver PP_partitiu PR_de DET_def SN: J'ai bu de l'eau > Ai begut d'aiga" v="oci">
      <pattern>
        <pattern-item n="SV_haver"/>
        <pattern-item n="PP_partitiu"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV_haver PP_partitiu PR_de DET_def SN: J'ai bu de l'eau > Èi bevut aiga" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_haver"/>
        <pattern-item n="PP_partitiu"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV_haver SAdv PP_partitiu PR_de DET_def SN: Je n'ai pas bu de l'eau > Ai pas begut d'aiga" v="oci">
      <pattern>
        <pattern-item n="SV_haver"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PP_partitiu"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="5"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV_haver SAdv PP_partitiu PR_de DET_def SN: Je n'ai pas bu de l'eau > Èi pas bevut aiga" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_haver"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PP_partitiu"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="5"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV_haver SAdv SAdv PP_partitiu PR_de DET_def SN: Je n'ai pas toujours bu de l'eau > Ai pas totjorn begut d'aiga" v="oci">
      <pattern>
        <pattern-item n="SV_haver"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PP_partitiu"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
          <b pos="5"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="6"/><with-param pos="7"/></call-macro>
        <out>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV_haver SAdv SAdv PP_partitiu PR_de DET_def SN: Je n'ai pas toujours bu de l'eau > Èi pas tostemps bevut aiga" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_haver"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PP_partitiu"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="5"/><with-param pos="6"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="6"/><with-param pos="7"/></call-macro>
        <out>
          <chunk>
            <clip pos="7" part="lem"/>
            <clip pos="7" part="tags"/>
            <clip pos="7" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV_vbser PP_pl PR_de DET_def SN: sont devenues des chansons populaires > son vengudas de cançons popularas" v="oci">
      <pattern>
        <pattern-item n="SV_vbser"/>
        <pattern-item n="PP_pl"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_defpl"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV_vbser PP_pl PR_de DET_def SN: sont devenues des chansons populaires > son vengudas cançons popularas" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_vbser"/>
        <pattern-item n="PP_pl"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_defpl"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV_vbser ADV PP_pl PR_de DET_def SN: ne sont pas devenues des chansons populaires > son pas vengudas de cançons popularas" v="oci">
      <pattern>
        <pattern-item n="SV_vbser"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PP_pl"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_defpl"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="5"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV_vbser ADV PP_pl PR_de DET_def SN: ne sont pas devenues des chansons populaires > son pas vengudas cançons popularas" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_vbser"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PP_pl"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_defpl"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="4"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="5"/><with-param pos="6"/></call-macro>
        <out>
          <chunk>
            <clip pos="6" part="lem"/>
            <clip pos="6" part="tags"/>
            <clip pos="6" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SENT_PREP_CNJ_REL PR_de DET_def SN: avec des amis > amb d'amics" v="oci">
      <pattern>
        <pattern-item n="SENT_PREP_CNJ_REL"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_SA_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SENT_PREP_CNJ_REL PR_de DET_def SN: avec des amis > dab amics" v="oci@gascon">
      <pattern>
        <pattern-item n="SENT_PREP_CNJ_REL"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_SA_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

<!-- trop de problèmes à cause de SAdv + PR_de qui sont en fait des locutions prépositives
    <rule comment="RÈGLA: SENT_PREP_CNJ_REL SAdv PR_de DET_def SN: avec toujours des amis > amb totjorn d'amics">
      <pattern>
        <pattern-item n="SENT_PREP_CNJ_REL"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_SA_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>
-->

    <rule comment="RÈGLA: CM PR_de DET_def SN SV: élimination de l'article définit du partitif" v="oci">
      <pattern>
        <pattern-item n="CM"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_SA_UNK"/>
        <pattern-item n="SV"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CM PR_de DET_def SN SV: élimination de l'article définit du partitif" v="oci@gascon">
      <pattern>
        <pattern-item n="CM"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_SA_UNK"/>
        <pattern-item n="SV"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
          <b pos="4"/>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- cases ambe pronòm (se lo vèrb es reflexiu o a ja un complement dirècte, i a pas de partitiu) -->

    <rule comment="RÈGLA: PRNPRO SV PR_de DET_def SN: s'éloigne de la gauche > s'aluènha de l'esquèrra" v="oci">
      <pattern>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_partitiu"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <choose>
          <when>
            <test>
              <or>
                <equal><clip pos="1" part="a_pron"/><lit-tag v="ref"/></equal>
                <equal caseless="yes"><clip pos="1" part="lem"/><lit v="lo"/></equal>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="me"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p1"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="te"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p2"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="nos"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p1"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="vos"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p2"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
                </and>
              </or>
            </test>
            <out>
              <chunk>
                <clip pos="1" part="lem"/>
                <clip pos="1" part="tags"/>
                <clip pos="1" part="chcontent"/>
              </chunk>
              <b pos="1"/>
              <chunk>
                <clip pos="2" part="lem"/>
                <clip pos="2" part="tags"/>
                <clip pos="2" part="chcontent"/>
              </chunk>
              <b pos="2"/>
              <chunk>
                <clip pos="3" part="lem"/>
                <clip pos="3" part="tags"/>
                <clip pos="3" part="chcontent"/>
              </chunk>
              <b pos="3"/>
              <chunk>
                <clip pos="4" part="lem"/>
                <clip pos="4" part="tags"/>
                <clip pos="4" part="chcontent"/>
              </chunk>
              <b pos="4"/>
              <chunk>
                <clip pos="5" part="lem"/>
                <clip pos="5" part="tags"/>
                <clip pos="5" part="chcontent"/>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk>
                <clip pos="1" part="lem"/>
                <clip pos="1" part="tags"/>
                <clip pos="1" part="chcontent"/>
              </chunk>
              <b pos="1"/>
              <chunk>
                <clip pos="2" part="lem"/>
                <clip pos="2" part="tags"/>
                <clip pos="2" part="chcontent"/>
              </chunk>
              <b pos="2"/>
              <chunk>
                <clip pos="3" part="lem"/>
                <clip pos="3" part="tags"/>
                <clip pos="3" part="chcontent"/>
              </chunk>
              <b pos="3"/>
            </out>
            <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
            <out>
              <chunk>
                <clip pos="5" part="lem"/>
                <clip pos="5" part="tags"/>
                <clip pos="5" part="chcontent"/>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO SV PR_de DET_def SN: s'éloigne de la gauche > s'aluènha de l'esquèrra" v="oci@gascon">
      <pattern>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_partitiu"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <choose>
          <when>
            <test>
              <or>
                <equal><clip pos="1" part="a_pron"/><lit-tag v="ref"/></equal>
                <equal caseless="yes"><clip pos="1" part="lem"/><lit v="lo"/></equal>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="me"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p1"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="te"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p2"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="nos"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p1"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="vos"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p2"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
                </and>
              </or>
            </test>
            <out>
              <chunk>
                <clip pos="1" part="lem"/>
                <clip pos="1" part="tags"/>
                <clip pos="1" part="chcontent"/>
              </chunk>
              <b pos="1"/>
              <chunk>
                <clip pos="2" part="lem"/>
                <clip pos="2" part="tags"/>
                <clip pos="2" part="chcontent"/>
              </chunk>
              <b pos="2"/>
              <chunk>
                <clip pos="3" part="lem"/>
                <clip pos="3" part="tags"/>
                <clip pos="3" part="chcontent"/>
              </chunk>
              <b pos="3"/>
              <chunk>
                <clip pos="4" part="lem"/>
                <clip pos="4" part="tags"/>
                <clip pos="4" part="chcontent"/>
              </chunk>
              <b pos="4"/>
              <chunk>
                <clip pos="5" part="lem"/>
                <clip pos="5" part="tags"/>
                <clip pos="5" part="chcontent"/>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk>
                <clip pos="1" part="lem"/>
                <clip pos="1" part="tags"/>
                <clip pos="1" part="chcontent"/>
              </chunk>
              <b pos="1"/>
              <chunk>
                <clip pos="2" part="lem"/>
                <clip pos="2" part="tags"/>
                <clip pos="2" part="chcontent"/>
              </chunk>
              <b pos="2"/>
            </out>
            <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
            <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
            <out>
              <chunk>
                <clip pos="5" part="lem"/>
                <clip pos="5" part="tags"/>
                <clip pos="5" part="chcontent"/>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO SV SAdv PR_de DET_def SN: ne s'éloigne pas de la gauche > s'aluènha pas de l'esquèrra" v="oci">
      <pattern>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_partitiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <choose>
          <when>
            <test>
              <or>
                <equal><clip pos="1" part="a_pron"/><lit-tag v="ref"/></equal>
                <equal caseless="yes"><clip pos="1" part="lem"/><lit v="lo"/></equal>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="me"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p1"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="te"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p2"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="nos"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p1"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="vos"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p2"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
                </and>
              </or>
            </test>
            <out>
              <chunk>
                <clip pos="1" part="lem"/>
                <clip pos="1" part="tags"/>
                <clip pos="1" part="chcontent"/>
              </chunk>
              <b pos="1"/>
              <chunk>
                <clip pos="2" part="lem"/>
                <clip pos="2" part="tags"/>
                <clip pos="2" part="chcontent"/>
              </chunk>
              <b pos="2"/>
              <chunk>
                <clip pos="3" part="lem"/>
                <clip pos="3" part="tags"/>
                <clip pos="3" part="chcontent"/>
              </chunk>
              <b pos="3"/>
              <chunk>
                <clip pos="4" part="lem"/>
                <clip pos="4" part="tags"/>
                <clip pos="4" part="chcontent"/>
              </chunk>
              <b pos="4"/>
              <chunk>
                <clip pos="5" part="lem"/>
                <clip pos="5" part="tags"/>
                <clip pos="5" part="chcontent"/>
              </chunk>
              <b pos="5"/>
              <chunk>
                <clip pos="6" part="lem"/>
                <clip pos="6" part="tags"/>
                <clip pos="6" part="chcontent"/>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk>
                <clip pos="1" part="lem"/>
                <clip pos="1" part="tags"/>
                <clip pos="1" part="chcontent"/>
              </chunk>
              <b pos="1"/>
              <chunk>
                <clip pos="2" part="lem"/>
                <clip pos="2" part="tags"/>
                <clip pos="2" part="chcontent"/>
              </chunk>
              <b pos="2"/>
              <chunk>
                <clip pos="3" part="lem"/>
                <clip pos="3" part="tags"/>
                <clip pos="3" part="chcontent"/>
              </chunk>
              <b pos="3"/>
              <chunk>
                <clip pos="4" part="lem"/>
                <clip pos="4" part="tags"/>
                <clip pos="4" part="chcontent"/>
              </chunk>
              <b pos="4"/>
            </out>
            <call-macro n="f_bcond"><with-param pos="5"/><with-param pos="6"/></call-macro>
            <out>
              <chunk>
                <clip pos="6" part="lem"/>
                <clip pos="6" part="tags"/>
                <clip pos="6" part="chcontent"/>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO SV SAdv PR_de DET_def SN: ne s'éloigne pas de la gauche > s'aluènha pas de l'esquèrra" v="oci@gascon">
      <pattern>
        <pattern-item n="SPron_pro"/>
        <pattern-item n="SV_partitiu"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <choose>
          <when>
            <test>
              <or>
                <equal><clip pos="1" part="a_pron"/><lit-tag v="ref"/></equal>
                <equal caseless="yes"><clip pos="1" part="lem"/><lit v="lo"/></equal>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="me"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p1"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="te"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p2"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="nos"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p1"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
                </and>
                <and>
                  <equal caseless="yes"><clip pos="1" part="lem"/><lit v="vos"/></equal>
                  <equal><clip pos="2" part="pers"/><lit-tag v="p2"/></equal>
                  <equal><clip pos="2" part="nbr"/><lit-tag v="pl"/></equal>
                </and>
              </or>
            </test>
            <out>
              <chunk>
                <clip pos="1" part="lem"/>
                <clip pos="1" part="tags"/>
                <clip pos="1" part="chcontent"/>
              </chunk>
              <b pos="1"/>
              <chunk>
                <clip pos="2" part="lem"/>
                <clip pos="2" part="tags"/>
                <clip pos="2" part="chcontent"/>
              </chunk>
              <b pos="2"/>
              <chunk>
                <clip pos="3" part="lem"/>
                <clip pos="3" part="tags"/>
                <clip pos="3" part="chcontent"/>
              </chunk>
              <b pos="3"/>
              <chunk>
                <clip pos="4" part="lem"/>
                <clip pos="4" part="tags"/>
                <clip pos="4" part="chcontent"/>
              </chunk>
              <b pos="4"/>
              <chunk>
                <clip pos="5" part="lem"/>
                <clip pos="5" part="tags"/>
                <clip pos="5" part="chcontent"/>
              </chunk>
              <b pos="5"/>
              <chunk>
                <clip pos="6" part="lem"/>
                <clip pos="6" part="tags"/>
                <clip pos="6" part="chcontent"/>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk>
                <clip pos="1" part="lem"/>
                <clip pos="1" part="tags"/>
                <clip pos="1" part="chcontent"/>
              </chunk>
              <b pos="1"/>
              <chunk>
                <clip pos="2" part="lem"/>
                <clip pos="2" part="tags"/>
                <clip pos="2" part="chcontent"/>
              </chunk>
              <b pos="2"/>
              <chunk>
                <clip pos="3" part="lem"/>
                <clip pos="3" part="tags"/>
                <clip pos="3" part="chcontent"/>
              </chunk>
              <b pos="3"/>
            </out>
            <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
            <call-macro n="f_bcond"><with-param pos="5"/><with-param pos="6"/></call-macro>
            <out>
              <chunk>
                <clip pos="6" part="lem"/>
                <clip pos="6" part="tags"/>
                <clip pos="6" part="chcontent"/>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <!-- cases ambe negacion en gascon -->

    <rule comment="RÈGLA: SV PR_de SN: Personne ne donne d'eau > Arrés ne balha aiga" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_partitiu_neg"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
        <out>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV SAdv PR_de SN: ne donne pas d'eau > ne balha pas aiga" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_partitiu_neg"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <out>
          <chunk>
            <clip pos="4" part="lem"/>
            <clip pos="4" part="tags"/>
            <clip pos="4" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SV SAdv SAdv PR_de SN: ne donne pas toujours d'eau > ne balha pas tostemps aiga" v="oci@gascon">
      <pattern>
        <pattern-item n="SV_partitiu_neg"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="SAdv"/>
        <pattern-item n="PREP_de"/>
        <pattern-item n="SN_UNK"/>
      </pattern>
      <action>
        <out>
          <chunk>
            <clip pos="1" part="lem"/>
            <clip pos="1" part="tags"/>
            <clip pos="1" part="chcontent"/>
          </chunk>
          <b pos="1"/>
          <chunk>
            <clip pos="2" part="lem"/>
            <clip pos="2" part="tags"/>
            <clip pos="2" part="chcontent"/>
          </chunk>
          <b pos="2"/>
          <chunk>
            <clip pos="3" part="lem"/>
            <clip pos="3" part="tags"/>
            <clip pos="3" part="chcontent"/>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="4"/><with-param pos="5"/></call-macro>
        <out>
          <chunk>
            <clip pos="5" part="lem"/>
            <clip pos="5" part="tags"/>
            <clip pos="5" part="chcontent"/>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS PEL PARTITIU -->

<!--
    <rule comment="RÈGLA DE PROVA (posar els items que calgui per provar el match)">
      <pattern>
        <pattern-item n="DET_def"/>
        <pattern-item n="SN_SA_UNK"/>
      </pattern>
      <action>
      </action>
    </rule>
-->

  </section-rules>
</interchunk>

<!--
Resources:
    https://wiki.apertium.org/wiki/Chunking:_A_full_example
    https://wiki.apertium.org/wiki/Chunking
    https://wiki.apertium.org/wiki/Apertium_New_Language_Pair_HOWTO#Transfer_rules
    https://wiki.apertium.org/wiki/A_long_introduction_to_transfer_rules
    https://wiki.apertium.org/wiki/Transfer#Adding_structural_transfer_.28grammar.29_rules
-->
