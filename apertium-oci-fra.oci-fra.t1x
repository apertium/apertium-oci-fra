<?xml version="1.0" encoding="UTF-8"?>
<transfer default="chunk">
  <section-def-cats>
    <def-cat n="pref">
      <cat-item tags="pref"/>
    </def-cat>
    <def-cat n="nom">
      <cat-item tags="n.*"/>
    </def-cat>
    <def-cat n="nomsp_sg">
      <cat-item tags="n.*.sg"/>
      <cat-item tags="n.*.sp"/>
    </def-cat>
    <def-cat n="nomsp_pl">
      <cat-item tags="n.*.pl"/>
      <cat-item tags="n.*.sp"/>
    </def-cat>
    <def-cat n="np">
      <cat-item tags="np.*"/>
    </def-cat>
    <def-cat n="nom_np">
      <cat-item tags="n.*"/>
      <cat-item tags="np.*"/>
    </def-cat>
    <def-cat n="nptop">
      <cat-item tags="np.top.*"/>
      <cat-item tags="np.loc"/>
    </def-cat>
    <def-cat n="npant">
      <cat-item tags="adjp.ant"/>
      <cat-item tags="np.ant.*"/>
    </def-cat>
    <def-cat n="npantcog">
      <cat-item tags="np.ant"/>
      <cat-item tags="np.ant.*"/>
      <cat-item tags="np.cog.*"/>
    </def-cat>
    <def-cat n="npant_unk">
      <cat-item tags="np.ant"/>
      <cat-item tags="np.ant.*"/>
      <cat-item tags="np.cog.*"/>
      <cat-item tags=""/>
    </def-cat>
    <def-cat n="npal">
      <cat-item tags="np.al"/>
      <cat-item tags="np.al.*"/>
    </def-cat>
    <def-cat n="adj">
      <cat-item tags="adj.*"/>
    </def-cat>
    <def-cat n="adjpos">
      <cat-item tags="adj.pos.*"/>
    </def-cat>
    <def-cat n="adjec">
      <cat-item tags="adj.*"/>
      <cat-item tags="vblex.pp.*"/>
      <cat-item tags="vblex.tv.pp.*"/>
      <cat-item tags="vblex.dat2nom.pp.*"/>
    </def-cat>
    <def-cat n="adjpl">
      <cat-item tags="adj.*.pl"/>
    </def-cat>
    <def-cat n="quite_adj">
      <cat-item lemma="quite" tags="adj.*"/>
      <cat-item lemma="quiti" tags="adj.*"/>
    </def-cat>
    <def-cat n="adv">
      <cat-item tags="adv"/>
      <cat-item tags="adv.itg"/>
      <cat-item tags="adv.excl"/>
    </def-cat>
    <def-cat n="compadv">
      <cat-item lemma="mai" tags="adv"/>
      <cat-item lemma="mei" tags="adv"/>
      <cat-item lemma="mès" tags="adv"/>
      <cat-item lemma="mes" tags="adv"/>
      <cat-item lemma="pus" tags="adv"/>
      <cat-item lemma="mens" tags="adv"/>
      <cat-item lemma="mensh" tags="adv"/>
    </def-cat>
    <def-cat n="compadv_extens">
      <cat-item lemma="mai" tags="adv"/>
      <cat-item lemma="mei" tags="adv"/>
      <cat-item lemma="mès" tags="adv"/>
      <cat-item lemma="mes" tags="adv"/>
      <cat-item lemma="pus" tags="adv"/>
      <cat-item lemma="mens" tags="adv"/>
      <cat-item lemma="mensh" tags="adv"/>
      <cat-item lemma="mai plan" tags="adv"/>
      <cat-item lemma="mei plan" tags="adv"/>
      <cat-item lemma="un pòc mai" tags="adv"/>
      <cat-item lemma="fòrça mai" tags="adv"/>
      <cat-item lemma="un pauc mai" tags="adv"/>
      <cat-item lemma="un pauc meus" tags="adv"/>
      <cat-item lemma="drin mei" tags="adv"/>
      <cat-item lemma="drin mensh" tags="adv"/>
      <cat-item lemma="un chic mai" tags="adv"/>
      <cat-item lemma="un chic mei" tags="adv"/>
      <cat-item lemma="un chic mens" tags="adv"/>
      <cat-item lemma="un chic mensh" tags="adv"/>
      <cat-item lemma="un bricon mai" tags="adv"/>
      <cat-item lemma="un bricon mens" tags="adv"/>
      <cat-item lemma="un pè mes" tags="adv"/>
      <cat-item lemma="fòrça mai" tags="adv"/>
      <cat-item lemma="plan mai" tags="adv"/>
      <cat-item lemma="hèra mei" tags="adv"/>
      <cat-item lemma="hòrt mei" tags="adv"/>
      <cat-item lemma="fòrça mens" tags="adv"/>
      <cat-item lemma="plan mens" tags="adv"/>
      <cat-item lemma="hèra menhs" tags="adv"/>
      <cat-item lemma="hòrt menhs" tags="adv"/>
    </def-cat>

    <def-cat n="enon">
      <cat-item tags="adv.enon"/>
    </def-cat>
    <def-cat n="preadv">
      <cat-item tags="preadv"/>
    </def-cat>
    <def-cat n="adv_preadv">
      <cat-item tags="adv"/>
      <cat-item tags="adv.itg"/>
      <cat-item tags="adv.excl"/>
      <cat-item tags="preadv"/>
    </def-cat>
    <def-cat n="pas_adv">
      <cat-item lemma="pas" tags="adv"/>
      <cat-item lemma="quitament pas" tags="adv"/>
      <cat-item lemma="pas quitament" tags="adv"/>
    </def-cat>
    <def-cat n="non_adv">
      <cat-item lemma="non" tags="adv"/>
      <cat-item lemma="non" tags="adv.enon"/>
    </def-cat>
    <def-cat n="tot_adv">
      <cat-item lemma="tot" tags="adv"/>
    </def-cat>
    <def-cat n="tot_det">
      <cat-item lemma="tot" tags="det.*"/>
    </def-cat>
    <def-cat n="tot_detsg">
      <cat-item lemma="tot" tags="det.*.sg"/>
    </def-cat>
    <def-cat n="cada_det">
      <cat-item lemma="cada" tags="det.*"/>
    </def-cat>
    <def-cat n="det">
      <cat-item tags="det.*"/>
      <cat-item tags="predet.*"/>
    </def-cat>
    <def-cat n="detdefpl">
      <cat-item tags="det.def.*.pl"/>
    </def-cat>
    <def-cat n="predet">
      <cat-item tags="predet.*"/>
    </def-cat>
    <def-cat n="detdef">
      <cat-item tags="det.def.*"/>
    </def-cat>
    <def-cat n="detdef_pos">
      <cat-item tags="det.def.*"/>
      <cat-item tags="det.pos.*"/>
    </def-cat>
    <def-cat n="detind">
      <cat-item tags="det.ind.*"/>
    </def-cat>
    <def-cat n="prn">
      <cat-item tags="prn.*"/>
    </def-cat>
    <def-cat n="prnpro">
      <cat-item tags="prn.pro.*"/>
    </def-cat>
    <def-cat n="prnpro_i">
      <cat-item lemma="i" tags="prn.pro.adv"/>
    </def-cat>
    <def-cat n="prnenc">
      <cat-item tags="prn.enc.*"/>
    </def-cat>
    <def-cat n="prnpro_se">
      <cat-item lemma="se" tags="prn.pro.*"/>
    </def-cat>
    <def-cat n="prnpro_ref">
      <cat-item lemma="me" tags="prn.pro.*"/>
      <cat-item lemma="te" tags="prn.pro.*"/>
      <cat-item lemma="se" tags="prn.pro.*"/>
      <cat-item lemma="nos" tags="prn.pro.*"/>
      <cat-item lemma="vos" tags="prn.pro.*"/>
    </def-cat>
    <def-cat n="prnpro_ci_leng">
      <cat-item lemma="me" tags="prn.pro.*"/>
      <cat-item lemma="te" tags="prn.pro.*"/>
      <cat-item lemma="li" tags="prn.pro.*"/>
      <cat-item lemma="nos" tags="prn.pro.*"/>
      <cat-item lemma="vos" tags="prn.pro.*"/>
    </def-cat>
    <def-cat n="prnpro_ci_gasc">
      <cat-item lemma="me" tags="prn.pro.*"/>
      <cat-item lemma="te" tags="prn.pro.*"/>
      <cat-item lemma="lo" tags="prn.pro.*"/>
      <cat-item lemma="nos" tags="prn.pro.*"/>
      <cat-item lemma="vos" tags="prn.pro.*"/>
    </def-cat>

    <def-cat n="verb">
      <cat-item tags="vblex.*"/>
      <cat-item tags="vbser.*"/>
      <cat-item tags="vbhaver.*"/>
      <cat-item tags="vbmod.*"/>
    </def-cat>

    <def-cat n="verbcj">
      <cat-item tags="vbser.*.p1.*"/>
      <cat-item tags="vbser.*.p2.*"/>
      <cat-item tags="vbser.*.p3.*"/>
      <cat-item tags="vblex.*.p1.*"/>
      <cat-item tags="vblex.*.p2.*"/>
      <cat-item tags="vblex.*.p3.*"/>
      <cat-item tags="vbhaver.*.p1.*"/>
      <cat-item tags="vbhaver.*.p2.*"/>
      <cat-item tags="vbhaver.*.p3.*"/>
      <cat-item tags="vbmod.*.p1.*"/>
      <cat-item tags="vbmod.*.p2.*"/>
      <cat-item tags="vbmod.*.p3.*"/>
    </def-cat>

    <def-cat n="inf">
      <cat-item tags="vblex.inf"/>
      <cat-item tags="vblex.tv.inf"/>
      <cat-item tags="vblex.dat2nom.inf"/>
      <cat-item tags="vbser.inf"/>
      <cat-item tags="vbhaver.inf"/>
      <cat-item tags="vbmod.inf"/>
    </def-cat>

    <def-cat n="infger">
      <cat-item tags="vblex.inf"/>
      <cat-item tags="vblex.tv.inf"/>
      <cat-item tags="vblex.dat2nom.inf"/>
      <cat-item tags="vbser.inf"/>
      <cat-item tags="vbhaver.inf"/>
      <cat-item tags="vbmod.inf"/>
      <cat-item tags="vblex.ger"/>
      <cat-item tags="vblex.tv.ger"/>
      <cat-item tags="vblex.dat2nom.ger"/>
      <cat-item tags="vbser.ger"/>
      <cat-item tags="vbhaver.ger"/>
      <cat-item tags="vbmod.ger"/>
    </def-cat>

    <def-cat n="pp">
      <cat-item tags="vblex.pp.*"/>
      <cat-item tags="vblex.tv.pp.*"/>
      <cat-item tags="vblex.dat2nom.pp.*"/>
      <cat-item tags="vbser.pp.*"/>
      <cat-item tags="vbhaver.pp.*"/>
      <cat-item tags="vbmod.pp.*"/>
    </def-cat>

    <def-cat n="vbser_pp">
      <cat-item tags="vbser.pp.*"/>
    </def-cat>

    <def-cat n="imp">
      <cat-item tags="vblex.imp.*"/>
      <cat-item tags="vblex.tv.imp.*"/>
      <cat-item tags="vblex.dat2nom.imp.*"/>
      <cat-item tags="vbser.imp.*"/>
      <cat-item tags="vbhaver.imp.*"/>
      <cat-item tags="vbmod.imp.*"/>
    </def-cat>

    <def-cat n="vbser">
      <cat-item tags="vbser.*"/>
    </def-cat>

    <def-cat n="vbser_conj">
      <cat-item tags="vbser.*.p1.*"/>
      <cat-item tags="vbser.*.p2.*"/>
      <cat-item tags="vbser.*.p3.*"/>
    </def-cat>

    <def-cat n="vbser_p3sg">
      <cat-item tags="vbser.*.p3.sg"/>
    </def-cat>

    <def-cat n="vbser_p3pl">
      <cat-item tags="vbser.*.p3.pl"/>
    </def-cat>

    <def-cat n="vbser_inf_ger">
      <cat-item tags="vbser.inf"/>
      <cat-item tags="vbser.ger"/>
    </def-cat>

    <def-cat n="vbaux">
      <cat-item tags="vbser.*"/>
      <cat-item tags="vbhaver.*"/>
    </def-cat>

    <def-cat n="vbnoser">
      <cat-item tags="vblex.*"/>
      <cat-item tags="vbhaver.*"/>
      <cat-item tags="vbmod.*"/>
    </def-cat>

    <def-cat n="vbmod_poder_p3pl">
      <cat-item lemma="poder" tags="vbmod.*.p3.pl"/>
    </def-cat>

    <def-cat n="vbnoser_conj">
      <cat-item tags="vblex.*.p1.*"/>
      <cat-item tags="vblex.*.p2.*"/>
      <cat-item tags="vblex.*.p3.*"/>
      <cat-item tags="vbhaver.*.p1.*"/>
      <cat-item tags="vbhaver.*.p2.*"/>
      <cat-item tags="vbhaver.*.p3.*"/>
      <cat-item tags="vbmod.*.p1.*"/>
      <cat-item tags="vbmod.*.p2.*"/>
      <cat-item tags="vbmod.*.p3.*"/>
    </def-cat>

    <def-cat n="vbnoser_inf_ger">
      <cat-item tags="vblex.inf"/>
      <cat-item tags="vblex.tv.inf"/>
      <cat-item tags="vblex.dat2nom.inf"/>
      <cat-item tags="vblex.ger"/>
      <cat-item tags="vblex.tv.ger"/>
      <cat-item tags="vblex.dat2nom.ger"/>
      <cat-item tags="vbhaver.inf"/>
      <cat-item tags="vbhaver.ger"/>
      <cat-item tags="vbmod.inf"/>
      <cat-item tags="vbmod.ger"/>
    </def-cat>

    <def-cat n="vb_ger">
      <cat-item tags="vblex.ger"/>
      <cat-item tags="vblex.tv.ger"/>
      <cat-item tags="vblex.dat2nom.ger"/>
      <cat-item tags="vbhaver.ger"/>
      <cat-item tags="vbmod.ger"/>
      <cat-item tags="vbser.ger"/>
    </def-cat>

    <def-cat n="fa">
      <cat-item lemma="far" tags="vblex.*.p3.sg"/>
      <cat-item lemma="har" tags="vblex.*.p3.sg"/>
      <cat-item lemma="hèr" tags="vblex.*.p3.sg"/>
    </def-cat>

    <def-cat n="a_p3sg">
      <cat-item lemma="aver" tags="vblex.*.p3.sg"/>
      <cat-item lemma="auer" tags="vblex.*.p3.sg"/>
      <cat-item lemma="aver" tags="vbhaver.*.p3.sg"/>
      <cat-item lemma="auer" tags="vbhaver.*.p3.sg"/>
    </def-cat>

    <def-cat n="vhaver_p3">
      <cat-item tags="vbhaver.*.p3.*"/>
    </def-cat>

    <def-cat n="venir_pri_p3">
      <cat-item lemma="venir" tags="vblex.pri.p3.*"/>
      <cat-item lemma="viéner" tags="vblex.pri.p3.*"/>
      <cat-item lemma="vénguer" tags="vblex.pri.p3.*"/>
      <cat-item lemma="vier" tags="vblex.pri.p3.*"/>
    </def-cat>
    <def-cat n="venir_pri_p3sg">
      <cat-item lemma="venir" tags="vblex.pri.p3.sg"/>
      <cat-item lemma="viéner" tags="vblex.pri.p3.sg"/>
      <cat-item lemma="vénguer" tags="vblex.pri.p3.sg"/>
      <cat-item lemma="vier" tags="vblex.pri.p3.sg"/>
    </def-cat>

    <def-cat n="tornar_conj">
      <cat-item lemma="tornar" tags="vblex.*.p1.*"/>
      <cat-item lemma="tornar" tags="vblex.*.p2.*"/>
      <cat-item lemma="tornar" tags="vblex.*.p3.*"/>
    </def-cat>
    <def-cat n="tornar_inf_ger">
      <cat-item lemma="tornar" tags="vblex.inf"/>
      <cat-item lemma="tornar" tags="vblex.ger"/>
    </def-cat>

    <def-cat n="verb_pron-nopron_conj">	<!-- s'enlaira > décolle -->
      <cat-item lemma="acochar" tags="vblex.*.p1.*"/>
      <cat-item lemma="acochar" tags="vblex.*.p2.*"/>
      <cat-item lemma="acochar" tags="vblex.*.p3.*"/>
      <cat-item lemma="ajaçar" tags="vblex.*.p1.*"/>
      <cat-item lemma="ajaçar" tags="vblex.*.p2.*"/>
      <cat-item lemma="ajaçar" tags="vblex.*.p3.*"/>
      <cat-item lemma="ajaire" tags="vblex.*.p1.*"/>
      <cat-item lemma="ajaire" tags="vblex.*.p2.*"/>
      <cat-item lemma="ajaire" tags="vblex.*.p3.*"/>
      <cat-item lemma="cargar" tags="vblex.*.p1.*" v="oci"/>
      <cat-item lemma="cargar" tags="vblex.*.p2.*" v="oci"/>
      <cat-item lemma="cargar" tags="vblex.*.p3.*" v="oci"/>
      <cat-item lemma="lengatravar" tags="vblex.*.p1.*" v="oci@gascon"/>
      <cat-item lemma="lengatravar" tags="vblex.*.p2.*" v="oci@gascon"/>
      <cat-item lemma="lengatravar" tags="vblex.*.p3.*" v="oci@gascon"/>
      <cat-item lemma="passar" tags="vblex.*.p1.*" v="oci@gascon"/>
      <cat-item lemma="passar" tags="vblex.*.p2.*" v="oci@gascon"/>
      <cat-item lemma="passar" tags="vblex.*.p3.*" v="oci@gascon"/>
      <cat-item lemma="enamorar" tags="vblex.*.p1.*"/>
      <cat-item lemma="enamorar" tags="vblex.*.p2.*"/>
      <cat-item lemma="enamorar" tags="vblex.*.p3.*"/>
      <cat-item lemma="enlairar" tags="vblex.*.p1.*"/>
      <cat-item lemma="enlairar" tags="vblex.*.p2.*"/>
      <cat-item lemma="enlairar" tags="vblex.*.p3.*"/>
      <cat-item lemma="escàder" tags="vblex.*.p1.*"/>
      <cat-item lemma="escàder" tags="vblex.*.p2.*"/>
      <cat-item lemma="escàder" tags="vblex.*.p3.*"/>
      <cat-item lemma="mauescàder" tags="vblex.*.p1.*"/>
      <cat-item lemma="mauescàder" tags="vblex.*.p2.*"/>
      <cat-item lemma="mauescàder" tags="vblex.*.p3.*"/>
      <cat-item lemma="i escàder" tags="vblex.*.p1.*"/>
      <cat-item lemma="i escàder" tags="vblex.*.p2.*"/>
      <cat-item lemma="i escàder" tags="vblex.*.p3.*"/>
      <cat-item lemma="i mauescàder" tags="vblex.*.p1.*"/>
      <cat-item lemma="i mauescàder" tags="vblex.*.p2.*"/>
      <cat-item lemma="i mauescàder" tags="vblex.*.p3.*"/>
      <cat-item lemma="dòler# de" tags="vblex.*.p1.*"/>
      <cat-item lemma="dòler# de" tags="vblex.*.p2.*"/>
      <cat-item lemma="dòler# de" tags="vblex.*.p3.*"/>
      <cat-item lemma="estar" tags="vblex.*.p1.*"/>
      <cat-item lemma="estar" tags="vblex.*.p2.*"/>
      <cat-item lemma="estar" tags="vblex.*.p3.*"/>
      <cat-item lemma="estremvirar" tags="vblex.*.p1.*"/>
      <cat-item lemma="estremvirar" tags="vblex.*.p2.*"/>
      <cat-item lemma="estremvirar" tags="vblex.*.p3.*"/>
      <cat-item lemma="morir" tags="vblex.*.p1.*"/>
      <cat-item lemma="morir" tags="vblex.*.p2.*"/>
      <cat-item lemma="morir" tags="vblex.*.p3.*"/>
      <cat-item lemma="revenjar" tags="vblex.*.p1.*"/>
      <cat-item lemma="revenjar" tags="vblex.*.p2.*"/>
      <cat-item lemma="revenjar" tags="vblex.*.p3.*"/>
      <cat-item lemma="avergonhar" tags="vblex.*.p1.*"/>
      <cat-item lemma="avergonhar" tags="vblex.*.p2.*"/>
      <cat-item lemma="avergonhar" tags="vblex.*.p3.*"/>
      <cat-item lemma="avergonhir" tags="vblex.*.p1.*"/>
      <cat-item lemma="avergonhir" tags="vblex.*.p2.*"/>
      <cat-item lemma="avergonhir" tags="vblex.*.p3.*"/>
      <cat-item lemma="enrabiar" tags="vblex.*.p1.*"/>
      <cat-item lemma="enrabiar" tags="vblex.*.p2.*"/>
      <cat-item lemma="enrabiar" tags="vblex.*.p3.*"/>
      <cat-item lemma="escacalassar# de ríder" tags="vblex.*.p1.*"/>
      <cat-item lemma="escacalassar# de ríder" tags="vblex.*.p2.*"/>
      <cat-item lemma="escacalassar# de ríder" tags="vblex.*.p3.*"/>
      <cat-item lemma="esclacassar# de ríder" tags="vblex.*.p1.*"/>
      <cat-item lemma="esclacassar# de ríder" tags="vblex.*.p2.*"/>
      <cat-item lemma="esclacassar# de ríder" tags="vblex.*.p3.*"/>
      <cat-item lemma="esclacassar# d'arríder" tags="vblex.*.p1.*"/>
      <cat-item lemma="esclacassar# d'arríder" tags="vblex.*.p2.*"/>
      <cat-item lemma="esclacassar# d'arríder" tags="vblex.*.p3.*"/>
      <cat-item lemma="desenmalir" tags="vblex.*.p1.*" v="oci@gascon"/>
      <cat-item lemma="desenmalir" tags="vblex.*.p2.*" v="oci@gascon"/>
      <cat-item lemma="desenmalir" tags="vblex.*.p3.*" v="oci@gascon"/>
      <cat-item lemma="desenmaliciar" tags="vblex.*.p1.*" v="oci@gascon"/>
      <cat-item lemma="desenmaliciar" tags="vblex.*.p2.*" v="oci@gascon"/>
      <cat-item lemma="desenmaliciar" tags="vblex.*.p3.*" v="oci@gascon"/>
      <cat-item lemma="descolerar" tags="vblex.*.p1.*" v="oci@gascon"/>
      <cat-item lemma="descolerar" tags="vblex.*.p2.*" v="oci@gascon"/>
      <cat-item lemma="descolerar" tags="vblex.*.p3.*" v="oci@gascon"/>
      <cat-item lemma="gahar# malícia" tags="vblex.*.p1.*" v="oci@gascon"/>
      <cat-item lemma="gahar# malícia" tags="vblex.*.p2.*" v="oci@gascon"/>
      <cat-item lemma="gahar# malícia" tags="vblex.*.p3.*" v="oci@gascon"/>
      <cat-item lemma="desgargalhar" tags="vblex.*.p1.*" v="oci@gascon"/>
      <cat-item lemma="desgargalhar" tags="vblex.*.p2.*" v="oci@gascon"/>
      <cat-item lemma="desgargalhar" tags="vblex.*.p3.*" v="oci@gascon"/>
    </def-cat>
    <def-cat n="verb_pron-nopron_pp">
      <cat-item lemma="acochar" tags="vblex.pp.*"/>
      <cat-item lemma="ajaçar" tags="vblex.pp.*"/>
      <cat-item lemma="ajaire" tags="vblex.pp.*"/>
      <cat-item lemma="cargar" tags="vblex.pp.*" v="oci"/>
      <cat-item lemma="lengatravar" tags="vblex.pp.*" v="oci@gascon"/>
      <cat-item lemma="passar" tags="vblex.pp.*" v="oci@gascon"/>
      <cat-item lemma="enamorar" tags="vblex.pp.*"/>
      <cat-item lemma="enlairar" tags="vblex.pp.*"/>
      <cat-item lemma="escàder" tags="vblex.pp.*"/>
      <cat-item lemma="mau escàder" tags="vblex.pp.*"/>
      <cat-item lemma="i escàder" tags="vblex.pp.*"/>
      <cat-item lemma="i mau escàder" tags="vblex.pp.*"/>
      <cat-item lemma="dòler# de" tags="vblex.pp.*"/>
      <cat-item lemma="estar" tags="vblex.pp.*"/>
      <cat-item lemma="estremvirar" tags="vblex.pp.*"/>
      <cat-item lemma="morir" tags="vblex.pp.*"/>
      <cat-item lemma="revenjar" tags="vblex.pp.*"/>
      <cat-item lemma="avergonhar" tags="vblex.pp.*"/>
      <cat-item lemma="avergonhir" tags="vblex.pp.*"/>
      <cat-item lemma="enrabiar" tags="vblex.pp.*"/>
      <cat-item lemma="escacalassar# de ríder" tags="vblex.pp.*"/>
      <cat-item lemma="esclacassar# de ríder" tags="vblex.pp.*"/>
      <cat-item lemma="esclacassar# d'arríder" tags="vblex.pp.*"/>
      <cat-item lemma="desenmalir" tags="vblex.pp.*" v="oci@gascon"/>
      <cat-item lemma="desenmaliciar" tags="vblex.pp.*" v="oci@gascon"/>
      <cat-item lemma="descolerar" tags="vblex.pp.*" v="oci@gascon"/>
      <cat-item lemma="gahar# malícia" tags="vblex.pp.*" v="oci@gascon"/>
      <cat-item lemma="desgargalhar" tags="vblex.pp.*" v="oci@gascon"/>
    </def-cat>

    <def-cat n="verb_dat2nom_conj">	<!-- em hè dòu > je regrette -->
      <cat-item lemma="dòler" tags="vblex.*.p3.*"/>
      <cat-item lemma="dòler# de" tags="vblex.*.p3.*"/>
      <cat-item lemma="far# besonh" tags="vblex.*.p3.*"/>
      <cat-item lemma="har# besonh" tags="vblex.*.p3.*"/>
      <cat-item lemma="hèr# besonh" tags="vblex.*.p3.*"/>
      <cat-item lemma="far# mestièr" tags="vblex.*.p3.*"/>
      <cat-item lemma="har# hrèita" tags="vblex.*.p3.*"/>
      <cat-item lemma="hèr# hrèita" tags="vblex.*.p3.*"/>
      <cat-item lemma="har# dòu" tags="vblex.*.p3.*"/>
      <cat-item lemma="hèr# dòu" tags="vblex.*.p3.*"/>
      <cat-item lemma="far# òrre de" tags="vblex.*.p3.*"/>
      <cat-item lemma="aver# en hasti" tags="vblex.*.p3.*"/>
      <cat-item lemma="auer# en hasti" tags="vblex.*.p3.*"/>
      <cat-item lemma="aver# degrèu" tags="vblex.*.p3.*"/>
      <cat-item lemma="en saber# mau" tags="vblex.*.p3.*"/>
      <cat-item lemma="en sàber# mau" tags="vblex.*.p3.*"/>
      <cat-item lemma="en assaber# mau" tags="vblex.*.p3.*"/>
      <cat-item lemma="en assàber# mau" tags="vblex.*.p3.*"/>
      <cat-item lemma="vagar" tags="vblex.*.p3.*"/>
    </def-cat>
    <def-cat n="verb_dat2nom_pp">
      <cat-item lemma="dòler" tags="vblex.pp.*"/>
      <cat-item lemma="dòler# de" tags="vblex.pp.*"/>
      <cat-item lemma="far# besonh" tags="vblex.pp.*"/>
      <cat-item lemma="har# besonh" tags="vblex.pp.*"/>
      <cat-item lemma="hèr# besonh" tags="vblex.pp.*"/>
      <cat-item lemma="far# mestièr" tags="vblex.pp.*"/>
      <cat-item lemma="har# hrèita" tags="vblex.pp.*"/>
      <cat-item lemma="hèr# hrèita" tags="vblex.pp.*"/>
      <cat-item lemma="har# dòu" tags="vblex.pp.*"/>
      <cat-item lemma="hèr# dòu" tags="vblex.pp.*"/>
      <cat-item lemma="far# òrre de" tags="vblex.pp.*"/>
      <cat-item lemma="aver# en hasti" tags="vblex.pp.*"/>
      <cat-item lemma="auer# en hasti" tags="vblex.pp.*"/>
      <cat-item lemma="aver# degrèu" tags="vblex.pp.*"/>
      <cat-item lemma="en saber# mau" tags="vblex.pp.*"/>
      <cat-item lemma="en sàber# mau" tags="vblex.pp.*"/>
      <cat-item lemma="en assaber# mau" tags="vblex.pp.*"/>
      <cat-item lemma="en assàber# mau" tags="vblex.pp.*"/>
      <cat-item lemma="vagar" tags="vblex.pp.*"/>
    </def-cat>
    <def-cat n="verb_dat2nom_inf_ger">
      <cat-item lemma="dòler" tags="vblex.inf"/>
      <cat-item lemma="dòler# de" tags="vblex.inf"/>
      <cat-item lemma="dòler" tags="vblex.ger"/>
      <cat-item lemma="far# besonh" tags="vblex.inf"/>
      <cat-item lemma="far# besonh" tags="vblex.ger"/>
      <cat-item lemma="har# besonh" tags="vblex.inf"/>
      <cat-item lemma="har# besonh" tags="vblex.ger"/>
      <cat-item lemma="hèr# besonh" tags="vblex.inf"/>
      <cat-item lemma="hèr# besonh" tags="vblex.ger"/>
      <cat-item lemma="far# mestièr" tags="vblex.inf"/>
      <cat-item lemma="far# mestièr" tags="vblex.ger"/>
      <cat-item lemma="har# hrèita" tags="vblex.inf"/>
      <cat-item lemma="har# hrèita" tags="vblex.ger"/>
      <cat-item lemma="hèr# hrèita" tags="vblex.inf"/>
      <cat-item lemma="hèr# hrèita" tags="vblex.ger"/>
      <cat-item lemma="har# dòu" tags="vblex.inf"/>
      <cat-item lemma="har# dòu" tags="vblex.ger"/>
      <cat-item lemma="hèr# dòu" tags="vblex.inf"/>
      <cat-item lemma="hèr# dòu" tags="vblex.ger"/>
      <cat-item lemma="far# òrre de" tags="vblex.inf"/>
      <cat-item lemma="far# òrre de" tags="vblex.ger"/>
      <cat-item lemma="aver# en hasti" tags="vblex.inf"/>
      <cat-item lemma="aver# en hasti" tags="vblex.inf"/>
      <cat-item lemma="auer# en hasti" tags="vblex.ger"/>
      <cat-item lemma="auer# en hasti" tags="vblex.ger"/>
      <cat-item lemma="aver# degrèu" tags="vblex.inf"/>
      <cat-item lemma="aver# degrèu" tags="vblex.ger"/>
      <cat-item lemma="en saber# mau" tags="vblex.inf"/>
      <cat-item lemma="en saber# mau" tags="vblex.ger"/>
      <cat-item lemma="en sàber# mau" tags="vblex.inf"/>
      <cat-item lemma="en sàber# mau" tags="vblex.ger"/>
      <cat-item lemma="en assaber# mau" tags="vblex.inf"/>
      <cat-item lemma="en assaber# mau" tags="vblex.ger"/>
      <cat-item lemma="en assàber# mau" tags="vblex.inf"/>
      <cat-item lemma="en assàber# mau" tags="vblex.ger"/>
      <cat-item lemma="vagar" tags="vblex.inf"/>
      <cat-item lemma="vagar" tags="vblex.ger"/>
    </def-cat>

    <def-cat n="num">
      <cat-item tags="num"/>
      <cat-item tags="num.*"/>
    </def-cat>

    <def-cat n="num_strict">
      <cat-item tags="num"/>
    </def-cat>

    <def-cat n="un_num">
      <cat-item lemma="un" tags="det.ind.*"/>
      <cat-item tags="num"/>
      <cat-item tags="num.*"/>
    </def-cat>

    <def-cat n="num_premier"> <!-- per datas -->
      <cat-item tags="num"/>
      <cat-item tags="num.*"/>
      <cat-item lemma="1èr" tags="adj.*"/>
      <cat-item lemma="primièr" tags="adj.*"/>
      <cat-item lemma="promièr" tags="adj.*"/>
      <cat-item lemma="prumièr" tags="adj.*"/>
      <cat-item lemma="premier" tags="adj.*"/>
      <cat-item lemma="prumier" tags="adj.*"/>
    </def-cat>

    <def-cat n="una">
      <cat-item lemma="un" tags="*.f.sg"/>
      <cat-item lemma="un" tags="*.f.sp"/>
      <cat-item lemma="1" tags="num"/>
    </def-cat>

    <def-cat n="pr">
      <cat-item tags="pr"/>
    </def-cat>
    <def-cat n="apr">
      <cat-item lemma="a" tags="pr"/>
    </def-cat>
    <def-cat n="depr">
      <cat-item lemma="de" tags="pr"/>
    </def-cat>
    <def-cat n="enpr">
      <cat-item lemma="en" tags="pr"/>
    </def-cat>
    <def-cat n="en_jusqua_pr">
      <cat-item lemma="en" tags="pr"/>
      <cat-item lemma="denquia" tags="pr"/>
      <cat-item lemma="enquia" tags="pr"/>
      <cat-item lemma="dinc" tags="pr"/>
      <cat-item lemma="dinca" tags="pr"/>
      <cat-item lemma="fins a" tags="pr"/>
      <cat-item lemma="entrò" tags="pr"/>
      <cat-item lemma="entrò a" tags="pr"/>
      <cat-item lemma="dusca" tags="pr"/>
      <cat-item lemma="duscas" tags="pr"/>
      <cat-item lemma="jusca" tags="pr"/>
      <cat-item lemma="juscas" tags="pr"/>
    </def-cat>

    <def-cat n="cnjcoo">
      <cat-item tags="cnjcoo"/>
    </def-cat>

    <def-cat n="cnjsub">
      <cat-item tags="cnjsub"/>
    </def-cat>

    <def-cat n="cnjadv">
      <cat-item tags="cnjadv"/>
    </def-cat>

    <def-cat n="rel">
      <cat-item tags="rel.*"/>
    </def-cat>

    <def-cat n="que_rel">
      <cat-item lemma="que" tags="rel.*"/>
    </def-cat>
    <def-cat n="que_qui_rel">
      <cat-item lemma="que" tags="rel.*"/>
      <cat-item lemma="qui" tags="rel.*"/>
    </def-cat>

    <def-cat n="ij">
      <cat-item tags="ij"/>
    </def-cat>

    <def-cat n="cm">
      <cat-item tags="cm"/>
    </def-cat>
    <def-cat n="lpar">
      <cat-item tags="lpar"/>
    </def-cat>
    <def-cat n="rpar">
      <cat-item tags="rpar"/>
    </def-cat>
    <def-cat n="guillemet_gauche">
      <cat-item lemma="«" tags="lpar"/>
    </def-cat>
    <def-cat n="guillemet_droit">
      <cat-item lemma="»" tags="rpar"/>
    </def-cat>
    <def-cat n="sent">
      <cat-item tags="sent"/>
    </def-cat>

    <def-cat n="unknown">
      <cat-item tags=""/>
    </def-cat>

    <def-cat n="cop_n">
      <cat-item lemma="còp" tags="n.*"/>
    </def-cat>

    <def-cat n="faicon_n">
      <cat-item lemma="faiçon" tags="n.*"/>
      <cat-item lemma="façon" tags="n.*"/>
      <cat-item lemma="manièra" tags="n.*"/>
    </def-cat>

    <def-cat n="gleisa_n">
      <cat-item lemma="glèisa" tags="n.*"/>
      <cat-item lemma="catedrala" tags="n.*"/>
      <cat-item lemma="catedrau" tags="n.*"/>
<!--
      <cat-item lemma="monastèri" tags="n.*"/>
      <cat-item lemma="monastièr" tags="n.*"/>
      <cat-item lemma="mostièr" tags="n.*"/>
      <cat-item lemma="mongia" tags="n.*"/>
      <cat-item lemma="abadiá" tags="n.*"/>
      <cat-item lemma="abadia" tags="n.*"/>
      <cat-item lemma="capèla" tags="n.*"/>
      <cat-item lemma="capèra" tags="n.*"/>
      <cat-item lemma="priorat" tags="n.*"/>
      <cat-item lemma="chartrosa" tags="n.*"/>
      <cat-item lemma="parròquia" tags="n.*"/>
      <cat-item lemma="parròpia" tags="n.*"/>
-->
    </def-cat>

    <def-cat n="illa_n">
      <cat-item lemma="illa" tags="n.*"/>
      <cat-item lemma="ilha" tags="n.*"/>
      <cat-item lemma="isla" tags="n.*"/>
      <cat-item lemma="iscla" tags="n.*"/>
      <cat-item lemma="ièrla" tags="n.*"/>
    </def-cat>

    <def-cat n="dignitari_n_et_al">
      <cat-item lemma="papa" tags="n.*"/>
      <cat-item lemma="avesque" tags="n.*"/>
      <cat-item lemma="arquevesque" tags="n.*"/>
      <cat-item lemma="abat" tags="n.*"/>
      <cat-item lemma="emperador" tags="n.*"/>
      <cat-item lemma="emperaire" tags="n.*"/>
      <cat-item lemma="rei" tags="n.*"/>
      <cat-item lemma="tsar" tags="n.*"/>
      <cat-item lemma="vice-roi" tags="n.*"/>
      <cat-item lemma="prince" tags="n.*"/>
      <cat-item lemma="infant" tags="n.*"/>
      <cat-item lemma="dalfin" tags="n.*"/>
      <cat-item lemma="comte" tags="n.*"/>
      <cat-item lemma="vescomte" tags="n.*"/>
      <cat-item lemma="duc" tags="n.*"/>
      <cat-item lemma="duquessa" tags="n.*"/>
      <cat-item lemma="archiduc" tags="n.*"/>
      <cat-item lemma="archiduquessa" tags="n.*"/>
      <cat-item lemma="marqués" tags="n.*"/>
      <cat-item lemma="baron" tags="n.*"/>
      <cat-item lemma="senhor" tags="n.*"/>

      <cat-item lemma="empèri" tags="n.*"/>
      <cat-item lemma="reialme" tags="n.*"/>
      <cat-item lemma="reiaume" tags="n.*"/>
      <cat-item lemma="principautat" tags="n.*"/>
      <cat-item lemma="ducat" tags="n.*"/>
      <cat-item lemma="marquesat" tags="n.*"/>
      <cat-item lemma="comtat" tags="n.*"/>
      <cat-item lemma="baroniá" tags="n.*"/>
      <cat-item lemma="baronia" tags="n.*"/>
      <cat-item lemma="senhoriá" tags="n.*"/>
      <cat-item lemma="senhoria" tags="n.*"/>
      <cat-item lemma="abadiá" tags="n.*"/>
      <cat-item lemma="abadia" tags="n.*"/>

      <cat-item lemma="istòria" tags="n.*"/>
      <cat-item lemma="istuèra" tags="n.*"/>
      <cat-item lemma="cort" tags="n.*"/>
      <cat-item lemma="ambaissada" tags="n.*"/>
      <cat-item lemma="ambaishada" tags="n.*"/>
      <cat-item lemma="consolat" tags="n.*"/>
      <cat-item lemma="ambaissador" tags="n.*"/>
      <cat-item lemma="ambaishador" tags="n.*"/>
      <cat-item lemma="cònsol" tags="n.*"/>
    </def-cat>

    <def-cat n="radio_tv">
      <cat-item lemma="ràdio" tags="n.*"/>
      <cat-item lemma="radiò" tags="n.*"/>
      <cat-item lemma="telè" tags="n.*"/>
      <cat-item lemma="tele" tags="n.*"/>
      <cat-item lemma="television" tags="n.*"/>
      <cat-item lemma="canal" tags="n.*"/>
      <cat-item lemma="TV" tags="np.*"/>
      <cat-item lemma="region" tags="n.*"/>
      <cat-item lemma="euroregion" tags="n.*"/>
      <cat-item lemma="festival" tags="n.*"/>
      <cat-item tags="np.al.*"/>
    </def-cat>

    <def-cat n="temps_n">
      <cat-item lemma="temps" tags="n.*"/>
    </def-cat>

    <def-cat n="unitat_temps">
      <cat-item lemma="segonda" tags="n.*"/>
      <cat-item lemma="minuta" tags="n.*"/>
      <cat-item lemma="ora" tags="n.*"/>
      <cat-item lemma="jorn" tags="n.*"/>
      <cat-item lemma="dia" tags="n.*"/>
      <cat-item lemma="jornada" tags="n.*"/>
      <cat-item lemma="setmana" tags="n.*"/>
      <cat-item lemma="dimenjada" tags="n.*"/>
      <cat-item lemma="mes" tags="n.*"/>
      <cat-item lemma="an" tags="n.*"/>
      <cat-item lemma="annada" tags="n.*"/>
      <cat-item lemma="lustre" tags="n.*"/>
      <cat-item lemma="decada" tags="n.*"/>
      <cat-item lemma="sègle" tags="n.*"/>
      <cat-item lemma="segle" tags="n.*"/>
      <cat-item lemma="millenari" tags="n.*"/>
    </def-cat>

    <def-cat n="segle_millenari">
      <cat-item lemma="sègle" tags="n.*"/>
      <cat-item lemma="segle" tags="n.*"/>
      <cat-item lemma="millenari" tags="n.*"/>
    </def-cat>

    <def-cat n="nom_mes">
      <cat-item lemma="genèr" tags="n.*"/>
      <cat-item lemma="genièr" tags="n.*"/>
      <cat-item lemma="janvièr" tags="n.*"/>
      <cat-item lemma="gèr" tags="n.*"/>
      <cat-item lemma="febrièr" tags="n.*"/>
      <cat-item lemma="heurèr" tags="n.*"/>
      <cat-item lemma="hrevèr" tags="n.*"/>
      <cat-item lemma="herevèr" tags="n.*"/>
      <cat-item lemma="herbèr" tags="n.*"/>
      <cat-item lemma="hiurèr" tags="n.*"/>
      <cat-item lemma="març" tags="n.*"/>
      <cat-item lemma="abrial" tags="n.*"/>
      <cat-item lemma="abril" tags="n.*"/>
      <cat-item lemma="abriu" tags="n.*"/>
      <cat-item lemma="abrieu" tags="n.*"/>
      <cat-item lemma="mai" tags="n.*"/>
      <cat-item lemma="junh" tags="n.*"/>
      <cat-item lemma="julh" tags="n.*"/>
      <cat-item lemma="juin" tags="n.*"/>
      <cat-item lemma="gulh" tags="n.*"/>
      <cat-item lemma="julhet" tags="n.*"/>
      <cat-item lemma="gulhet" tags="n.*"/>
      <cat-item lemma="junhsèga" tags="n.*"/>
      <cat-item lemma="agost" tags="n.*"/>
      <cat-item lemma="aost" tags="n.*"/>
      <cat-item lemma="setembre" tags="n.*"/>
      <cat-item lemma="seteme" tags="n.*"/>
      <cat-item lemma="octobre" tags="n.*"/>
      <cat-item lemma="octòbre" tags="n.*"/>
      <cat-item lemma="novembre" tags="n.*"/>
      <cat-item lemma="noveme" tags="n.*"/>
      <cat-item lemma="decembre" tags="n.*"/>
      <cat-item lemma="deceme" tags="n.*"/>
    </def-cat>

    <def-cat n="unitat_temps_mes_et_al">
      <cat-item lemma="segonda" tags="n.*"/>
      <cat-item lemma="minuta" tags="n.*"/>
      <cat-item lemma="ora" tags="n.*"/>
      <cat-item lemma="jorn" tags="n.*"/>
      <cat-item lemma="dia" tags="n.*"/>
      <cat-item lemma="jornada" tags="n.*"/>
      <cat-item lemma="setmana" tags="n.*"/>
      <cat-item lemma="mes" tags="n.*"/>
      <cat-item lemma="an" tags="n.*"/>
      <cat-item lemma="annada" tags="n.*"/>
      <cat-item lemma="lustre" tags="n.*"/>
      <cat-item lemma="decada" tags="n.*"/>
      <cat-item lemma="sègle" tags="n.*"/>
      <cat-item lemma="segle" tags="n.*"/>
      <cat-item lemma="millenari" tags="n.*"/>
      <cat-item lemma="diluns" tags="n.*"/>
      <cat-item lemma="dimars" tags="n.*"/>
      <cat-item lemma="dimècres" tags="n.*"/>
      <cat-item lemma="dimèrcs" tags="n.*"/>
      <cat-item lemma="dijòus" tags="n.*"/>
      <cat-item lemma="dijaus" tags="n.*"/>
      <cat-item lemma="divendres" tags="n.*"/>
      <cat-item lemma="divés" tags="n.*"/>
      <cat-item lemma="dissabte" tags="n.*"/>
      <cat-item lemma="dimenge" tags="n.*"/>
      <cat-item lemma="genèr" tags="n.*"/>
      <cat-item lemma="genièr" tags="n.*"/>
      <cat-item lemma="janvièr" tags="n.*"/>
      <cat-item lemma="gèr" tags="n.*"/>
      <cat-item lemma="febrièr" tags="n.*"/>
      <cat-item lemma="heurèr" tags="n.*"/>
      <cat-item lemma="hrevèr" tags="n.*"/>
      <cat-item lemma="herevèr" tags="n.*"/>
      <cat-item lemma="herbèr" tags="n.*"/>
      <cat-item lemma="hiurèr" tags="n.*"/>
      <cat-item lemma="març" tags="n.*"/>
      <cat-item lemma="abrial" tags="n.*"/>
      <cat-item lemma="abril" tags="n.*"/>
      <cat-item lemma="abriu" tags="n.*"/>
      <cat-item lemma="abrieu" tags="n.*"/>
      <cat-item lemma="mai" tags="n.*"/>
      <cat-item lemma="junh" tags="n.*"/>
      <cat-item lemma="julh" tags="n.*"/>
      <cat-item lemma="juin" tags="n.*"/>
      <cat-item lemma="gulh" tags="n.*"/>
      <cat-item lemma="julhet" tags="n.*"/>
      <cat-item lemma="gulhet" tags="n.*"/>
      <cat-item lemma="junhsèga" tags="n.*"/>
      <cat-item lemma="agost" tags="n.*"/>
      <cat-item lemma="aost" tags="n.*"/>
      <cat-item lemma="setembre" tags="n.*"/>
      <cat-item lemma="seteme" tags="n.*"/>
      <cat-item lemma="octobre" tags="n.*"/>
      <cat-item lemma="octòbre" tags="n.*"/>
      <cat-item lemma="novembre" tags="n.*"/>
      <cat-item lemma="noveme" tags="n.*"/>
      <cat-item lemma="decembre" tags="n.*"/>
      <cat-item lemma="deceme" tags="n.*"/>
    </def-cat>

    <def-cat n="debuta_fin_n">
      <cat-item lemma="debuta" tags="n.*"/>
      <cat-item lemma="començar" tags="n.*"/>
      <cat-item lemma="fin" tags="n.*"/>
    </def-cat>

    <def-cat n="mitat_n">
      <cat-item lemma="mitat" tags="n.*"/>
      <cat-item lemma="mieitat" tags="n.*"/>
    </def-cat>

    <def-cat n="jorn_n">
      <cat-item lemma="diluns" tags="n.*"/>
      <cat-item lemma="dimars" tags="n.*"/>
      <cat-item lemma="dimècres" tags="n.*"/>
      <cat-item lemma="dimèrcs" tags="n.*"/>
      <cat-item lemma="dijòus" tags="n.*"/>
      <cat-item lemma="dijaus" tags="n.*"/>
      <cat-item lemma="divendres" tags="n.*"/>
      <cat-item lemma="divés" tags="n.*"/>
      <cat-item lemma="dissabte" tags="n.*"/>
      <cat-item lemma="dimenge" tags="n.*"/>
    </def-cat>

    <def-cat n="jorn_adv">
      <cat-item lemma="davant-ièr" tags="adv"/>
      <cat-item lemma="ièr delà" tags="adv"/>
      <cat-item lemma="davant-ger" tags="adv"/>
      <cat-item lemma="delà ger" tags="adv"/>
      <cat-item lemma="ièr" tags="adv"/>
      <cat-item lemma="ger" tags="adv"/>
      <cat-item lemma="uèi" tags="adv"/>
      <cat-item lemma="uei" tags="adv"/>
      <cat-item lemma="deman" tags="adv"/>
      <cat-item lemma="après-deman" tags="adv"/>
      <cat-item lemma="l'endeman" tags="adv"/>
      <cat-item lemma="l'endedia" tags="adv"/>
    </def-cat>

    <def-cat n="part_jorn">
      <cat-item lemma="matin" tags="n.*"/>
      <cat-item lemma="ser" tags="n.*"/>
    </def-cat>

    <def-cat n="nom_senher">
      <cat-item lemma="sénher" tags="n.m.*"/>
    </def-cat>

    <def-cat n="nom_ora">
      <cat-item lemma="ora" tags="n.*"/>
      <cat-item lemma="òra" tags="n.*"/>
      <cat-item lemma="orada" tags="n.*"/>
      <cat-item lemma="h" tags="n.*"/>
      <cat-item lemma="o" tags="n.*"/>
      <cat-item lemma="ò" tags="n.*"/>
    </def-cat>

    <def-cat n="nom_ora_abrev">
      <cat-item lemma="h" tags="n.*"/>
      <cat-item lemma="o" tags="n.*"/>
      <cat-item lemma="ò" tags="n.*"/>
    </def-cat>

    <def-cat n="enlà">
      <cat-item lemma="enlà" tags="adv"/>
    </def-cat>

    <def-cat n="ençà">
      <cat-item lemma="ençà" tags="adv"/>
    </def-cat>

    <def-cat n="estant">
      <cat-item lemma="èster" tags="vbser.ger"/>
      <cat-item lemma="estar" tags="vbser.ger"/>
    </def-cat>

    <def-cat n="num_romans"> <!-- per a reis, segles, mil·lenis -->
      <cat-item lemma="I" tags="num.*"/>
      <cat-item lemma="Ièr" tags="adj.*"/>
      <cat-item lemma="II" tags="num.*"/>
      <cat-item lemma="III" tags="num.*"/>
      <cat-item lemma="IV" tags="num.*"/>
      <cat-item lemma="V" tags="num.*"/>
      <cat-item lemma="VI" tags="num.*"/>
      <cat-item lemma="VII" tags="num.*"/>
      <cat-item lemma="VIII" tags="num.*"/>
      <cat-item lemma="IX" tags="num.*"/>
      <cat-item lemma="X" tags="num.*"/>
      <cat-item lemma="XI" tags="num.*"/>
      <cat-item lemma="XII" tags="num.*"/>
      <cat-item lemma="XIII" tags="num.*"/>
      <cat-item lemma="XIV" tags="num.*"/>
      <cat-item lemma="XV" tags="num.*"/>
      <cat-item lemma="XVI" tags="num.*"/>
      <cat-item lemma="XVII" tags="num.*"/>
      <cat-item lemma="XVIII" tags="num.*"/>
      <cat-item lemma="XIX" tags="num.*"/>
      <cat-item lemma="XX" tags="num.*"/>
      <cat-item lemma="XXI" tags="num.*"/>
      <cat-item lemma="XXII" tags="num.*"/>
      <cat-item lemma="XXIII" tags="num.*"/>
      <cat-item lemma="XXIV" tags="num.*"/>
      <cat-item lemma="XXV" tags="num.*"/>
      <cat-item lemma="XXVI" tags="num.*"/>
      <cat-item lemma="XXVII" tags="num.*"/>
      <cat-item lemma="XXVIII" tags="num.*"/>
      <cat-item lemma="XXIX" tags="num.*"/>
      <cat-item lemma="XXX" tags="num.*"/>
      <cat-item lemma="i" tags="num.*"/>
      <cat-item lemma="ièr" tags="adj.*"/>
      <cat-item lemma="ii" tags="num.*"/>
      <cat-item lemma="iii" tags="num.*"/>
      <cat-item lemma="iv" tags="num.*"/>
      <cat-item lemma="v" tags="num.*"/>
      <cat-item lemma="vi" tags="num.*"/>
      <cat-item lemma="vii" tags="num.*"/>
      <cat-item lemma="viii" tags="num.*"/>
      <cat-item lemma="ix" tags="num.*"/>
      <cat-item lemma="x" tags="num.*"/>
      <cat-item lemma="xi" tags="num.*"/>
      <cat-item lemma="xii" tags="num.*"/>
      <cat-item lemma="xiii" tags="num.*"/>
      <cat-item lemma="xiv" tags="num.*"/>
      <cat-item lemma="xv" tags="num.*"/>
      <cat-item lemma="xvi" tags="num.*"/>
      <cat-item lemma="xvii" tags="num.*"/>
      <cat-item lemma="xviii" tags="num.*"/>
      <cat-item lemma="xix" tags="num.*"/>
      <cat-item lemma="xx" tags="num.*"/>
      <cat-item lemma="xxi" tags="num.*"/>
      <cat-item lemma="xxii" tags="num.*"/>
      <cat-item lemma="xxiii" tags="num.*"/>
      <cat-item lemma="xxiv" tags="num.*"/>
      <cat-item lemma="xxv" tags="num.*"/>
      <cat-item lemma="xxvi" tags="num.*"/>
      <cat-item lemma="xxvii" tags="num.*"/>
      <cat-item lemma="xxviii" tags="num.*"/>
      <cat-item lemma="xxix" tags="num.*"/>
      <cat-item lemma="xxx" tags="num.*"/>
      <cat-item lemma="I" tags="adj.*"/>
      <cat-item lemma="II" tags="adj.*"/>
      <cat-item lemma="III" tags="adj.*"/>
      <cat-item lemma="IV" tags="adj.*"/>
      <cat-item lemma="V" tags="adj.*"/>
      <cat-item lemma="VI" tags="adj.*"/>
      <cat-item lemma="VII" tags="adj.*"/>
      <cat-item lemma="VIII" tags="adj.*"/>
      <cat-item lemma="IX" tags="adj.*"/>
      <cat-item lemma="X" tags="adj.*"/>
      <cat-item lemma="XI" tags="adj.*"/>
      <cat-item lemma="XII" tags="adj.*"/>
      <cat-item lemma="XIII" tags="adj.*"/>
      <cat-item lemma="XIV" tags="adj.*"/>
      <cat-item lemma="XV" tags="adj.*"/>
      <cat-item lemma="XVI" tags="adj.*"/>
      <cat-item lemma="XVII" tags="adj.*"/>
      <cat-item lemma="XVIII" tags="adj.*"/>
      <cat-item lemma="XIX" tags="adj.*"/>
      <cat-item lemma="XX" tags="adj.*"/>
      <cat-item lemma="XXI" tags="adj.*"/>
      <cat-item lemma="XXII" tags="adj.*"/>
      <cat-item lemma="XXIII" tags="adj.*"/>
      <cat-item lemma="XXIV" tags="adj.*"/>
      <cat-item lemma="XXV" tags="adj.*"/>
      <cat-item lemma="XXVI" tags="adj.*"/>
      <cat-item lemma="XXVII" tags="adj.*"/>
      <cat-item lemma="XXVIII" tags="adj.*"/>
      <cat-item lemma="XXIX" tags="adj.*"/>
      <cat-item lemma="XXX" tags="adj.*"/>
      <cat-item lemma="i" tags="adj.*"/>
      <cat-item lemma="ii" tags="adj.*"/>
      <cat-item lemma="iii" tags="adj.*"/>
      <cat-item lemma="iv" tags="adj.*"/>
      <cat-item lemma="v" tags="adj.*"/>
      <cat-item lemma="vi" tags="adj.*"/>
      <cat-item lemma="vii" tags="adj.*"/>
      <cat-item lemma="viii" tags="adj.*"/>
      <cat-item lemma="ix" tags="adj.*"/>
      <cat-item lemma="x" tags="adj.*"/>
      <cat-item lemma="xi" tags="adj.*"/>
      <cat-item lemma="xii" tags="adj.*"/>
      <cat-item lemma="xiii" tags="adj.*"/>
      <cat-item lemma="xiv" tags="adj.*"/>
      <cat-item lemma="xv" tags="adj.*"/>
      <cat-item lemma="xvi" tags="adj.*"/>
      <cat-item lemma="xvii" tags="adj.*"/>
      <cat-item lemma="xviii" tags="adj.*"/>
      <cat-item lemma="xix" tags="adj.*"/>
      <cat-item lemma="xx" tags="adj.*"/>
      <cat-item lemma="xxi" tags="adj.*"/>
      <cat-item lemma="xxii" tags="adj.*"/>
      <cat-item lemma="xxiii" tags="adj.*"/>
      <cat-item lemma="xxiv" tags="adj.*"/>
      <cat-item lemma="xxv" tags="adj.*"/>
      <cat-item lemma="xxvi" tags="adj.*"/>
      <cat-item lemma="xxvii" tags="adj.*"/>
      <cat-item lemma="xxviii" tags="adj.*"/>
      <cat-item lemma="xxix" tags="adj.*"/>
      <cat-item lemma="xxx" tags="adj.*"/>
    </def-cat>
  </section-def-cats>

  <section-def-attrs>
    <def-attr n="a_nom">
      <attr-item tags="n"/>
      <attr-item tags="n.acr"/>
      <attr-item tags="np.ant"/>
    </def-attr>

    <def-attr n="a_np">
      <attr-item tags="ant"/>
      <attr-item tags="cog"/>
      <attr-item tags="top"/>
      <attr-item tags="loc"/>
      <attr-item tags="al"/>
    </def-attr>

    <def-attr n="a_np_acr">
      <attr-item tags="ant"/>
      <attr-item tags="cog"/>
      <attr-item tags="top"/>
      <attr-item tags="loc"/>
      <attr-item tags="al"/>
      <attr-item tags="acr"/>
    </def-attr>

    <def-attr n="a_np_acr_ij">
      <attr-item tags="ant"/>
      <attr-item tags="cog"/>
      <attr-item tags="top"/>
      <attr-item tags="loc"/>
      <attr-item tags="al"/>
      <attr-item tags="acr"/>
      <attr-item tags="ij"/>
    </def-attr>

    <def-attr n="a_det">
      <attr-item tags="det.def"/>
      <attr-item tags="det.ind"/>
      <attr-item tags="det.dem"/>
      <attr-item tags="det.pos"/>
      <attr-item tags="det.itg"/>
      <attr-item tags="predet"/>
    </def-attr>

    <def-attr n="a_det2">
      <attr-item tags="def"/>
      <attr-item tags="ind"/>
      <attr-item tags="dem"/>
      <attr-item tags="pos"/>
      <attr-item tags="itg"/>
      <attr-item tags="predet"/>
    </def-attr>

    <def-attr n="a_adj">
      <attr-item tags="adj.ind"/>
      <attr-item tags="adj.sup"/>
      <attr-item tags="adj.itg"/>
      <attr-item tags="adj.pos"/>
      <attr-item tags="adj"/>
    </def-attr>

    <def-attr n="a_adjec">
      <attr-item tags="adj.ind"/>
      <attr-item tags="adj.sup"/>
      <attr-item tags="adj.itg"/>
      <attr-item tags="adj.pos"/>
      <attr-item tags="adj"/>
      <attr-item tags="vblex.pp"/>
      <attr-item tags="vblex.tv.pp"/>
      <attr-item tags="vblex.dat2nom.pp"/>
      <attr-item tags="vbhaver.pp"/>
      <attr-item tags="vbser.pp"/>
      <attr-item tags="vbmod.pp"/>
    </def-attr>

    <def-attr n="a_verb">
      <attr-item tags="vblex"/>
      <attr-item tags="vbser"/>
      <attr-item tags="vbhaver"/>
      <attr-item tags="vbmod"/>
    </def-attr>

    <def-attr n="a_verb_pron">
      <attr-item tags="vblex"/>
      <attr-item tags="vblex.pron"/>
      <attr-item tags="vblex.nopron"/>
      <attr-item tags="vbser"/>
      <attr-item tags="vbhaver"/>
      <attr-item tags="vbmod"/>
    </def-attr>

    <def-attr n="a_num">
      <attr-item tags="num"/>
    </def-attr>

    <def-attr n="nbr">
      <attr-item tags="sg"/>
      <attr-item tags="pl"/>
      <attr-item tags="sp"/>
      <attr-item tags="ND"/>
    </def-attr>

    <def-attr n="gen">
      <attr-item tags="m"/>
      <attr-item tags="mf"/>
      <attr-item tags="f"/>
      <attr-item tags="nt"/>
      <attr-item tags="GD"/>
    </def-attr>

    <def-attr n="pers">
      <attr-item tags="p1"/>
      <attr-item tags="p2"/>
      <attr-item tags="p3"/>
    </def-attr>

    <def-attr n="temps">
      <attr-item tags="inf"/>
      <attr-item tags="ger"/>
      <attr-item tags="pp"/>
      <attr-item tags="pri"/>
      <attr-item tags="ifi"/>
      <attr-item tags="pii"/>
      <attr-item tags="fti"/>
      <attr-item tags="cni"/>
      <attr-item tags="prs"/>
      <attr-item tags="pis"/>
      <attr-item tags="fts"/>
      <attr-item tags="imp"/>
    </def-attr>

    <def-attr n="tv">
      <attr-item tags="tv"/>
    </def-attr>

    <def-attr n="a_dat2nom">
      <attr-item tags="dat2nom"/>
    </def-attr>

    <def-attr n="a_non-pron">
      <attr-item tags="non-pron"/>
    </def-attr>

    <def-attr n="a_prn">
      <attr-item tags="tn"/>
      <attr-item tags="pro"/>
      <attr-item tags="enc"/>
      <attr-item tags="itg"/>
    </def-attr>

    <def-attr n="a_pron_long">
      <attr-item tags="tn"/>
      <attr-item tags="tn.ref"/>
      <attr-item tags="tn.pos"/>
      <attr-item tags="pro"/>
      <attr-item tags="pro.ref"/>
      <attr-item tags="pro.adv"/>
      <attr-item tags="enc"/>
      <attr-item tags="enc.ref"/>
      <attr-item tags="enc.adv"/>
      <attr-item tags="itg"/>
    </def-attr>

    <def-attr n="a_pas_neg">
      <attr-item tags="pas_neg"/>
    </def-attr>

    <def-attr n="a_itg">
      <attr-item tags="itg"/>
    </def-attr>

    <def-attr n="a_enon">
      <attr-item tags="enon"/>
    </def-attr>

    <def-attr n="tipoenc_pro">
      <attr-item tags="ref.p3.mf.sp"/>
      <attr-item tags="p1.mf.sg"/>
      <attr-item tags="p1.mf.pl"/>
      <attr-item tags="p2.mf.sg"/>
      <attr-item tags="p2.mf.pl"/>
      <attr-item tags="p3.mf.sg"/>
      <attr-item tags="p3.mf.pl"/>
      <attr-item tags="p3.mf.sp"/>
      <attr-item tags="p3.m.sg"/>
      <attr-item tags="p3.m.pl"/>
      <attr-item tags="p3.f.sg"/>
      <attr-item tags="p3.f.pl"/>
      <attr-item tags="p3.nt"/>
      <attr-item tags="adv"/>
    </def-attr>
  </section-def-attrs>

  <section-def-vars>
    <def-var n="lemma"/>
    <def-var n="number"/>
    <def-var n="numvist"/>
    <def-var n="varporque"/>
    <def-var n="chunkname"/>
    <def-var n="tipusverb"/>
    <def-var n="tipusdet"/>
    <def-var n="uno"/>
    <def-var n="genero" v="&lt;m&gt;"/>
    <def-var n="numero" v="&lt;sg&gt;"/>
    <def-var n="genero_sl"/>
    <def-var n="numero_sl"/>
    <def-var n="concDet"/>
    <def-var n="concAdj"/>
    <def-var n="concPrimero"/>
    <def-var n="concSegundo"/>
    <def-var n="concTercero"/>
    <def-var n="interrogativa"/>
    <def-var n="exclamativa"/>
    <def-var n="auxg"/>
    <def-var n="auxn"/>
    <def-var n="temp"/>
    <def-var n="EOS" v="true"/>
    <def-var n="caseFirstWord"/>
    <def-var n="lema_SV"/>
    <def-var n="v_detdef"/>
  </section-def-vars>

  <section-def-lists>
    <def-list n="adj_pre">
      <list-item v="novèl"/>
      <list-item v="navèth"/>
      <list-item v="bèl"/>
      <list-item v="bèth"/>
      <list-item v="gròs"/>
      <list-item v="jove"/>
      <list-item v="vièlh"/>
      <list-item v="vielh"/>
      <list-item v="petit"/>
      <list-item v="pichon"/>
      <list-item v="pichòt"/>
      <list-item v="melhor"/>
      <list-item v="mélher"/>
      <list-item v="mélhor"/>
      <list-item v="mielhor"/>
      <list-item v="miélher"/>
      <list-item v="miélhor"/>
      <list-item v="mei bon"/>
    </def-list>

    <def-list n="mois">
      <list-item v="janvier"/>
      <list-item v="février"/>
      <list-item v="mars"/>
      <list-item v="avril"/>
      <list-item v="mai"/>
      <list-item v="juin"/>
      <list-item v="juillet"/>
      <list-item v="août"/>
      <list-item v="septembre"/>
      <list-item v="octobre"/>
      <list-item v="novembre"/>
      <list-item v="décembre"/>
    </def-list>

    <def-list n="jorn">
      <list-item v="diluns"/>
      <list-item v="dimars"/>
      <list-item v="dimècres"/>
      <list-item v="dimèrcs"/>
      <list-item v="dijòus"/>
      <list-item v="dijaus"/>
      <list-item v="divendres"/>
      <list-item v="divés"/>
      <list-item v="dissabte"/>
      <list-item v="dimenge"/>
    </def-list>

    <def-list n="jour">
      <list-item v="lundi"/>
      <list-item v="mardi"/>
      <list-item v="mercredi"/>
      <list-item v="jeudi"/>
      <list-item v="vendredi"/>
      <list-item v="samedi"/>
      <list-item v="dimanche"/>
    </def-list>

    <def-list n="en_majuscules">
      <list-item v="Afro-Américain"/>
      <list-item v="Américano-Australien"/>
      <list-item v="Américano-Britannique"/>
      <list-item v="Américano-Canadien"/>
      <list-item v="Américano-Chinois"/>
      <list-item v="Américano-Cubain"/>
      <list-item v="Américano-Danois"/>
      <list-item v="Américano-Français"/>
      <list-item v="Américano-Irakien"/>
      <list-item v="Américano-Iraquien"/>
      <list-item v="Américano-Iranien"/>
      <list-item v="Américano-Irlandais"/>
      <list-item v="Américano-Israélien"/>
      <list-item v="Américano-Japonais"/>
      <list-item v="Américano-Mexicain"/>
      <list-item v="Américano-Néerlandais"/>
      <list-item v="Américano-Néo-Zélandais"/>
      <list-item v="Américano-Russe"/>
      <list-item v="Américano-Soviétique"/>
      <list-item v="Américano-Taïwanais"/>
      <list-item v="Américano-Turc"/>
      <list-item v="Américano-Ukrainien"/>
      <list-item v="Anglo-Saxon"/>
      <list-item v="ap. J.-C."/>
      <list-item v="av. J.-C."/>
      <list-item v="Cap-Verdien"/>
      <list-item v="cité-État"/>
      <list-item v="Contre-Réforme"/>
      <list-item v="chef# d'État"/>
      <list-item v="coup# d'État"/>
      <list-item v="élève# de la Calendreta"/>
      <list-item v="équipe# de France"/>
      <list-item v="État"/>
      <list-item v="États-Unien"/>
      <list-item v="Far West"/>
      <list-item v="Franco-Afghan"/>
      <list-item v="Franco-Albanais"/>
      <list-item v="Franco-Algérien"/>
      <list-item v="Franco-Allemand"/>
      <list-item v="Franco-Américain"/>
      <list-item v="Franco-Argentin"/>
      <list-item v="Franco-Autrichien"/>
      <list-item v="Franco-Belge"/>
      <list-item v="Franco-Bolivien"/>
      <list-item v="Franco-Bosniaque"/>
      <list-item v="Franco-Brésilien"/>
      <list-item v="Franco-Canadien"/>
      <list-item v="Franco-Colombien"/>
      <list-item v="Franco-Coréen"/>
      <list-item v="Franco-Cubain"/>
      <list-item v="Franco-Danois"/>
      <list-item v="Franco-Espagnol"/>
      <list-item v="Franco-Finlandais"/>
      <list-item v="Franco-Indien"/>
      <list-item v="Franco-Indonésien"/>
      <list-item v="Franco-Irakien"/>
      <list-item v="Franco-Iranien"/>
      <list-item v="Franco-Islandais"/>
      <list-item v="Franco-Italien"/>
      <list-item v="Franco-Japonais"/>
      <list-item v="Franco-Letton"/>
      <list-item v="Franco-Libanais"/>
      <list-item v="Franco-Macédonien"/>
      <list-item v="Franco-Marocain"/>
      <list-item v="Franco-Mexicain"/>
      <list-item v="Franco-Monégasque"/>
      <list-item v="Franco-Norvégien"/>
      <list-item v="Franco-Néerlandais"/>
      <list-item v="Franco-Pakistanais"/>
      <list-item v="Franco-Panaméen"/>
      <list-item v="Franco-Paraguayen"/>
      <list-item v="Franco-Polonais"/>
      <list-item v="Franco-Péruvien"/>
      <list-item v="Franco-Québécois"/>
      <list-item v="Franco-Roumain"/>
      <list-item v="Franco-Russe"/>
      <list-item v="Franco-Slovaque"/>
      <list-item v="Franco-Slovène"/>
      <list-item v="Franco-Tunisien"/>
      <list-item v="Franco-Ukrainien"/>
      <list-item v="Franco-Uruguayen"/>
      <list-item v="Franco-Vietnamien"/>
      <list-item v="Franco-Vénézuélien"/>
      <list-item v="Gallo-Romain"/>
      <list-item v="homme# de Cro-Magnon"/>
      <list-item v="homme# de Denisova"/>
      <list-item v="homme# de Néandertal"/>
      <list-item v="kHz"/>
      <list-item v="LGBT"/>
      <list-item v="LGBTI"/>
      <list-item v="LGBTQ"/>
      <list-item v="LGBTQI"/>
      <list-item v="ministère# de la Défense"/>
      <list-item v="ministre# de la Défense"/>
      <list-item v="ministère# de la Justice"/>
      <list-item v="ministre# de la Justice"/>
      <list-item v="Moyen Âge"/>
      <list-item v="Néo-Calédonien"/>
      <list-item v="Néo-Zélandais"/>
      <list-item v="New-Yorkais"/>
      <list-item v="Nord-Américain"/>
      <list-item v="Nord-Coréen"/>
      <list-item v="Nord-Irlandais"/>
      <list-item v="Nord-Vietnamien"/>
      <list-item v="Notre Seigneur"/>
      <list-item v="pH"/>
      <list-item v="pin# d'Alep"/>
      <list-item v="ex-Premier ministre"/>
      <list-item v="ex-vice-Premier ministre"/>
      <list-item v="vice-Premier ministre"/>
      <list-item v="pro-Poutine"/>
      <list-item v="pro-Trump"/>
      <list-item v="QR-code"/>
      <list-item v="RMiste"/>
      <list-item v="rugby# à VII"/>
      <list-item v="rugby# à XIII"/>
      <list-item v="rugby# à XV"/>
      <list-item v="Saint-Bernard"/>
      <list-item v="Sud-Africain"/>
      <list-item v="Sud-Américain"/>
      <list-item v="Sud-Coréen"/>
      <list-item v="Sud-Soudanais"/>
      <list-item v="Sud-Tyrolien"/>
      <list-item v="Sud-Vietnamien"/>
      <list-item v="I"/>
      <list-item v="II"/>
      <list-item v="III"/>
      <list-item v="IV"/>
      <list-item v="V"/>
      <list-item v="VI"/>
      <list-item v="VII"/>
      <list-item v="VIII"/>
      <list-item v="IX"/>
      <list-item v="X"/>
      <list-item v="XI"/>
      <list-item v="XII"/>
      <list-item v="XIII"/>
      <list-item v="XIV"/>
      <list-item v="XV"/>
      <list-item v="XVI"/>
      <list-item v="XVII"/>
      <list-item v="XVIII"/>
      <list-item v="XIX"/>
      <list-item v="XX"/>
      <list-item v="XXI"/>
      <list-item v="XXII"/>
      <list-item v="XXIII"/>
      <list-item v="XXIV"/>
      <list-item v="XXV"/>
      <list-item v="XXVI"/>
      <list-item v="XXVII"/>
      <list-item v="XXVIII"/>
      <list-item v="XXIX"/>
      <list-item v="XXX"/>
      <list-item v="Ier"/>
      <list-item v="IIe"/>
      <list-item v="IIIe"/>
      <list-item v="IVe"/>
      <list-item v="Ve"/>
      <list-item v="VIe"/>
      <list-item v="VIIe"/>
      <list-item v="VIIIe"/>
      <list-item v="IXe"/>
      <list-item v="Xe"/>
      <list-item v="XIe"/>
      <list-item v="XIIe"/>
      <list-item v="XIIIe"/>
      <list-item v="XIVe"/>
      <list-item v="XVe"/>
      <list-item v="XVIe"/>
      <list-item v="XVIIe"/>
      <list-item v="XVIIIe"/>
      <list-item v="XIXe"/>
      <list-item v="XXe"/>
      <list-item v="XXIe"/>
      <list-item v="XXIIe"/>
      <list-item v="XXIIIe"/>
      <list-item v="XXIVe"/>
      <list-item v="XXVe"/>
      <list-item v="XXVIe"/>
      <list-item v="XXVIIe"/>
      <list-item v="XXVIIIe"/>
      <list-item v="XXIXe"/>
      <list-item v="XXXe"/>
    </def-list>

    <def-list n="gentilici">
      <list-item v="portugais"/>
      <list-item v="espagnol"/>
      <list-item v="catalan"/>
      <list-item v="valencien"/>
      <list-item v="majorquin"/>
      <list-item v="majorquain"/>
      <list-item v="minorquin"/>
      <list-item v="mahonnais"/>
      <list-item v="ibizois"/>
      <list-item v="baléare"/>
      <list-item v="alguérois"/>
      <list-item v="roussillonnais"/>
      <list-item v="aragonais"/>
      <list-item v="asturien"/>
      <list-item v="léonais"/>
      <list-item v="mirandais"/>
      <list-item v="basque"/>
      <list-item v="castillan"/>
      <list-item v="andalou"/>
      <list-item v="mozarabe"/>
      <list-item v="français"/>
      <list-item v="breton"/>
      <list-item v="normand"/>
      <list-item v="champenois"/>
      <list-item v="franc-comtois"/>
      <list-item v="lorrain"/>
      <list-item v="picard"/>
      <list-item v="chti"/>
      <list-item v="ch'ti"/>
      <list-item v="alsacien"/>
      <list-item v="bourgonde"/>
      <list-item v="bourguignon"/>
      <list-item v="poitevin"/>
      <list-item v="saintongeais"/>
      <list-item v="angevin"/>
      <list-item v="gavache"/>
      <list-item v="occitan"/>
      <list-item v="aranais"/>
      <list-item v="corse"/>
      <list-item v="auvergnat"/>
      <list-item v="limousin"/>
      <list-item v="agenais"/>
      <list-item v="gascon"/>
      <list-item v="béarnais"/>
      <list-item v="bigourdan"/>
      <list-item v="languedocien"/>
      <list-item v="quercynois"/>
      <list-item v="provençal"/>
      <list-item v="camarguais"/>
      <list-item v="niçois"/>
      <list-item v="niçard"/>
      <list-item v="nissard"/>
      <list-item v="nissart"/>
      <list-item v="savoyard"/>
      <list-item v="luxembourgeois"/>
      <list-item v="anglais"/>
      <list-item v="écossais"/>
      <list-item v="gallois"/>
      <list-item v="mannois"/>
      <list-item v="cornique"/>
      <list-item v="irlandais"/>
      <list-item v="wallon"/>
      <list-item v="flamand"/>
      <list-item v="hollandais"/>
      <list-item v="néerlandais"/>
      <list-item v="brabançon"/>
      <list-item v="limbourgeois"/>
      <list-item v="frison"/>
      <list-item v="allemand"/>
      <list-item v="bavarois"/>
      <list-item v="zurichois"/>
      <list-item v="souabe"/>
      <list-item v="burgonde"/>
      <list-item v="danois"/>
      <list-item v="islandais"/>
      <list-item v="norvégien"/>
      <list-item v="suédois"/>
      <list-item v="finlandais"/>
      <list-item v="finnois"/>
      <list-item v="sami"/>
      <list-item v="carélien"/>
      <list-item v="russe"/>
      <list-item v="slave"/>
      <list-item v="sibérien"/>
      <list-item v="tchétchène"/>
      <list-item v="ingouche"/>
      <list-item v="karatchaï"/>
      <list-item v="balkar"/>
      <list-item v="kabarde"/>
      <list-item v="circassien"/>
      <list-item v="tcherkesse"/>
      <list-item v="gagaouze"/>
      <list-item v="tchaghataï"/>
      <list-item v="khazar"/>
      <list-item v="ossète"/>
      <list-item v="tchouvache"/>
      <list-item v="tatar"/>
      <list-item v="tatare"/>
      <list-item v="tartare"/>
      <list-item v="bachkir"/>
      <list-item v="komi"/>
      <list-item v="oudmourte"/>
      <list-item v="mordve"/>
      <list-item v="khanty"/>
      <list-item v="mansi"/>
      <list-item v="kalmouk"/>
      <list-item v="yakoute"/>
      <list-item v="iakoute"/>
      <list-item v="tchouktche"/>
      <list-item v="itelmène"/>
      <list-item v="kamtchadale"/>
      <list-item v="aléoute"/>
      <list-item v="aléoutien"/>
      <list-item v="khakasse"/>
      <list-item v="touvinien"/>
      <list-item v="altaïen"/>
      <list-item v="nogaï"/>
      <list-item v="estonien"/>
      <list-item v="letton"/>
      <list-item v="lituanien"/>
      <list-item v="lithuanien"/>
      <list-item v="balte"/>
      <list-item v="polonais"/>
      <list-item v="juif"/>
      <list-item v="sorabe"/>
      <list-item v="cachoube"/>
      <list-item v="tchèque"/>
      <list-item v="slovaque"/>
      <list-item v="hongrois"/>
      <list-item v="vaudois"/>
      <list-item v="italien"/>
      <list-item v="sarde"/>
      <list-item v="piémontais"/>
      <list-item v="lombard"/>
      <list-item v="émilien"/>
      <list-item v="romagnol"/>
      <list-item v="ligurien"/>
      <list-item v="ligure"/>
      <list-item v="génois"/>
      <list-item v="sicilien"/>
      <list-item v="napolitain"/>
      <list-item v="calabrais"/>
      <list-item v="toscan"/>
      <list-item v="florentin"/>
      <list-item v="vénitien"/>
      <list-item v="istriote"/>
      <list-item v="frioulan"/>
      <list-item v="maltais"/>
      <list-item v="slovène"/>
      <list-item v="dalmate"/>
      <list-item v="croate"/>
      <list-item v="serbe"/>
      <list-item v="bosnien"/>
      <list-item v="bosniaque"/>
      <list-item v="monténégrin"/>
      <list-item v="macédonien"/>
      <list-item v="roumain"/>
      <list-item v="moldave"/>
      <list-item v="bulgare"/>
      <list-item v="albanais"/>
      <list-item v="rom"/>
      <list-item v="romani"/>
      <list-item v="grec"/>
      <list-item v="achéen"/>
      <list-item v="minoen"/>
      <list-item v="mycénien"/>
      <list-item v="béotien"/>
      <list-item v="étolien"/>
      <list-item v="phocidien"/>
      <list-item v="thessalien"/>
      <list-item v="ukrainien"/>
      <list-item v="ruthène"/>
      <list-item v="biélorusse"/>
      <list-item v="moldave"/>
      <list-item v="turc"/>
      <list-item v="ottoman"/>
      <list-item v="scythe"/>
      <list-item v="sarmate"/>
      <list-item v="kouchan"/>
      <list-item v="avar"/>
      <list-item v="petchénègue"/>
      <list-item v="couman"/>
      <list-item v="kiptchak"/>
      <list-item v="polovtse"/>
      <list-item v="kurde"/>
      <list-item v="arménien"/>
      <list-item v="géorgien"/>
      <list-item v="mingrélien"/>
      <list-item v="laze"/>
      <list-item v="abaza"/>
      <list-item v="abkhaze"/>
      <list-item v="oubykh"/>
      <list-item v="azerbaïdjanais"/>
      <list-item v="kazakh"/>
      <list-item v="karakalpak"/>
      <list-item v="turkmène"/>
      <list-item v="turcoman"/>
      <list-item v="ouzbek"/>
      <list-item v="kirghiz"/>
      <list-item v="tadjik"/>
      <list-item v="mongol"/>
      <list-item v="moghol"/>
      <list-item v="mogol"/>
      <list-item v="bouriate"/>
      <list-item v="mandchou"/>
      <list-item v="toungouse"/>
      <list-item v="évenk"/>
      <list-item v="ouïghour"/>
<!--      <list-item v="samoyède"/> -->
      <list-item v="cachemiri"/>
      <list-item v="cachemirien"/>
      <list-item v="baloutche"/>
      <list-item v="sindi"/>
      <list-item v="sindhi"/>
      <list-item v="pendjabi"/>
      <list-item v="panjabi"/>
      <list-item v="punjabi"/>
      <list-item v="arabe"/>
      <list-item v="sarrasin"/>
      <list-item v="hébreu"/>
      <list-item v="cananéen"/>
      <list-item v="nabatéen"/>
      <list-item v="amazigh"/>
      <list-item v="amazighe"/>
      <list-item v="berbère"/>
      <list-item v="kabyle"/>
      <list-item v="touareg"/>
      <list-item v="copte"/>
      <list-item v="nubien"/>
      <list-item v="afrikaans"/>
      <list-item v="réunionnais"/>
      <list-item v="bhojpuri"/>
      <list-item v="bengali"/>
      <list-item v="bengalais"/>
      <list-item v="marathe"/>
      <list-item v="gujarati"/>
      <list-item v="tamoul"/>
      <list-item v="tamil"/>
      <list-item v="télougou"/>
      <list-item v="cingalais"/>
      <list-item v="népalais"/>
      <list-item v="tibétain"/>
      <list-item v="chinois"/>
      <list-item v="cantonais"/>
      <list-item v="japonais"/>
      <list-item v="aïnou"/>
      <list-item v="coréen"/>
      <list-item v="vietnamien"/>
      <list-item v="thaïlandais"/>
      <list-item v="birman"/>
      <list-item v="laotien"/>
      <list-item v="cambodgien"/>
      <list-item v="khmer"/>
      <list-item v="karen"/>
      <list-item v="karène"/>
      <list-item v="malais"/>
      <list-item v="tagal"/>
      <list-item v="indonésien"/>
      <list-item v="javanais"/>
      <list-item v="balinais"/>
      <list-item v="taïwanais"/>
      <list-item v="hawaïen"/>
      <list-item v="tahitien"/>
      <list-item v="samoan"/>
      <list-item v="tongan"/>
      <list-item v="nauruan"/>
      <list-item v="maori"/>
      <list-item v="éthiopien"/>
      <list-item v="afar"/>
      <list-item v="amhara"/>
      <list-item v="sidama"/>
      <list-item v="oromo"/>
      <list-item v="somalien"/>
      <list-item v="somali"/>
      <list-item v="massaï"/>
      <list-item v="masaï"/>
      <list-item v="maasaï"/>
      <list-item v="malgache"/>
      <list-item v="wolof"/>
      <list-item v="peul"/>
      <list-item v="bambara"/>
      <list-item v="mandingue"/>
      <list-item v="songhaï"/>
      <list-item v="haoussa"/>
      <list-item v="yoruba"/>
      <list-item v="igbo"/>
      <list-item v="bantou"/>
      <list-item v="swahili"/>
      <list-item v="zoulou"/>
      <list-item v="kikuyu"/>
      <list-item v="kimbundu"/>
      <list-item v="tswana"/>
      <list-item v="swazi"/>
      <list-item v="hottentot"/>
      <list-item v="bochiman"/>
      <list-item v="apache"/>
      <list-item v="algonquien"/>
      <list-item v="algonquin"/>
      <list-item v="athabaskan"/>
      <list-item v="athapaskan"/>
      <list-item v="déné"/>
      <list-item v="chinook"/>
      <list-item v="cherokee"/>
      <list-item v="chéroki"/>
      <list-item v="tchéroki"/>
      <list-item v="mohawk"/>
      <list-item v="huron"/>
      <list-item v="iroquois"/>
      <list-item v="comanche"/>
      <list-item v="navajo"/>
      <list-item v="creek"/>
      <list-item v="kiowa"/>
      <list-item v="esquimau"/>
      <list-item v="mapuche"/>
      <list-item v="gaulois"/>
      <list-item v="ibère"/>
      <list-item v="celtibère"/>
      <list-item v="étrusque"/>
      <list-item v="latin"/>
      <list-item v="sabin"/>
      <list-item v="ombrien"/>
      <list-item v="osque"/>
      <list-item v="thrace"/>
      <list-item v="dace"/>
      <list-item v="illyrien"/>
      <list-item v="troyen"/>
      <list-item v="lydien"/>
      <list-item v="lycien"/>
      <list-item v="phrygien"/>
      <list-item v="ionien"/>
      <list-item v="dorien"/>
      <list-item v="locrien"/>
      <list-item v="crétois"/>
      <list-item v="sogdien"/>
      <list-item v="bactrien"/>
      <list-item v="élamite"/>
      <list-item v="proto-élamite"/>
      <list-item v="perse"/>
      <list-item v="persan"/>
      <list-item v="sumérien"/>
      <list-item v="akkadien"/>
      <list-item v="accadien"/>
      <list-item v="hittite"/>
      <list-item v="hourrite"/>
      <list-item v="hurrite"/>
      <list-item v="araméen"/>
      <list-item v="chaldéen"/>
      <list-item v="yézidi"/>
      <list-item v="guarani"/>
      <list-item v="aymara"/>
      <list-item v="quechua"/>
      <list-item v="quichua"/>
    </def-list>

    <def-list n="pays">	<!-- toponymes de pays et régions avec déterminant en français et sans lui en occitan -->
      <list-item v="Europe"/>
      <list-item v="Asie"/>
      <list-item v="Afrique"/>
      <list-item v="Afrique du Sud"/>
      <list-item v="Amérique"/>
      <list-item v="Amérique Centrale"/>
      <list-item v="Amérique du Nord"/>
      <list-item v="Amérique du Sud"/>
      <list-item v="Amazonie"/>
      <list-item v="Océanie"/>
      <list-item v="Eurasie"/>
      <list-item v="Pangée"/>
      <list-item v="Gondwana"/>
      <list-item v="Laurasie"/>
      <list-item v="Laurasia"/>
      <list-item v="Australie"/>
      <list-item v="Australie-Méridionale"/>
      <list-item v="Tasmanie"/>
      <list-item v="Nouvelle-Galles du Sud"/>
      <list-item v="Queensland"/>
      <list-item v="Victoria"/>
      <list-item v="Nouvelle-Zélande"/>
      <list-item v="Timor"/>
      <list-item v="Timor oriental"/>
      <list-item v="Tuvalu"/>
      <list-item v="Vanuatu"/>
      <list-item v="Tonga"/>
      <list-item v="Kiribati"/>
      <list-item v="Papouasie"/>
      <list-item v="Papouasie-Nouvelle-Guinée"/>
      <list-item v="Nouvelle-Calédonie"/>
      <list-item v="Portugal"/>
      <list-item v="Espagne"/>
      <list-item v="Catalogne"/>
      <list-item v="Pays Basque"/>
      <list-item v="Navarre"/>
      <list-item v="Biscaye"/>
      <list-item v="Guipuscoa"/>
      <list-item v="Labourd"/>
      <list-item v="Soule"/>
      <list-item v="Castille"/>
      <list-item v="Andalousie"/>
      <list-item v="Estrémadure"/>
      <list-item v="Aragon"/>
      <list-item v="Asturies"/>
      <list-item v="Galice"/>
      <list-item v="Andorre"/>
      <list-item v="France"/>
      <list-item v="Beauce"/>
      <list-item v="Champagne"/>
      <list-item v="Bretagne"/>
      <list-item v="Finistère"/>
      <list-item v="Normandie"/>
      <list-item v="Vendée"/>
      <list-item v="Beaujolais"/>
      <list-item v="Charente"/>
      <list-item v="Forez"/>
      <list-item v="Roussillon"/>
      <list-item v="Languedoc"/>
      <list-item v="Languedoc-Roussillon"/>
      <list-item v="Hautes-Pyrénées"/>
      <list-item v="Hautes-Alpes"/>
      <list-item v="Pyrénées-Atlantiques"/>
      <list-item v="Pyrénées-Orientales"/>
      <list-item v="Alpes-de-Haute-Provence"/>
      <list-item v="Alpes-Maritimes"/>
      <list-item v="Haute-Alsace"/>
      <list-item v="Haute-Corse"/>
      <list-item v="Haute-Garonne"/>
      <list-item v="Haute-Loire"/>
      <list-item v="Haute-Marne"/>
      <list-item v="Haute-Normandie"/>
      <list-item v="Haute-Saône"/>
      <list-item v="Haute-Savoie"/>
      <list-item v="Haute-Vienne"/>
      <list-item v="Haute-Autriche"/>
      <list-item v="Haute-Égypte"/>
      <list-item v="Haut-Karabagh"/>
      <list-item v="Haut-Palatinat"/>
      <list-item v="Haut-Rhin"/>
      <list-item v="Hauts-de-France"/>
      <list-item v="Hauts-de-Seine"/>
      <list-item v="Cerdagne"/>
      <list-item v="Fenouillèdes"/>
      <list-item v="Ardèche"/>
      <list-item v="Aude"/>
      <list-item v="Agenais"/>
      <list-item v="Albigeois"/>
      <list-item v="Aveyron"/>
      <list-item v="Biterrois"/>
      <list-item v="Cabardès"/>
      <list-item v="Carcassès"/>
      <list-item v="Lauragais"/>
      <list-item v="Minervois"/>
      <list-item v="Razès"/>
      <list-item v="Rouergue"/>
      <list-item v="Tarn"/>
      <list-item v="Occitanie"/>
      <list-item v="Gascogne"/>
      <list-item v="Guyenne"/>
      <list-item v="Gironde"/>
      <list-item v="Landes"/>
<!--
      <list-item v="Grande-Lande"/>
      <list-item v="Haute-Lande"/>
-->
      <list-item v="Albret"/>
      <list-item v="Labrit"/>
      <list-item v="Béarn"/>
      <list-item v="Palois"/>
      <list-item v="Armagnac"/>
      <list-item v="Bigorre"/>
      <list-item v="Comminges"/>
      <list-item v="pays de Comminges"/>
      <list-item v="Combraille"/>
      <list-item v="Combrailles"/>
      <list-item v="Lavedan"/>
      <list-item v="Agarnaguès"/>
      <list-item v="Artense"/>
      <list-item v="Astarac"/>
      <list-item v="Aubrac"/>
      <list-item v="Barousse"/>
      <list-item v="Bouriane"/>
      <list-item v="Pays Bourian"/>
      <list-item v="Pays de Born"/>
      <list-item v="Bergeracois"/>
      <list-item v="Briançonnais"/>
      <list-item v="Brignolais"/>
      <list-item v="Brivadois"/>
      <list-item v="Brulhois"/>
      <list-item v="Pays de Buch"/>
      <list-item v="Camargue"/>
      <list-item v="Carcassés"/>
      <list-item v="Carladés"/>
      <list-item v="Castrais"/>
      <list-item v="Chalosse"/>
      <list-item v="Embrunais"/>
      <list-item v="Gabardan"/>
      <list-item v="Lacaunais"/>
      <list-item v="Luchonnais"/>
      <list-item v="Maremne"/>
      <list-item v="Marencin"/>
      <list-item v="Marensin"/>
      <list-item v="Nébouzan"/>
      <list-item v="Sauvestre"/>
      <list-item v="Seignanx"/>
      <list-item v="Seuvestre"/>
      <list-item v="Tursan"/>
      <list-item v="Val Cluson"/>
      <list-item v="Val de Suse"/>
      <list-item v="Val Germasca"/>
      <list-item v="Val Gesso"/>
      <list-item v="Val Grana"/>
      <list-item v="Val Maira"/>
      <list-item v="Val Pellice"/>
      <list-item v="Val Pesio"/>
      <list-item v="Val Pô"/>
      <list-item v="Val Varaita"/>
      <list-item v="Val Vermenagna"/>
      <list-item v="Val Tanaro"/>
      <list-item v="Vallée de la Stura"/>
      <list-item v="Vallée de la Stura di Demonte"/>
      <list-item v="Vazadais"/>
      <list-item v="Velay"/>
      <list-item v="Vercors"/>
      <list-item v="Volvèstre"/>
      <list-item v="Aran"/>
      <list-item v="Aquitaine"/>
      <list-item v="Nouvelle-Aquitaine"/>
      <list-item v="Lot-et-Garonne"/>
      <list-item v="Quercy"/>
      <list-item v="Ariège"/>
      <list-item v="Gers"/>
      <list-item v="Hérault"/>
      <list-item v="Couserans"/>
      <list-item v="Haute Garone"/>
      <list-item v="Périgord"/>
      <list-item v="Larzac"/>
      <list-item v="Auvergne"/>
      <list-item v="Limousin"/>
      <list-item v="Provence"/>
      <list-item v="Vaucluse"/>
      <list-item v="Tricastin"/>
      <list-item v="Isère"/>
      <list-item v="Lozère"/>
      <list-item v="Gévaudan"/>
      <list-item v="Savoie"/>
      <list-item v="Drôme"/>
      <list-item v="Allier"/>
      <list-item v="Ardèche"/>
      <list-item v="Vivarais"/>
      <list-item v="Var"/>
      <list-item v="Saintonge"/>
      <list-item v="Angoumois"/>
      <list-item v="Gavacherie"/>
      <list-item v="Poitou"/>
      <list-item v="Charante"/>
      <list-item v="Charante-Maritime"/>
      <list-item v="Berry"/>
      <list-item v="Touraine"/>
      <list-item v="Angoumois"/>
      <list-item v="Anjou"/>
      <list-item v="Artois"/>
      <list-item v="Aunis"/>
      <list-item v="Bourbonnais"/>
      <list-item v="Bourgogne"/>
      <list-item v="Bresse"/>
      <list-item v="Morvan"/>
      <list-item v="Dauphiné"/>
      <list-item v="Franche-Comté"/>
      <list-item v="Lyonnais"/>
      <list-item v="Marche"/>
      <list-item v="Nivernais"/>
      <list-item v="Orléanais"/>
      <list-item v="Aisne"/>
      <list-item v="Picardie"/>
      <list-item v="Lorraine"/>
      <list-item v="Alsace"/>
      <list-item v="Corse"/>
      <list-item v="Grande-Bretagne"/>
      <list-item v="Angleterre"/>
      <list-item v="Yorkshire"/>
      <list-item v="Lancashire"/>
      <list-item v="Lincolnshire"/>
      <list-item v="Essex"/>
      <list-item v="Middlesex"/>
      <list-item v="Wessex"/>
      <list-item v="Sussex"/>
      <list-item v="Suffolk"/>
      <list-item v="Devon"/>
      <list-item v="Hampshire"/>
      <list-item v="Cornouaille"/>
      <list-item v="Cornouailles"/>
      <list-item v="Pays de Galles"/>
      <list-item v="Écosse"/>
      <list-item v="Irlande"/>
      <list-item v="Benelux"/>
      <list-item v="Belgique"/>
      <list-item v="Wallonie"/>
      <list-item v="Flandre"/>
      <list-item v="Luxembourg"/>
      <list-item v="Hollande"/>
      <list-item v="Brabant"/>
      <list-item v="Frise"/>
      <list-item v="Allemagne"/>
      <list-item v="Germanie"/>
      <list-item v="Ruhr"/>
      <list-item v="Bade"/>
      <list-item v="pays de Bade"/>
      <list-item v="Baden-Württemberg"/>
      <list-item v="Bavière"/>
      <list-item v="Brandenbourg"/>
      <list-item v="Mecklembourg"/>
      <list-item v="Mecklembourg-Poméranie-Occidentale"/>
      <list-item v="Poméranie"/>
      <list-item v="Poméranie-Occidentale"/>
      <list-item v="Rhénanie"/>
      <list-item v="Rhénanie-du-Nord"/>
      <list-item v="Rhénanie-du-Nord-Westphalie"/>
      <list-item v="Rhénanie-Palatinat"/>
      <list-item v="Saxe"/>
      <list-item v="Saxe-Anhalt"/>
      <list-item v="Basse-Saxe"/>
      <list-item v="Franconie"/>
      <list-item v="Basse-Franconie"/>
      <list-item v="Haute-Franconie"/>
      <list-item v="Moyenne-Franconie"/>
      <list-item v="Souabe"/>
      <list-item v="Thuringe"/>
      <list-item v="Schleswig-Holstein"/>
      <list-item v="Schleswig"/>
      <list-item v="Holstein"/>
      <list-item v="Sorabie"/>
      <list-item v="Lusace"/>
      <list-item v="Haute-Lusace"/>
      <list-item v="Basse-Lusace"/>
      <list-item v="Prusse"/>
      <list-item v="Prusse-Orientale"/>
      <list-item v="Danemark"/>
      <list-item v="Jutland"/>
      <list-item v="Islande"/>
      <list-item v="Norvège"/>
      <list-item v="Suède"/>
      <list-item v="Finlande"/>
      <list-item v="Laponie"/>
      <list-item v="Prussie"/>
      <list-item v="Russie"/>
      <list-item v="Carélie"/>
      <list-item v="Tchétchénie"/>
      <list-item v="Ingouchie"/>
      <list-item v="Kabardino-Balkarie"/>
      <list-item v="Karatchaïévo-Tcherkessie"/>
      <list-item v="Adyguée"/>
      <list-item v="Ossétie"/>
      <list-item v="Ossétie du Nord"/>
      <list-item v="Ossétie du Nord-Alanie"/>
      <list-item v="Ossétie du Sud"/>
      <list-item v="Alanie"/>
      <list-item v="Tchouvachie"/>
      <list-item v="Tatarstan"/>
      <list-item v="Tatarie"/>
      <list-item v="Tartarie"/>
      <list-item v="Bachkortostan"/>
      <list-item v="Oudmourtie"/>
      <list-item v="Mordovie"/>
      <list-item v="Kalmoukie"/>
      <list-item v="Touva"/>
      <list-item v="Bouriatie"/>
      <list-item v="Iakoutie"/>
      <list-item v="Yakoutie"/>
      <list-item v="Kamtchatka"/>
      <list-item v="Kouban"/>
      <list-item v="Koubane"/>
      <list-item v="Estonie"/>
      <list-item v="Lettonie"/>
      <list-item v="Lituanie"/>
      <list-item v="Livonie"/>
      <list-item v="Pologne"/>
      <list-item v="Silésie"/>
      <list-item v="Mazovie"/>
      <list-item v="Mazurie"/>
      <list-item v="Podlachie"/>
      <list-item v="Podlésie"/>
      <list-item v="Volhynie"/>
      <list-item v="Volynie"/>
      <list-item v="Zaporojie"/>
      <list-item v="Zaporoguie"/>
      <list-item v="Tchécoslovaquie"/>
      <list-item v="Tchéquie"/>
      <list-item v="Bohême"/>
      <list-item v="Moravie"/>
      <list-item v="Slovaquie"/>
      <list-item v="Hongrie"/>
      <list-item v="Autriche"/>
      <list-item v="Autriche-Hongrie"/>
      <list-item v="Suisse"/>
      <list-item v="Valais"/>
      <list-item v="Tessin"/>
      <list-item v="Italie"/>
      <list-item v="Ligurie"/>
      <list-item v="Piémont"/>
      <list-item v="Lombardie"/>
      <list-item v="Émilie-Romagne"/>
      <list-item v="Émilie"/>
      <list-item v="Romagne"/>
      <list-item v="Toscane"/>
      <list-item v="Campanie"/>
      <list-item v="Calabre"/>
      <list-item v="Sardaigne"/>
      <list-item v="Sicile"/>
      <list-item v="Slovénie"/>
      <list-item v="Croatie"/>
      <list-item v="Serbie"/>
      <list-item v="Bosnie"/>
      <list-item v="Bosnie-Herzégovine"/>
      <list-item v="Herzégovine"/>
      <list-item v="Monténégro"/>
      <list-item v="Macédoine"/>
      <list-item v="Kosovo"/>
      <list-item v="Albanie"/>
      <list-item v="Roumanie"/>
      <list-item v="Valachie"/>
      <list-item v="Transylvanie"/>
      <list-item v="Moldavie"/>
      <list-item v="Bulgarie"/>
      <list-item v="Illyrie"/>
      <list-item v="Thrace"/>
      <list-item v="Dacie"/>
      <list-item v="Mésie"/>
      <list-item v="Moésie"/>
      <list-item v="Dobroudja"/>
      <list-item v="Dobrogée"/>
      <list-item v="Dalmatie"/>
      <list-item v="Istrie"/>
      <list-item v="Grèce"/>
      <list-item v="Péloponnèse"/>
      <list-item v="Morée"/>
      <list-item v="Thessalie"/>
      <list-item v="Étolie"/>
      <list-item v="Épire"/>
      <list-item v="Béotie"/>
      <list-item v="Arcadie"/>
      <list-item v="Laconie"/>
      <list-item v="Messénie"/>
      <list-item v="Argolide"/>
      <list-item v="Achaïe"/>
      <list-item v="Attique"/>
      <list-item v="Élide"/>
      <list-item v="Ukraine"/>
      <list-item v="Crimée"/>
      <list-item v="Galicie"/>
      <list-item v="Podolie"/>
      <list-item v="Biélorussie"/>
      <list-item v="Transdnistrie"/>
      <list-item v="Turquie"/>
      <list-item v="Cappadoce"/>
      <list-item v="Cilicie"/>
      <list-item v="Bythinie"/>
      <list-item v="Mysie"/>
      <list-item v="Paphlagonie"/>
      <list-item v="Pamphylie"/>
      <list-item v="Pisidie"/>
      <list-item v="Galatie"/>
      <list-item v="Lydie"/>
      <list-item v="Lycie"/>
      <list-item v="Carie"/>
      <list-item v="Lycaonie"/>
      <list-item v="Éolide"/>
      <list-item v="Éolie"/>
      <list-item v="Syrie"/>
      <list-item v="Kurdistan"/>
      <list-item v="Rojava"/>
      <list-item v="Ciscaucasie"/>
      <list-item v="Transcaucasie"/>
      <list-item v="Arménie"/>
      <list-item v="Géorgie"/>
      <list-item v="Abkhazie"/>
      <list-item v="Colchide"/>
      <list-item v="Ibérie"/>
      <list-item v="Azerbaïdjan"/>
      <list-item v="Kazakhstan"/>
      <list-item v="Karakalpakistan"/>
      <list-item v="Turkménistan"/>
      <list-item v="Ouzbékistan"/>
      <list-item v="Kirghizistan"/>
      <list-item v="Kirghizie"/>
      <list-item v="Tadjikistan"/>
      <list-item v="Iran"/>
      <list-item v="Iraq"/>
      <list-item v="Irak"/>
      <list-item v="Mésopotamie"/>
      <list-item v="Perse"/>
      <list-item v="Assyrie"/>
      <list-item v="Élam"/>
      <list-item v="Arabie"/>
      <list-item v="Arabie saoudite"/>
      <list-item v="Jordanie"/>
      <list-item v="Syrie"/>
      <list-item v="Liban"/>
      <list-item v="Yémen"/>
      <list-item v="Koweït"/>
      <list-item v="Qatar"/>
      <list-item v="Émirats arabes unis"/>
      <list-item v="Afghanistan"/>
      <list-item v="Panchir"/>
      <list-item v="Pakistan"/>
      <list-item v="Baloutchistan"/>
      <list-item v="Sind"/>
      <list-item v="Gandhara"/>
      <list-item v="Inde"/>
      <list-item v="Gujarat"/>
      <list-item v="Maharashtra"/>
      <list-item v="Bengale"/>
      <list-item v="Népal"/>
      <list-item v="Boutan"/>
      <list-item v="Tibet"/>
      <list-item v="Chine"/>
      <list-item v="Mongolie"/>
      <list-item v="Mandchourie"/>
      <list-item v="Hubei"/>
      <list-item v="Xinjiang"/>
      <list-item v="Wuhan"/>
      <list-item v="Corée"/>
      <list-item v="Corée du Nord"/>
      <list-item v="Corée du Sud"/>
      <list-item v="Japon"/>
      <list-item v="Viêtnam"/>
      <list-item v="Tonkin"/>
      <list-item v="Annam"/>
      <list-item v="Cochinchine"/>
      <list-item v="Cambodge"/>
      <list-item v="Birmanie"/>
      <list-item v="État Karen"/>
      <list-item v="Myanmar"/>
      <list-item v="Laos"/>
      <list-item v="Taïlande"/>
      <list-item v="Indonésie"/>
      <list-item v="Malaisie"/>
      <list-item v="Sarawak"/>
      <list-item v="Bornéo"/>
      <list-item v="Bangladesh"/>
      <list-item v="Sri-Lanka"/>
      <list-item v="Sri Lanka"/>
      <list-item v="Maroc"/>
      <list-item v="Numidie"/>
      <list-item v="Canaries"/>
      <list-item v="Mauritanie"/>
      <list-item v="Algérie"/>
      <list-item v="Tunisie"/>
      <list-item v="Libye"/>
      <list-item v="Égypte"/>
      <list-item v="Nubie"/>
      <list-item v="Burkina"/>
      <list-item v="Burkina Faso"/>
      <list-item v="Mali"/>
      <list-item v="Songhaï"/>
      <list-item v="Niger"/>
      <list-item v="Nigéria"/>
      <list-item v="Biafra"/>
      <list-item v="Tchad"/>
      <list-item v="Sénégal"/>
      <list-item v="Gambie"/>
      <list-item v="Sénégambie"/>
      <list-item v="Sierra Leone"/>
      <list-item v="Côte d'Ivoire"/>
      <list-item v="Ghana"/>
      <list-item v="Liberia"/>
      <list-item v="Togo"/>
      <list-item v="Guinée"/>
      <list-item v="Guinée-Bissau"/>
      <list-item v="Guinée équatoriale"/>
      <list-item v="Bénin"/>
      <list-item v="Cameroun"/>
      <list-item v="Gabon"/>
      <list-item v="Éthiopie"/>
      <list-item v="Abyssinie"/>
      <list-item v="Tigré"/>
      <list-item v="Amhara"/>
      <list-item v="Sidama"/>
      <list-item v="Érythrée"/>
      <list-item v="Somalie"/>
      <list-item v="Somaliland"/>
      <list-item v="Zaïre"/>
      <list-item v="Kivu"/>
      <list-item v="Katanga"/>
      <list-item v="Rwanda"/>
      <list-item v="Burundi"/>
      <list-item v="Ouganda"/>
      <list-item v="Kenya"/>
      <list-item v="Tanzanie"/>
      <list-item v="Serengeti"/>
      <list-item v="Tanganyika"/>
      <list-item v="Malawi"/>
      <list-item v="Lesotho"/>
      <list-item v="Transvaal"/>
      <list-item v="Botswana"/>
      <list-item v="Zimbabwe"/>
      <list-item v="Rhodésie"/>
      <list-item v="Namibie"/>
      <list-item v="Zambie"/>
      <list-item v="Swaziland"/>
      <list-item v="Eswatini"/>
      <list-item v="Angola"/>
      <list-item v="Mozambique"/>
      <list-item v="Groenland"/>
      <list-item v="Canada"/>
      <list-item v="Manitoba"/>
      <list-item v="Yukon"/>
      <list-item v="Ontario"/>
      <list-item v="Québec"/>
      <list-item v="Nouveau-Brunswick"/>
      <list-item v="Saskatchewan"/>
      <list-item v="États-Unis"/>
      <list-item v="Nouvelle-Orléans"/>
      <list-item v="Alabama"/>
      <list-item v="Alaska"/>
      <list-item v="Arkansas"/>
      <list-item v="Arizona"/>
      <list-item v="Californie"/>
      <list-item v="Basse-Californie"/>
      <list-item v="Caroline du Nord"/>
      <list-item v="Caroline du Sud"/>
      <list-item v="Connecticut"/>
      <list-item v="Dakota"/>
      <list-item v="Dakota du Nord"/>
      <list-item v="Dakota du Sud"/>
      <list-item v="Delaware"/>
      <list-item v="Floride"/>
      <list-item v="Idaho"/>
      <list-item v="Illinois"/>
      <list-item v="Iowa"/>
      <list-item v="Kansas"/>
      <list-item v="Kentucky"/>
      <list-item v="Louisiane"/>
      <list-item v="Maine"/>
      <list-item v="Maryland"/>
      <list-item v="Massachusetts"/>
      <list-item v="Michigan"/>
      <list-item v="Minnesota"/>
      <list-item v="Mississippi"/>
      <list-item v="Missouri"/>
      <list-item v="Montana"/>
      <list-item v="New Hampshire"/>
      <list-item v="New Jersey"/>
      <list-item v="Nebraska"/>
      <list-item v="Nevada"/>
      <list-item v="Montana"/>
      <list-item v="Oklahoma"/>
      <list-item v="Ohio"/>
      <list-item v="Oregon"/>
      <list-item v="Pennsylvanie"/>
      <list-item v="Tennessee"/>
      <list-item v="Texas"/>
      <list-item v="Utah"/>
      <list-item v="Vermont"/>
      <list-item v="Virginie"/>
      <list-item v="Virginie-Occidentale"/>
      <list-item v="Wisconsin"/>
      <list-item v="Mexique"/>
      <list-item v="Jamaïque"/>
      <list-item v="Belize"/>
      <list-item v="Guatemala"/>
      <list-item v="Honduras"/>
      <list-item v="Nicaragua"/>
      <list-item v="Costa Rica"/>
      <list-item v="Panama"/>
      <list-item v="Barbade"/>
      <list-item v="Bahamas"/>
      <list-item v="Colombie"/>
      <list-item v="Vénézuéla"/>
      <list-item v="Venezuela"/>
      <list-item v="Guadeloupe"/>
      <list-item v="Réunion"/>
      <list-item v="Martinique"/>
      <list-item v="Guyane"/>
      <list-item v="Surinam"/>
      <list-item v="Brésil"/>
      <list-item v="Équateur"/>
      <list-item v="Pérou"/>
      <list-item v="Nouvelle-Castille"/>
      <list-item v="Chili"/>
      <list-item v="Argentine"/>
      <list-item v="Bolivie"/>
      <list-item v="Paraguay"/>
      <list-item v="Uruguay"/>
    </def-list>

    <def-list n="top_oc">	<!-- toponymes de pays et régions avec déterminant en français et sans lui en occitan (liste occitane à cause de problèmes d'homonymie en français) -->
      <list-item v="Vinhana"/>
    </def-list>

    <def-list n="fleuves_rivieres">	<!-- toponymes de fleuves et rivières avec déterminant en français et sans lui en occitan -->
      <list-item v="Adour"/>
      <list-item v="Allier"/>
      <list-item v="Ardèche"/>
      <list-item v="Aspe"/>
      <list-item v="Aude"/>
      <list-item v="Aveyron"/>
      <list-item v="Corrèze"/>
      <list-item v="Creuse"/>
      <list-item v="Dordogne"/>
      <list-item v="Isle"/>
      <list-item v="Drôme"/>
      <list-item v="Durance"/>
      <list-item v="Eure"/>
      <list-item v="Gard"/>
      <list-item v="Garonne"/>
      <list-item v="Gesso"/>
      <list-item v="Indre"/>
      <list-item v="Larboust"/>
      <list-item v="Loire"/>
      <list-item v="Loir"/>
      <list-item v="Lot"/>
      <list-item v="Maira"/>
      <list-item v="Nive"/>
      <list-item v="Pellice"/>
      <list-item v="Pesio"/>
      <list-item v="Pô"/>
      <list-item v="Rhône"/>
      <list-item v="Roya"/>
      <list-item v="Stura"/>
      <list-item v="Stura di Demonte"/>
      <list-item v="Tanaro"/>
      <list-item v="Tarn"/>
<!--      <list-item v="Vernon"/> -->
      <list-item v="Vézère"/>

      <list-item v="Loiret"/>
      <list-item v="Cher"/>
      <list-item v="Marne"/>
      <list-item v="Meuse"/>
      <list-item v="Moselle"/>
      <list-item v="Oise"/>
      <list-item v="Rhin"/>
      <list-item v="Saone"/>
      <list-item v="Seine"/>
      <list-item v="Tech"/>
      <list-item v="Têt"/>

      <list-item v="Adige"/>
      <list-item v="Amazone"/>
      <list-item v="Amou-Daria"/>
      <list-item v="Amour"/>
      <list-item v="Besòs"/>
      <list-item v="Boug"/>
      <list-item v="Brahmapoutre"/>
      <list-item v="Colorado"/>
      <list-item v="Congo"/>
      <list-item v="Danube"/>
      <list-item v="Daró"/>
      <list-item v="Dniepr"/>
      <list-item v="Dniestr"/>
      <list-item v="Don"/>
      <list-item v="Donets"/>
      <list-item v="Èbre"/>
      <list-item v="Elbe"/>
      <list-item v="Eufrate"/>
      <list-item v="Fluvià"/>
      <list-item v="Gange"/>
      <list-item v="Huang He"/>
      <list-item v="Ienisseï"/>
      <list-item v="Indus"/>
      <list-item v="Jaxartes"/>
      <list-item v="Jourdain"/>
      <list-item v="Kouban"/>
      <list-item v="Koubane"/>
      <list-item v="Léna"/>
      <list-item v="Limpopo"/>
      <list-item v="Llobregat"/>
      <list-item v="Mississippi"/>
      <list-item v="Missouri"/>
      <list-item v="Muga"/>
      <list-item v="Niger"/>
      <list-item v="Nil"/>
      <list-item v="Ob"/>
      <list-item v="Oder"/>
      <list-item v="Orénoque"/>
      <list-item v="Oxus"/>
      <list-item v="Parana"/>
      <list-item v="Potomac"/>
      <list-item v="Rubicon"/>
      <list-item v="Saint-Laurent"/>
      <list-item v="Sénégal"/>
      <list-item v="Syr-Daria"/>
      <list-item v="Ter"/>
      <list-item v="Terek"/>
      <list-item v="Tibre"/>
      <list-item v="Tigre"/>
      <list-item v="Tordera"/>
      <list-item v="Vistule"/>
      <list-item v="Volga"/>
      <list-item v="Yang-Tsé"/>
      <list-item v="Yang-Tsé-Kiang"/>
      <list-item v="Zambèze"/>
    </def-list>

  </section-def-lists>

  <section-def-macros>
    <def-macro n="test" npar="1">
          <let>
            <var n="number"/>
            <lit v=""/>
          </let>
    </def-macro>

    <def-macro n="f_canvis_temps" npar="1">
      <choose>
       <!-- canviem tots els pis per prs -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="sl" part="temps"/>
              <lit-tag v="pis"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="temps"/>
            <lit-tag v="prs"/>
          </let>
        </when>
       <!-- en imp canviem p3.sg i p3.pl per p2.pl -->
        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="sl" part="temps"/>
                <lit-tag v="imp"/>
              </equal>
              <equal>
                <clip pos="1" side="sl" part="pers"/>
                <lit-tag v="p3"/>
              </equal>
            </and>
          </test>
          <let>
            <clip pos="1" side="tl" part="pers"/>
            <lit-tag v="p2"/>
          </let>
          <let>
            <clip pos="1" side="tl" part="nbr"/>
            <lit-tag v="pl"/>
          </let>
        </when>
      </choose>
      <choose>
       <!-- canviem falloir p3.pl > p3.sg -->
        <when>
          <test>
            <and>
              <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="falloir"/></equal>
              <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal>
              <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
            </and>
          </test>
          <let><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord_bricolatge2" npar="2">
<!--Pedaç totalment ad-hoc per solucionar problemes amb l'assignació del gènere i nombre a divers -->
      <choose>
        <when>
          <test>
            <and>
              <or>
                <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="divers"/></equal>
                <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="nombreux"/></equal>
                <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="fameux"/></equal>
              </or>
              <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="f"/></equal>
              <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sp"/></equal>
              <or>
                <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
                <equal><clip pos="1" side="sl" part="nbr"/><lit-tag v="pl"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></let>
        </when>
        <when>
          <test>
            <and>
              <or>
                <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="divers"/></equal>
                <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="nombreux"/></equal>
                <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="fameux"/></equal>
              </or>
              <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="f"/></equal>
              <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sp"/></equal>
              <or>
                <equal><clip pos="1" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                <equal><clip pos="1" side="sl" part="nbr"/><lit-tag v="sg"/></equal>
              </or>
            </and>
          </test>
          <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></let>
        </when>
      </choose>
    </def-macro>


    <def-macro n="f_concord0" npar="1">
      <choose>
<!--To determine value of variables of gender and
                 number and propagate to other rules.  Variables are
                 not used again in this rule -->
        <when>
          <test>
            <or>
              <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></equal>
              <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="nt"/></equal>
            </or>
          </test>
          <let><var n="genero"/><lit-tag v="m"/></let>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="f"/></equal>
          </test>
          <let><var n="genero"/><lit-tag v="f"/></let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord1" npar="1">
      <call-macro n="f_concord0"><with-param pos="1"/></call-macro>
      <choose>
        <when>
          <test>
<!-- If word has GD or ND, we try to assign the
              gender or number of the previous rule. If there is no
              value for the gender or number variable from previous
              rules, gender will be masculine and number singular.-->
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <choose>
            <when>
              <test>
                <equal>
                  <var n="genero"/>
                  <lit-tag v="f"/>
                </equal>
              </test>
              <let>
                <clip pos="1" side="tl" part="gen"/>
                <lit-tag v="f"/>
              </let>
            </when>
            <otherwise>
              <let>
                <clip pos="1" side="tl" part="gen"/>
                <lit-tag v="m"/>
              </let>
            </otherwise>
          </choose>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <choose>
            <when>
              <test>
                <in caseless="yes"><clip pos="1" side="sl" part="lem"/><list n="jorn"/></in>
              </test>
              <let>
                <clip pos="1" side="tl" part="nbr"/>
                <lit-tag v="sg"/>
              </let>
            </when>
            <when>
              <test>
                <equal>
                  <var n="numero"/>
                  <lit-tag v="pl"/>
                </equal>
              </test>
              <let>
                <clip pos="1" side="tl" part="nbr"/>
                <lit-tag v="pl"/>
              </let>
            </when>
            <otherwise>
              <let>
                <clip pos="1" side="tl" part="nbr"/>
                <lit-tag v="sg"/>
              </let>
            </otherwise>
          </choose>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_concord2" npar="2">
      <choose>
        <when>
          <test>
<!-- do the main and second parameter gender agree?-->
            <and>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
<!-- do the main and second parameter number agree?-->
                  <clip pos="2" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concPrimero"/>
            <lit v="true"/>
          </let>
<!-- there is gender and number agreement-->
        </when>
        <otherwise>
          <let>
            <var n="concPrimero"/>
            <lit v="false"/>
          </let>
<!-- there isn't gender and number agreement-->
        </otherwise>
      </choose>
      <choose>
        <when>
          <test>
<!-- Propagate the main parameter gender if it has been modified during the translation  -->
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="GD"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
        <when>
          <test>
<!-- Propagate the main parameter number if it has been modified during the translation  -->
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="ND"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
        <when>
          <test>
<!-- Which is the rule general gender? -->
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="1" side="sl" part="gen"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="2" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="2" side="sl" part="gen"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </otherwise>
      </choose>
      <choose>
        <when>
<!-- Which is the rule general number? -->
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>

        <when>
          <test>
            <and>
            <equal>
              <clip pos="2" side="tl" part="a_num"/>
              <lit-tag v="num"/>
            </equal>
            <not>
            <equal>
              <clip pos="2" side="tl" part="lem"/>
              <lit v="1"/>
            </equal>
            </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>

        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="1" side="sl" part="nbr"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="2" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="2" side="sl" part="nbr"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Determine gender and number value if they are undetermined -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <call-macro n="f_concord_bricolatge2"><with-param pos="1"/><with-param pos="2"/></call-macro>
    </def-macro>

    <def-macro n="f_concord3" npar="3">
      <choose>
<!-- Look whether in source language there is concordance between first and second element -->
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concPrimero"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concPrimero"/>
            <lit v="false"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Look whether in source language there is concordance between second and third element -->
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concSegundo"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concSegundo"/>
            <lit v="false"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Propagate the main parameter gender if it has been modified during the translation -->
        <when>
          <test>
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="gen"/>
                  <lit-tag v="GD"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="3" side="tl" part="gen"/>
                      <lit-tag v="mf"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="3" side="sl" part="gen"/>
                        <lit-tag v="mf"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="3" side="tl" part="gen"/>
                          <lit-tag v="GD"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concSegundo"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
<!-- Propagate the main parameter number if it has been modified during the translation -->
        <when>
          <test>
            <and>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
              <not>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="ND"/>
                </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="2" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="2" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="2" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concPrimero"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
                <and>
                  <not>
                    <equal>
                      <clip pos="3" side="tl" part="nbr"/>
                      <lit-tag v="sp"/>
                    </equal>
                  </not>
                  <not>
                    <and>
                      <equal>
                        <clip pos="3" side="sl" part="nbr"/>
                        <lit-tag v="sp"/>
                      </equal>
                      <not>
                        <equal>
                          <clip pos="3" side="tl" part="nbr"/>
                          <lit-tag v="ND"/>
                        </equal>
                      </not>
                    </and>
                  </not>
                  <equal>
                    <var n="concSegundo"/>
                    <lit v="true"/>
                  </equal>
                </and>
              </test>
              <let>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
        </when>
      </choose>
      <choose>
<!-- Determine the rule general gender. Priority order: main, second and third element -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="1" side="sl" part="gen"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="2" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="2" side="sl" part="gen"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="3" side="tl" part="gen"/>
                <lit-tag v="mf"/>
              </equal>
              <not>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="genero"/>
            <clip pos="3" side="sl" part="gen"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Determine the rule general number. Priority order: main, second and third element -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="1" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="1" side="sl" part="nbr"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="2" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="2" side="sl" part="nbr"/>
          </let>
        </when>
        <when>
          <test>
            <and>
              <equal>
                <clip pos="3" side="tl" part="nbr"/>
                <lit-tag v="sp"/>
              </equal>
              <not>
                <equal>
                  <clip pos="3" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
            </and>
          </test>
          <let>
            <var n="numero"/>
            <clip pos="3" side="sl" part="nbr"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </otherwise>
      </choose>
      <choose>
<!-- Assign values to GD and ND -->
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="3" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <choose>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="3" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
      </choose>
      <call-macro n="f_concord_bricolatge2"><with-param pos="1"/><with-param pos="2"/></call-macro>
      <call-macro n="f_concord_bricolatge2"><with-param pos="1"/><with-param pos="3"/></call-macro>
    </def-macro>

    <def-macro n="f_concord4" npar="4">
      <choose>
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </or>
              <or>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <clip pos="1" side="sl" part="nbr"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concPrimero"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concPrimero"/>
            <lit v="false"/>
          </let>
        </otherwise>
      </choose>
      <choose>
        <when>
          <test>
            <and>
              <or>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <clip pos="1" side="sl" part="gen"/>
                </equal>
                <equal>
                  <clip pos="3" side="sl" part="gen"/>
                  <lit-tag v="mf"/>
            </equal>
            <equal>
              <clip pos="1" side="sl" part="gen"/>
              <lit-tag v="mf"/>
            </equal>
              </or>
              <or>
            <equal>
              <clip pos="3" side="sl" part="nbr"/>
              <clip pos="1" side="sl" part="nbr"/>
            </equal>
            <equal>
              <clip pos="3" side="sl" part="nbr"/>
              <lit-tag v="sp"/>
            </equal>
            <equal>
              <clip pos="1" side="sl" part="nbr"/>
              <lit-tag v="sp"/>
            </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concSegundo"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concSegundo"/>
            <lit v="false"/>
          </let>
        </otherwise>
          </choose>
          <choose>
        <when>
          <test>
            <and>
              <or>
            <equal>
              <clip pos="4" side="sl" part="gen"/>
              <clip pos="1" side="sl" part="gen"/>
            </equal>
            <equal>
              <clip pos="4" side="sl" part="gen"/>
              <lit-tag v="mf"/>
            </equal>
            <equal>
              <clip pos="1" side="sl" part="gen"/>
              <lit-tag v="mf"/>
            </equal>
              </or>
              <or>
            <equal>
              <clip pos="4" side="sl" part="nbr"/>
              <clip pos="1" side="sl" part="nbr"/>
            </equal>
            <equal>
              <clip pos="4" side="sl" part="nbr"/>
              <lit-tag v="sp"/>
            </equal>
            <equal>
              <clip pos="1" side="sl" part="nbr"/>
              <lit-tag v="sp"/>
            </equal>
              </or>
            </and>
          </test>
          <let>
            <var n="concTercero"/>
            <lit v="true"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="concTercero"/>
            <lit v="false"/>
          </let>
        </otherwise>
          </choose>
          <choose>
        <when>
          <test>
            <and>
              <not>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <clip pos="1" side="sl" part="gen"/>
            </equal>
              </not>
              <not>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="mf"/>
            </equal>
              </not>
              <not>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
            <and>
              <not>
                <equal>
                  <clip pos="2" side="tl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
              <not>
                <and>
                  <equal>
                <clip pos="2" side="sl" part="gen"/>
                <lit-tag v="mf"/>
                  </equal>
                  <not>
                <equal>
                  <clip pos="2" side="tl" part="gen"/>
                  <lit-tag v="GD"/>
                </equal>
                  </not>
                </and>
              </not>
              <equal>
                <var n="concPrimero"/>
                <lit v="true"/>
              </equal>
            </and>
              </test>
              <let>
            <clip pos="2" side="tl" part="gen"/>
            <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
            <and>
              <not>
                <equal>
                  <clip pos="3" side="tl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
              <not>
                <and>
                  <equal>
                <clip pos="3" side="sl" part="gen"/>
                <lit-tag v="mf"/>
                  </equal>
                  <not>
                <equal>
                  <clip pos="3" side="tl" part="gen"/>
                  <lit-tag v="GD"/>
                </equal>
                  </not>
                </and>
              </not>
              <equal>
                <var n="concSegundo"/>
                <lit v="true"/>
              </equal>
            </and>
              </test>
              <let>
            <clip pos="3" side="tl" part="gen"/>
            <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
            <and>
              <not>
                <equal>
                  <clip pos="4" side="tl" part="gen"/>
                  <lit-tag v="mf"/>
                </equal>
              </not>
              <not>
                <and>
                  <equal>
                <clip pos="4" side="sl" part="gen"/>
                <lit-tag v="mf"/>
                  </equal>
                  <not>
                <equal>
                  <clip pos="4" side="tl" part="gen"/>
                  <lit-tag v="GD"/>
                </equal>
                  </not>
                </and>
              </not>
              <equal>
                <var n="concTercero"/>
                <lit v="true"/>
              </equal>
            </and>
              </test>
              <let>
            <clip pos="4" side="tl" part="gen"/>
            <clip pos="1" side="tl" part="gen"/>
              </let>
            </when>
          </choose>
        </when>
          </choose>
          <choose>
        <when>
          <test>
            <and>
              <not>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <clip pos="1" side="sl" part="nbr"/>
            </equal>
              </not>
              <not>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="sp"/>
            </equal>
              </not>
              <not>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
              </not>
            </and>
          </test>
          <choose>
            <when>
              <test>
            <and>
              <not>
                <equal>
                  <clip pos="2" side="tl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
              <not>
                <and>
                  <equal>
                <clip pos="2" side="sl" part="nbr"/>
                <lit-tag v="sp"/>
                  </equal>
                  <not>
                <equal>
                  <clip pos="2" side="tl" part="nbr"/>
                  <lit-tag v="ND"/>
                </equal>
                  </not>
                </and>
              </not>
              <equal>
                <var n="concPrimero"/>
                <lit v="true"/>
              </equal>
            </and>
              </test>
              <let>
            <clip pos="2" side="tl" part="nbr"/>
            <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
            <and>
              <not>
                <equal>
                  <clip pos="3" side="tl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
              <not>
                <and>
                  <equal>
                <clip pos="3" side="sl" part="nbr"/>
                <lit-tag v="sp"/>
                  </equal>
                  <not>
                <equal>
                  <clip pos="3" side="tl" part="nbr"/>
                  <lit-tag v="ND"/>
                </equal>
                  </not>
                </and>
              </not>
              <equal>
                <var n="concSegundo"/>
                <lit v="true"/>
              </equal>
            </and>
              </test>
              <let>
            <clip pos="3" side="tl" part="nbr"/>
            <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
          <choose>
            <when>
              <test>
            <and>
              <not>
                <equal>
                  <clip pos="4" side="tl" part="nbr"/>
                  <lit-tag v="sp"/>
                </equal>
              </not>
              <not>
                <and>
                  <equal>
                <clip pos="4" side="sl" part="nbr"/>
                <lit-tag v="sp"/>
                  </equal>
                  <not>
                <equal>
                  <clip pos="4" side="tl" part="nbr"/>
                  <lit-tag v="ND"/>
                </equal>
                  </not>
                </and>
              </not>
              <equal>
                <var n="concTercero"/>
                <lit v="true"/>
              </equal>
            </and>
              </test>
              <let>
            <clip pos="4" side="tl" part="nbr"/>
            <clip pos="1" side="tl" part="nbr"/>
              </let>
            </when>
          </choose>
        </when>
          </choose>
          <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="gen"/>
              <lit-tag v="m"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="gen"/>
              <lit-tag v="f"/>
            </equal>
          </test>
          <let>
            <var n="genero"/>
            <lit-tag v="f"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="genero"/>
            <lit-tag v="m"/>
          </let>
        </otherwise>
          </choose>
          <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="nbr"/>
              <lit-tag v="sg"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </when>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="nbr"/>
              <lit-tag v="pl"/>
            </equal>
          </test>
          <let>
            <var n="numero"/>
            <lit-tag v="pl"/>
          </let>
        </when>
        <otherwise>
          <let>
            <var n="numero"/>
            <lit-tag v="sg"/>
          </let>
        </otherwise>
          </choose>
          <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
          </choose>
          <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
          </choose>
          <choose>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="3" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
          </choose>
          <choose>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="gen"/>
              <lit-tag v="GD"/>
            </equal>
          </test>
          <let>
            <clip pos="4" side="tl" part="gen"/>
            <var n="genero"/>
          </let>
        </when>
          </choose>
          <choose>
        <when>
          <test>
            <equal>
              <clip pos="1" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="1" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
          </choose>
          <choose>
        <when>
          <test>
            <equal>
              <clip pos="2" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="2" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
          </choose>
          <choose>
        <when>
          <test>
            <equal>
              <clip pos="3" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="3" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
          </choose>
          <choose>
        <when>
          <test>
            <equal>
              <clip pos="4" side="tl" part="nbr"/>
              <lit-tag v="ND"/>
            </equal>
          </test>
          <let>
            <clip pos="4" side="tl" part="nbr"/>
            <var n="numero"/>
          </let>
        </when>
          </choose>
      <call-macro n="f_concord_bricolatge2"><with-param pos="1"/><with-param pos="2"/></call-macro>
      <call-macro n="f_concord_bricolatge2"><with-param pos="1"/><with-param pos="3"/></call-macro>
      <call-macro n="f_concord_bricolatge2"><with-param pos="1"/><with-param pos="4"/></call-macro>
        </def-macro>

        <def-macro n="f_chunk_tags" npar="1">
          <choose>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="gen"/><lit-tag v="m"/></equal>
          </test>
          <let><var n="genero_sl"/><lit-tag v="sl_m"/></let>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="gen"/><lit-tag v="f"/></equal>
          </test>
          <let><var n="genero_sl"/><lit-tag v="sl_f"/></let>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="gen"/><lit-tag v="mf"/></equal>
          </test>
          <let><var n="genero_sl"/><lit-tag v="sl_mf"/></let>
        </when>
          </choose>
          <choose>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="nbr"/><lit-tag v="sg"/></equal>
          </test>
          <let><var n="numero_sl"/><lit-tag v="sl_sg"/></let>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="nbr"/><lit-tag v="pl"/></equal>
          </test>
          <let><var n="numero_sl"/><lit-tag v="sl_pl"/></let>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="sl" part="nbr"/><lit-tag v="sp"/></equal>
          </test>
          <let><var n="numero_sl"/><lit-tag v="sl_sp"/></let>
        </when>
          </choose>
        </def-macro>

        <def-macro n="f_vchunk_name" npar="1"> <!-- Totes los vèrbs passan per aquí -->
          <choose>
        <when>
          <test>
            <or>
              <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p1"/> </equal>
              <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p2"/> </equal>
              <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/> </equal>
            </or>
          </test>
          <choose>
            <when>
              <test>
                <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="avoir"/> </equal>
              </test>
              <let><var n="chunkname"/><lit v="havercj"/></let>
            </when>
            <otherwise>
              <let><var n="chunkname"/><lit v="verbcj"/></let>
            </otherwise>
          </choose>
        </when>
        <otherwise>
          <let><var n="chunkname"/><lit v="verb"/></let>
        </otherwise>
          </choose>
        </def-macro>

        <def-macro n="tipus_verb" npar="1"> <!-- Totes los vèrbs passan per aquí -->
          <choose>
        <when>
          <test>
            <equal>
             <clip pos="1" side="tl" part="tv"/><lit-tag v="tv"/>
            </equal>
          </test>
          <let><var n="tipusverb"/><lit-tag v="partitiu"/></let>
        </when>
        <otherwise>
          <let><var n="tipusverb"/><lit-tag v="normal"/></let>
        </otherwise>
          </choose>
        </def-macro>

        <def-macro n="tipus_det" npar="1"> <!-- tots els det passen per aqui -->
          <choose>
        <when>
          <test>
            <equal caseless="yes">
             <clip pos="1" side="tl" part="lem"/><lit v="aucun"/>
            </equal>
          </test>
          <let><var n="tipusdet"/><lit-tag v="aucun"/></let>
        </when>
        <otherwise>
          <let><var n="tipusdet"/><clip pos="1" side="sl" part="a_det2"/></let>
        </otherwise>
          </choose>
        </def-macro>

    <def-macro n="set_detdef" npar="0">
      <let><var n="v_detdef"/><lit v=""/></let>
      <choose>
        <when>
          <test>
            <equal><var n="numero"/><lit-tag v="pl"/></equal>
          </test>
          <append n="v_detdef">
            <lit v="^"/>
            <lit v="le"/>
            <lit-tag v="det.def.mf.pl"/>
            <lit v="$"/>
          </append>
        </when>
        <otherwise>
          <append n="v_detdef">
            <lit v="^"/>
            <lit v="le"/>
            <lit-tag v="det.def"/>
            <var n="genero"/>
            <lit-tag v="sg"/>
            <lit v="$"/>
          </append>
        </otherwise>
      </choose>
    </def-macro>

  <def-macro n="firstWord" npar="1">
      <choose>
        <when>
          <test>
            <or>
              <in><clip pos="1" side="tl" part="lem"/><list n="en_majuscules"/></in>
              <equal><clip pos="1" side="tl" part="a_num"/><lit v="num"/></equal>
              <and>
                <in caseless="yes"><clip pos="1" side="tl" part="lem"/><list n="en_majuscules"/></in>
                <equal><var n="EOS"/><lit v="true"/></equal>
                <not><equal><clip pos="1" side="tl" part="a_num"/><lit-tag v="num"/></equal></not>
              </and>
            </or>
          </test>
        </when>
        <when>
          <test>
            <equal><clip pos="1" side="tl" part="a_np_acr"/><lit-tag v="acr"/></equal>
          </test>
          <let><var n="caseFirstWord"/><lit v="aa"/></let>
        </when>
        <when>
          <test>
            <equal><var n="EOS"/><lit v="true"/></equal>
          </test>
          <choose>
            <when>
              <test>
                <equal><clip pos="1" side="sl" part="a_np_acr_ij"/><lit v=""/></equal>
              </test>
              <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
            </when>
          </choose>
          <let><var n="caseFirstWord"/><lit v="Aa"/></let>
        </when>
        <otherwise>
          <let><var n="caseFirstWord"/><lit v="aa"/></let>
        </otherwise>
      </choose>
      <let><var n="EOS"/><lit v="false"/></let>
    </def-macro>

    <def-macro n="f_maj_gentilici1" npar="1">
<!-- si es tracta d'un gentilici, posem la majúscula si està en plural-->
      <choose>
        <when>
          <test>
            <and>
              <in caseless="yes">
                <clip pos="1" side="tl" part="lem"/>
                <list n="gentilici"/>
              </in>
              <or>
                <equal>
                  <clip pos="1" side="sl" part="nbr"/>
                  <lit-tag v="pl"/>
                </equal>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="pl"/>
                </equal>
              </or>
            </and>
          </test>
          <modify-case>
            <clip pos="1" side="tl" part="lemh"/>
            <lit v="Aa"/>
          </modify-case>
        </when>
      </choose>
    </def-macro>

    <def-macro n="f_maj_gentilici2" npar="2">
<!-- si es tracta d'un gentilici, posem la majúscula -->
<!-- p1 = det, p2 = n -->
      <choose>
        <when>
          <test>
            <and>
              <in caseless="yes">
                <clip pos="2" side="tl" part="lem"/>
                <list n="gentilici"/>
              </in>
              <or>
                <equal>
                  <clip pos="1" side="tl" part="nbr"/>
                  <lit-tag v="pl"/>
                </equal>
                <equal>
                  <clip pos="2" side="sl" part="nbr"/>
                  <lit-tag v="pl"/>
                </equal>
                <equal>
                  <clip pos="2" side="tl" part="nbr"/>
                  <lit-tag v="pl"/>
                </equal>
                <equal>
                  <clip pos="1" side="tl" part="a_det"/>
                  <lit-tag v="det.ind"/>
                </equal>
              </or>
            </and>
          </test>
          <modify-case>
            <clip pos="2" side="tl" part="lemh"/>
            <lit v="Aa"/>
          </modify-case>
        </when>
      </choose>
    </def-macro>

    <def-macro n="write_det_top" npar="1"> <!--Écrit le np.top avec ou sans article défini -->
        <choose>
          <when>
            <test>
              <or>
                <in><clip pos="1" side="tl" part="lem"/><list n="pays"/></in>
                <in><clip pos="1" side="tl" part="lem"/><list n="fleuves_rivieres"/></in>
                <in><clip pos="1" side="sl" part="lem"/><list n="top_oc"/></in>
              </or>
            </test>
            <out>
              <chunk name="det-nptop" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="1" side="tl" part="gen"/></tag>
                  <tag><clip pos="1" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="le"/>
                  <lit-tag v="det.def"/>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="tl" part="nbr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="nptop" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="1" side="tl" part="gen"/></tag>
                  <tag><clip pos="1" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
    </def-macro>

    <def-macro n="write_det_pos" npar="3"><!--par1 = detdef, par2 = n, par3 = adjpos -->
        <choose>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="mieu"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="men"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="mèn"/></equal>
              </or>
            </test>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><lit-tag v="pos"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="mon"/>
                  <lit-tag v="det.pos"/>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="tl" part="nbr"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </when>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="tieu"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="ton"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="tòn"/></equal>
              </or>
            </test>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><lit-tag v="pos"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="ton"/>
                  <lit-tag v="det.pos"/>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="tl" part="nbr"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </when>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="sieu"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="son"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="sòn"/></equal>
              </or>
            </test>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><lit-tag v="pos"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="son"/>
                  <lit-tag v="det.pos"/>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="tl" part="nbr"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </when>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="nòstre"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="nòste"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="noste"/></equal>
              </or>
            </test>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><lit-tag v="pos"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="notre"/>
                  <lit-tag v="det.pos.mf"/>
                  <clip pos="1" side="tl" part="nbr"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </when>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="vòstre"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="vòste"/></equal>
                <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="voste"/></equal>
              </or>
            </test>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><lit-tag v="pos"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="votre"/>
                  <lit-tag v="det.pos.mf"/>
                  <clip pos="1" side="tl" part="nbr"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </when>
          <when>
            <test>
              <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="lor"/></equal>
            </test>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><lit-tag v="pos"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="leur"/>
                  <lit-tag v="det.pos.mf"/>
                  <clip pos="1" side="tl" part="nbr"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </when>
        </choose>
    </def-macro>

    <def-macro n="f_bcond" npar="2"><!--Per mirar si el blanc conté o no format. Cal posar aquesta funció en les regles en què desaparegui alguna paraula, per tal de decidir si el blanc de la paraula eliminada s'ha d'eliminar o conservar. Si conté format cal conservar-la, si no en conté cal eliminar-la perquè no apareguin dos espais seguits. -->
      <choose>
        <when>
          <test>
            <not>
              <equal>
                <b pos="1"/>
                <lit v=" "/>
              </equal>
            </not>
          </test>
          <out>
            <b pos="1"/>
          </out>
        </when>
      </choose>
    </def-macro>

  </section-def-macros>

  <section-rules>

    <!-- RÈGLAS TOP -->

    <rule comment="RÈGLA: NPTOP (França > la France, Tolosa > Toulouse)">
      <pattern>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="write_det_top">
          <with-param pos="1"/>
        </call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: NPTOP ADJ (Grècia anciana > la Grèce ancienne)">
      <pattern>
        <pattern-item n="nptop"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <or>
                <in><clip pos="1" side="tl" part="lem"/><list n="pays"/></in>
                <in><clip pos="1" side="tl" part="lem"/><list n="fleuves_rivieres"/></in>
                <in><clip pos="1" side="sl" part="lem"/><list n="top_oc"/></in>
              </or>
            </test>
            <out>
              <chunk name="det-nptop-adj" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="1" side="tl" part="gen"/></tag>
                  <tag><clip pos="1" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="le"/>
                  <lit-tag v="det.def"/>
                  <clip pos="1" side="tl" part="gen"/>
                  <clip pos="1" side="tl" part="nbr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="nptop-adj" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="1" side="tl" part="gen"/></tag>
                  <tag><clip pos="1" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ NPTOP (anciana Grècia > l'ancienne Grèce)">
      <pattern>
        <pattern-item n="adj"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <or>
                <in><clip pos="2" side="tl" part="lem"/><list n="pays"/></in>
                <in><clip pos="2" side="tl" part="lem"/><list n="fleuves_rivieres"/></in>
                <in><clip pos="2" side="sl" part="lem"/><list n="top_oc"/></in>
              </or>
            </test>
            <out>
              <chunk name="det-adj-nptop" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="le"/>
                  <lit-tag v="det.def"/>
                  <clip pos="2" side="tl" part="gen"/>
                  <clip pos="2" side="tl" part="nbr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="adj-nptop" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="1" side="tl" part="gen"/></tag>
                  <tag><clip pos="1" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
                <b pos="1"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NPTOP ADJ (la Grècia anciana > la Grèce ancienne)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nptop"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det-nptop-adj" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF ADJ NPTOP (l'anciana Grècia > l'ancienne Grèce)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adj"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="det-adj-nptop" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- règles pour éviter la génération de l'article (et contre-règles) -->

    <rule comment="REGLA: ANT de TOP (Alienòr d'Aquitània > Aliénor d'Aquitaine)">
      <pattern>
        <pattern-item n="npant"/>
        <pattern-item n="depr"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="npant" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <clip pos="2" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <get-case-from pos="3">
                <clip pos="3" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="REGLA: ANT NUM_ROMAN de TOP (Alienòr II d'Aquitània > Aliénor II d'Aquitaine)">
      <pattern>
        <pattern-item n="npant_unk"/>
        <pattern-item n="num_romans"/>
        <pattern-item n="depr"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="npant" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <clip pos="2" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <get-case-from pos="3">
                <clip pos="3" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <get-case-from pos="4">
                <clip pos="4" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="REGLA: ANT de TOP a (contre-règle)">
      <pattern>
        <pattern-item n="npant"/>
        <pattern-item n="depr"/>
        <pattern-item n="nptop"/>
        <pattern-item n="apr"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="npant" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="write_det_top">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <b pos="3"/>
        </out>
<!--
        <out>
          <chunk name="nptop" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="3"/>
        </out>
-->
        <call-macro n="firstWord">
          <with-param pos="4"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: radio NPTOP (Radio Gasconha > Radio Gascogne)">
      <pattern>
        <pattern-item n="radio_tv"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="npal" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF radio NPTOP (la region Gasconha > la région Gascogne)">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="radio_tv"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="npal" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="REGLA: lpar NP rpar">
      <pattern>
        <pattern-item n="lpar"/>
        <pattern-item n="nptop"/>
        <pattern-item n="rpar"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="lpar">
            <tags>
              <tag><lit-tag v="LPAR"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="nptop" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
          <chunk name="rpar">
            <tags>
              <tag><lit-tag v="RPAR"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="REGLA: dignitari de NP (evita la generació de l'article si país... mai 'ambassade de France', 'ambassade du Gabon')">
      <pattern>
        <pattern-item n="dignitari_n_et_al"/>
        <pattern-item n="depr"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="f_concord1">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="f_chunk_tags">
         <with-param pos="1"/>
       </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="n"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="histoire"/></equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="ambassade"/></equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="ambassadeur"/></equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="consulat"/></equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="consul"/></equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="maison"/></equal>
                </or>
                <or>
                  <in><clip pos="3" side="tl" part="lem"/><list n="pays"/></in>
                  <in><clip pos="3" side="sl" part="lem"/><list n="top_oc"/></in>
                </or>
                <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="m"/></equal>
              </and>
            </test>
            <out>
              <chunk name="det-nptop">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="le"/>
                  <lit-tag v="det.def"/>
                  <clip pos="3" side="tl" part="gen"/>
                  <clip pos="3" side="tl" part="nbr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="histoire"/></equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="ambassade"/></equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="ambassadeur"/></equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="consulat"/></equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="consul"/></equal>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="maison"/></equal>
                </or>
                <or>
                  <in><clip pos="3" side="tl" part="lem"/><list n="pays"/></in>
                  <in><clip pos="3" side="sl" part="lem"/><list n="top_oc"/></in>
                </or>
                <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
              </and>
            </test>
            <out>
              <chunk name="det-nptop">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="le"/>
                  <lit-tag v="det.def.mf.pl"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="nptop" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="1" side="tl" part="gen"/></tag>
                  <tag><clip pos="1" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="REGLA: DET dignitari de NP (evita la generació de l'article si país... mai 'l'ambassade de France', 'l'ambassade du Gabon')">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="dignitari_n_et_al"/>
        <pattern-item n="depr"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="f_concord2">
         <with-param pos="2"/>
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="f_chunk_tags">
         <with-param pos="2"/>
       </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="n"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="histoire"/></equal>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="ambassade"/></equal>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="ambassadeur"/></equal>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="consulat"/></equal>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="consul"/></equal>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="maison"/></equal>
                </or>
                <or>
                  <in><clip pos="4" side="tl" part="lem"/><list n="pays"/></in>
                  <in><clip pos="4" side="sl" part="lem"/><list n="top_oc"/></in>
                </or>
                <equal><clip pos="4" side="tl" part="gen"/><lit-tag v="m"/></equal>
              </and>
            </test>
            <out>
              <chunk name="det-nptop">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="le"/>
                  <lit-tag v="det.def"/>
                  <clip pos="4" side="tl" part="gen"/>
                  <clip pos="4" side="tl" part="nbr"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <and>
                <or>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="histoire"/></equal>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="ambassade"/></equal>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="ambassadeur"/></equal>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="consulat"/></equal>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="consul"/></equal>
                  <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="maison"/></equal>
                </or>
                <or>
                  <in><clip pos="4" side="tl" part="lem"/><list n="pays"/></in>
                  <in><clip pos="4" side="sl" part="lem"/><list n="top_oc"/></in>
                </or>
                <equal><clip pos="4" side="tl" part="nbr"/><lit-tag v="pl"/></equal>
              </and>
            </test>
            <out>
              <chunk name="det-nptop">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="4" side="tl" part="gen"/></tag>
                  <tag><clip pos="4" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="le"/>
                  <lit-tag v="det.def.mf.pl"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="nptop" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="1" side="tl" part="gen"/></tag>
                  <tag><clip pos="1" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="REGLA: en NP (evita la generació de l'article si país f.sg ; l'afegeix si riu)">
      <pattern>
        <pattern-item n="en_jusqua_pr"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <or>
                <and>
                  <or>
                    <in><clip pos="2" side="tl" part="lem"/><list n="pays"/></in>
                    <in><clip pos="2" side="tl" part="lem"/><list n="fleuves_rivieres"/></in>
                    <in><clip pos="2" side="sl" part="lem"/><list n="top_oc"/></in>
                  </or>
                  <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="f"/></equal>
                  <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
                <!-- + pays m.sg qui commencent en voyelle -->
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Annam"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Alabama"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Alaska"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Arkansas"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aragon"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Arizona"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Azerbaïdjan"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Équateur"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Essex"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Hampshire"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Honduras"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Hubei"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Idaho"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Illinois"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Iowa"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Iran"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Irak"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Iraq"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Oklahoma"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Ohio"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Ontario"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Oregon"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Ouzbékistan"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Uruguay"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Wisconsin"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Agenais"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Albigeois"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Armagnac"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Agarnaguès"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aran"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Astarac"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aubrac"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aveyron"/></equal>
              </or>
            </test>
            <let><clip pos="1" side="tl" part="lem"/><get-case-from pos="1"><lit v="en"/></get-case-from></let> <!-- en Égypte -->
          </when>
        </choose>
        <choose>
          <when>
            <test>
              <and>
                <in><clip pos="2" side="tl" part="lem"/><list n="pays"/></in>
                <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></equal>
                <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
              </and>
            </test>
            <let><clip pos="1" side="tl" part="lem"/><get-case-from pos="1"><lit v="en"/></get-case-from></let> <!-- en Égypte -->
          </when>
        </choose>
        <choose>
          <when>
            <test>
              <and>
                <in><clip pos="2" side="tl" part="lem"/><list n="pays"/></in>
                <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="m"/></equal>
                <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                <!-- + pays m.sg qui commencent en voyelle -->
		<not><or>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Annam"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Alabama"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Alaska"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Arkansas"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aragon"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Arizona"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Azerbaïdjan"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Équateur"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Essex"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Hampshire"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Honduras"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Hubei"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Idaho"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Illinois"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Iowa"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Iran"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Irak"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Iraq"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Oklahoma"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Ohio"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Ontario"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Oregon"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Ouzbékistan"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Uruguay"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Wisconsin"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Agenais"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Albigeois"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Armagnac"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Agarnaguès"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aran"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Astarac"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aubrac"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aveyron"/></equal>
	        </or></not>
              </and>
            </test>
            <choose>
              <when>
                <test>
                  <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="en"/></equal>
                </test>
	        <let><clip pos="1" side="tl" part="lem"/><lit v="à"/></let>
              </when>
            </choose>
            <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
            <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
            <out>
              <chunk namefrom="lemma" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="PREP"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
            <call-macro n="firstWord">
              <with-param pos="2"/>
            </call-macro>
            <out>
              <chunk name="nptop" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="le"/>
                  <lit-tag v="det.def.m.sg"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <when>
            <test>
              <or>
                <or>
                  <not><in><clip pos="2" side="tl" part="lem"/><list n="pays"/></in></not>
                  <not><in><clip pos="2" side="tl" part="lem"/><list n="fleuves_rivieres"/></in></not>
                  <not><in><clip pos="2" side="sl" part="lem"/><list n="top_oc"/></in></not>
                </or>
                <and>
                  <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="f"/></equal>
                  <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
                </and>
                <!-- + pays m.sg qui commencent en voyelle -->
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Annam"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Alabama"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Alaska"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Arkansas"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aragon"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Arizona"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Azerbaïdjan"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Équateur"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Essex"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Hampshire"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Honduras"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Hubei"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Idaho"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Illinois"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Iowa"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Iran"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Irak"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Iraq"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Oklahoma"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Ohio"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Ontario"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Oregon"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Ouzbékistan"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Uruguay"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Wisconsin"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Agenais"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Albigeois"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Armagnac"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Agarnaguès"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aran"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Astarac"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aubrac"/></equal>
                <equal><clip pos="2" side="tl" part="lem"/><lit v="Aveyron"/></equal>
              </or>
            </test>
            <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
            <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
            <out>
              <chunk namefrom="lemma" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="PREP"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
            <call-macro n="firstWord">
              <with-param pos="2"/>
            </call-macro>
            <out>
              <chunk name="nptop" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
            <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
            <out>
              <chunk namefrom="lemma" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="PREP"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="whole"/>
                </lu>
              </chunk>
              <b pos="1"/>
              <chunk name="nptop">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><lit-tag v="np"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <lit v="le"/>
                  <lit-tag v="det.def"/>
                  <var n="genero"/>
                  <var n="numero"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="REGLA: en tot NP: en tota Occitania > dans toute l'Occitanie">
      <pattern>
        <pattern-item n="enpr"/>
        <pattern-item n="tot_det"/>
        <pattern-item n="nptop"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="dans" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
               <lit v="dans"/>
               <lit-tag v="pr"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="nptop" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <lit v="tout"/>
              <lit-tag v="predet"/>
              <var n="genero"/>
              <var n="numero"/>
            </lu>
            <b pos="2"/>
            <lu>
              <lit v="le"/>
              <lit-tag v="det.def"/>
              <var n="genero"/>
              <var n="numero"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- fin règles pour éviter la génération de l'article (et contre-règles) -->
    <!-- FIN RÈGLAS TOP -->


    <!-- RÈGLAS DATAS -->

   <rule comment="RÈGLA: NUMERAL DE MOIS DE NUM (20 de novembre de 1998: 20 novembre 1998)">
      <pattern>
        <pattern-item n="num_premier"/>
        <pattern-item n="depr"/>
        <pattern-item n="nom_mes"/>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="5"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: DET NUMERAL DE MOIS DE NUM (lo 20 de novembre de 1998: le 20 novembre 1998)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num_premier"/>
        <pattern-item n="depr"/>
        <pattern-item n="nom_mes"/>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="4"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="6" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: NUMERAL DE MOIS (20 de novembre: 20 novembre)">
      <pattern>
        <pattern-item n="num_premier"/>
        <pattern-item n="depr"/>
        <pattern-item n="nom_mes"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: DET NUMERAL DE MOIS (lo 20 de novembre: le 20 novembre)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num_premier"/>
        <pattern-item n="depr"/>
        <pattern-item n="nom_mes"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="4"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: MOIS NUM (en novembre de 1998: en novembre 1998)">
      <pattern>
        <pattern-item n="nom_mes"/>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: DET MOIS NUM (lo novembre de 1998: le novembre 1998)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom_mes"/>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: EN MOIS NUM (en novembre de 1998: en novembre 1998)">
      <pattern>
        <pattern-item n="enpr"/>
        <pattern-item n="nom_mes"/>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="en-data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


   <rule comment="RÈGLA: EN DET MOIS NUM (en lo novembre de 1998: en novembre 1998)">
      <pattern>
        <pattern-item n="enpr"/>
        <pattern-item n="det"/>
        <pattern-item n="nom_mes"/>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="en-data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: fa NUM temps > il y a NUM temps">
      <pattern>
        <pattern-item n="fa"/>
        <pattern-item n="num"/>
        <pattern-item n="unitat_temps"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="1" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: fa DETIND temps > il y a DETIND temps">
      <pattern>
        <pattern-item n="fa"/>
        <pattern-item n="detind"/>
        <pattern-item n="unitat_temps"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="1" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: fa temps > il y a longtemps">
      <pattern>
        <pattern-item n="fa"/>
        <pattern-item n="temps_n"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="1" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="2">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="2">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                 <lit v="longtemps"/>
              </get-case-from>
              <lit-tag v="adv"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: fa ADV NUM temps > il y a ADV NUM temps">
      <pattern>
        <pattern-item n="fa"/>
        <pattern-item n="adv"/>
        <pattern-item n="num"/>
        <pattern-item n="unitat_temps"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="4"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="1" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: fa ADV DETIND temps > il y a ADV DETIND temps">
      <pattern>
        <pattern-item n="fa"/>
        <pattern-item n="adv"/>
        <pattern-item n="detind"/>
        <pattern-item n="unitat_temps"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="4"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="1" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: fa ADV temps > il y a ADV longtemps">
      <pattern>
        <pattern-item n="fa"/>
        <pattern-item n="adv"/>
        <pattern-item n="temps_n"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="1" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="2">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="2">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <get-case-from pos="2">
                 <lit v="longtemps"/>
              </get-case-from>
              <lit-tag v="adv"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: fa COMPADV DE NUM temps > il y a COMPADV DE NUM temps (fa mai d'un an > il y a plus d'un an)">
      <pattern>
        <pattern-item n="fa"/>
        <pattern-item n="compadv_extens"/>
        <pattern-item n="depr"/>
        <pattern-item n="un_num"/>
        <pattern-item n="unitat_temps"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="5"/>
          <with-param pos="4"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="1" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="1" side="tl" part="pers"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: NUM temps a > il y a NUM temps">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="unitat_temps"/>
        <pattern-item n="a_p3sg"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="3" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="3" side="tl" part="pers"/>
              <clip pos="3" side="tl" part="nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: DETIND temps a > il y a DETIND temps">
      <pattern>
        <pattern-item n="detind"/>
        <pattern-item n="unitat_temps"/>
        <pattern-item n="a_p3sg"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="3" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="3" side="tl" part="pers"/>
              <clip pos="3" side="tl" part="nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: PREP NUM temps i a > PREP il y a NUM temps">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="num"/>
        <pattern-item n="unitat_temps"/>
        <pattern-item n="prnpro_i"/>
        <pattern-item n="a_p3sg"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="5" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="4">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="5">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="5" side="tl" part="pers"/>
              <clip pos="5" side="tl" part="nbr"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: PREP DETIND temps i a > PREP il y a DETIND temps">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="detind"/>
        <pattern-item n="unitat_temps"/>
        <pattern-item n="prnpro_i"/>
        <pattern-item n="a_p3sg"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="5" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="4">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="5">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="5" side="tl" part="pers"/>
              <clip pos="5" side="tl" part="nbr"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: COMPADV DE NUM temps a > il y a COMPADV DE NUM temps (mei d'un an a > il y a plus d'un an)">
      <pattern>
        <pattern-item n="compadv_extens"/>
        <pattern-item n="depr"/>
        <pattern-item n="un_num"/>
        <pattern-item n="unitat_temps"/>
        <pattern-item n="a_p3sg"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="4"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="v" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><lit-tag v="vblex"/></tag>
              <tag><clip pos="5" side="tl" part="temps"/></tag>
              <tag><lit-tag v="normal"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="il"/>
              </get-case-from>
              <lit-tag v="prn.tn.p3.m.sg"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="y"/>
              </get-case-from>
              <lit-tag v="prn.pro.adv"/>
            </lu>
            <b/>
            <lu>
              <get-case-from pos="3">
                 <lit v="avoir"/>
              </get-case-from>
              <lit-tag v="vblex"/>
              <lit-tag v="3"/>
              <clip pos="5" side="tl" part="pers"/>
              <clip pos="5" side="tl" part="nbr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: DETDEF MITAT DE MES > mi-MES">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="mitat_n"/>
        <pattern-item n="depr"/>
        <pattern-item n="nom_mes"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><concat><lit v="mi-"/><clip pos="4" side="tl" part="lem"/></concat></let>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="le"/>
              </get-case-from>
              <lit-tag v="det.def.f.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="4">
                 <var n="lemma"/>
              </get-case-from>
              <lit-tag v="adv"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: PREP DETDEF DEBUTA/FIN DE MES > PREP DÉBUT/FIN MES">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="debuta_fin_n"/>
        <pattern-item n="depr"/>
        <pattern-item n="nom_mes"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: JORN_n de PART_JORN > JORN_n PART_JORN (diluns de matin > lundi matin)">
      <pattern>
        <pattern-item n="jorn_n"/>
        <pattern-item n="depr"/>
        <pattern-item n="part_jorn"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: JORN_n NUM de PART_JORN > JORN_n NUM PART_JORN (diluns 13 de matin > lundi 13 matin)">
      <pattern>
        <pattern-item n="jorn_n"/>
        <pattern-item n="num"/>
        <pattern-item n="depr"/>
        <pattern-item n="part_jorn"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: JORN_adv de PART_JORN > JORN_adv PART_JORN (ièr de matin > hier matin)">
      <pattern>
        <pattern-item n="jorn_adv"/>
        <pattern-item n="depr"/>
        <pattern-item n="part_jorn"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: JORN_n a lo PART_JORN > JORN_n PART_JORN (diluns al matin > lundi matin)">
      <pattern>
        <pattern-item n="jorn_n"/>
        <pattern-item n="apr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="part_jorn"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: JORN_adv a lo PART_JORN > JORN_adv PART_JORN (ièr al matin > hier matin)">
      <pattern>
        <pattern-item n="jorn_adv"/>
        <pattern-item n="apr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="part_jorn"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>


    <rule comment="RÈGLA: JORN_n NUM a lo PART_JORN > JORN_n NUM PART_JORN (diluns 13 al matin > lundi 13 matin)">
      <pattern>
        <pattern-item n="jorn_n"/>
        <pattern-item n="num"/>
        <pattern-item n="apr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="part_jorn"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: JORN_adv NUM de PART_JORN > JORN_adv PART_JORN (diluns 13 al matin > lundi 13 matin)">
      <pattern>
        <pattern-item n="jorn_adv"/>
        <pattern-item n="num"/>
        <pattern-item n="apr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="part_jorn"/>
      </pattern>
      <action>
        <call-macro n="f_concord1">
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SEGLE NUM: segle XVII > XVIIe siècle">
      <pattern>
        <pattern-item n="segle_millenari"/>
        <pattern-item n="num_romans"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="adj_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET SEGLE NUM: lo segle XVII > le XVIIe siècle">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="segle_millenari"/>
        <pattern-item n="num_romans"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="adj_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP DET SEGLE NUM: del segle XVII > du XVIIe siècle">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="det"/>
        <pattern-item n="segle_millenari"/>
        <pattern-item n="num_romans"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="adj_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SEGLE NUM CNJCOO NUM: segles XVII e XVIII> XVIIe et XVIIIe siècles">
      <pattern>
        <pattern-item n="segle_millenari"/>
        <pattern-item n="num_romans"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="num_romans"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="adj_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="3" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET SEGLE NUM CNJCOO NUM: los segles XVII e XVIII> les XVIIe et XVIIIe siècles">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="segle_millenari"/>
        <pattern-item n="num_romans"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="num_romans"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="adj_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="4" side="tl" part="whole"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="tags"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP DET SEGLE NUM CNJCOO NUM: dels segles XVII e XVIII> des XVIIe et XVIIIe siècles">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="det"/>
        <pattern-item n="segle_millenari"/>
        <pattern-item n="num_romans"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="num_romans"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="adj_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="5" side="tl" part="whole"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="6" side="tl" part="lemh"/>
                <clip pos="6" side="tl" part="tags"/>
                <clip pos="6" side="tl" part="lemq"/>
              </lu>
              <b pos="5"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP DET SEGLE NUM PREP DET NUM: del segle XVII al XVIII> du XVIIe au XVIIIe siècle">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="det"/>
        <pattern-item n="segle_millenari"/>
        <pattern-item n="num_romans"/>
        <pattern-item n="pr"/>
        <pattern-item n="det"/>
        <pattern-item n="num_romans"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
              <lu>
              <clip pos="4" side="tl" part="whole"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="5" side="tl" part="whole"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="6" side="tl" part="whole"/>
              </lu>
              <b pos="5"/>
              <lu>
                <clip pos="7" side="tl" part="whole"/>
              </lu>
              <b pos="6"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: JORN QUE VE: diluns que ven > lundi prochain">
      <pattern>
        <pattern-item n="jorn_n"/>
        <pattern-item n="que_rel"/>
        <pattern-item n="venir_pri_p3sg"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <lit-tag v="n.m.sg"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <lit v="prochain"/>
              </get-case-from>
              <lit-tag v="adj.m.sg"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: DET UNITAT_TEMPS QUE VE: lo mes que ven > le mois prochain">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="unitat_temps_mes_et_al"/>
        <pattern-item n="que_qui_rel"/>
        <pattern-item n="venir_pri_p3"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="tags"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <get-case-from pos="3">
                <lit v="prochain"/>
              </get-case-from>
              <lit-tag v="adj"/>
              <var n="genero"/>
              <var n="numero"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: DET UNITAT_TEMPS QUE VE: lo còp que ven > la prochaine fois">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="cop_n"/>
        <pattern-item n="que_qui_rel"/>
        <pattern-item n="venir_pri_p3"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="tags"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="3">
                <lit v="prochain"/>
              </get-case-from>
              <lit-tag v="adj"/>
              <var n="genero"/>
              <var n="numero"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: DET UNITAT_TEMPS QUE VE DE (per empachar la regla DET UNITAT_TEMPS QUE VE > DET UNITAT_TEMPS prochain)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="unitat_temps_mes_et_al"/>
        <pattern-item n="que_qui_rel"/>
        <pattern-item n="venir_pri_p3"/>
        <pattern-item n="depr"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>

        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="rel"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="3"/>
        </out>

        <call-macro n="firstWord">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="4"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="4" side="tl" part="a_verb"/></tag>
              <tag><var n="tipusverb"/></tag>
              <tag><clip pos="4" side="tl" part="temps"/></tag>
              <tag><clip pos="4" side="tl" part="pers"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="a_verb"/>
              <lit-tag v="4"/>
              <clip pos="4" side="tl" part="pers"/>
              <clip pos="4" side="tl" part="nbr"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="4"/>
        </out>

        <call-macro n="firstWord">
          <with-param pos="5"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET UNITAT_TEMPS QUE VE DE (per empachar la regla DET UNITAT_TEMPS QUE VE > DET UNITAT_TEMPS prochain)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="unitat_temps_mes_et_al"/>
        <pattern-item n="que_qui_rel"/>
        <pattern-item n="venir_pri_p3"/>
        <pattern-item n="inf"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>

        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="rel"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="3"/>
        </out>

        <call-macro n="firstWord">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="5"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="5" side="tl" part="a_verb"/></tag>
              <tag><var n="tipusverb"/></tag>
              <tag><clip pos="4" side="tl" part="temps"/></tag>
              <tag><clip pos="4" side="tl" part="pers"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="a_verb"/>
              <lit-tag v="4"/>
              <clip pos="4" side="tl" part="pers"/>
              <clip pos="4" side="tl" part="nbr"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="a_verb"/>
              <clip pos="5" side="tl" part="temps"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: TOT temps (tot dissabte > tous les samedis)" v="oci@gascon">
      <pattern>
        <pattern-item n="tot_detsg"/>
        <pattern-item n="unitat_temps_mes_et_al"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sg"/></equal>
            </test>
            <let><clip pos="2" side="tl" part="nbr"/><lit-tag v="pl"/></let>
          </when>
        </choose>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="tout"/>
              </get-case-from>
              <lit-tag v="predet"/>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="pl"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                <lit v="le"/>
              </get-case-from>
              <lit-tag v="det.def.mf.pl"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: CADA NUM temps (cada tres jorns > tous les trois jours)">
      <pattern>
        <pattern-item n="cada_det"/>
        <pattern-item n="num"/>
        <pattern-item n="unitat_temps_mes_et_al"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="data">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="tout"/>
              </get-case-from>
              <lit-tag v="predet"/>
              <clip pos="3" side="tl" part="gen"/>
              <lit-tag v="pl"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="3">
                <lit v="le"/>
              </get-case-from>
              <lit-tag v="det.def.mf.pl"/>
            </lu>
            <b/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
         <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
      </action>
    </rule>

    <!-- FIN RÈGLAS DATAS -->


    <!-- RÈGLAS ACÒRDI -->

    <rule comment="RÈGLA: DET NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
       <choose>
          <when>
            <test>
              <or>
                <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                <equal><clip pos="2" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                <equal><clip pos="2" side="tl" part="nbr"/><lit-tag v="sp"/></equal>
              </or>
            </test>
            <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
            <out>
              <chunk namefrom="lemma" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
            <out>
              <chunk namefrom="lemma" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="a_det"/>
                  <lit-tag v="3"/>
                  <lit-tag v="4"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <b pos="1"/>
          <chunk name="a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="temps"/>
              <lit-tag v="2"/>
              <lit-tag v="3"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NPAL (las Calandretas > les Calandretas)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="npal"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="np" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADV ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
       <choose>
          <when>
            <test>
              <or>
                <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                <equal><clip pos="3" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                <equal><clip pos="3" side="tl" part="nbr"/><lit-tag v="sp"/></equal>
              </or>
            </test>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="a_det"/>
                  <lit-tag v="3"/>
                  <lit-tag v="4"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="plus"/></equal>
                <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="moins"/></equal>
              </or>
            </test>
            <let><var n="temp"/><lit-tag v="SAcomp"/></let>
          </when>
          <otherwise>
            <let><var n="temp"/><lit-tag v="SA"/></let>
          </otherwise>
        </choose>
        <out>
          <b pos="1"/>
          <chunk name="adv_a" case="caseFirstWord">
            <tags>
              <tag><var n="temp"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <lit-tag v="2"/>
              <lit-tag v="3"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NOM ADJPOS (la lenga nòstra > notre langue)">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjpos"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="write_det_pos">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NOM CNJCOO DETDEF NOM ADJPOS (la lenga e cultura nòstra > notre langue et culture)">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="detdef"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjpos"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="5"/>
          <with-param pos="4"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="4"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="write_det_pos">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_cnjcoo_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <or>
                <in caseless="yes"><clip pos="3" side="sl" part="lem"/><list n="adj_pre"/></in>
                <and>
                  <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="prochain"/></equal>
                  <not><in caseless="yes"><clip pos="2" side="tl" part="lem"/><list n="mois"/></in></not>
                  <not><in caseless="yes"><clip pos="2" side="tl" part="lem"/><list n="jour"/></in></not>
                  <not><equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="semaine"/></equal></not>
                  <not><equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="mois"/></equal></not>
                  <not><equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="année"/></equal></not>
                  <not><equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="week-end"/></equal></not>
                  <not><equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="siècle"/></equal></not>
                </and>
              </or>
            </test>
            <out>
              <chunk name="a_n" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="n_a" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="a_adj"/>
                  <clip pos="3" side="tl" part="a_verb"/>
                  <clip pos="3" side="tl" part="temps"/>
                  <clip pos="3" side="tl" part="gen"/>
                  <clip pos="3" side="tl" part="nbr"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM ADJ ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_a_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM ADJ CNJCOO ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="cnjcoo"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_a_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="whole"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
                <clip pos="5" side="tl" part="gen"/>
                <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP DET QUITE NOM (per lo quite ministre > même par le ministre)">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="det"/>
        <pattern-item n="quite_adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="4"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="même" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <lit v="même"/>
              </get-case-from>
              <lit-tag v="adv"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <clip pos="2" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="4"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET QUITE NOM (lo quite ministre > même le ministre)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="quite_adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="même" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="même"/>
              </get-case-from>
              <lit-tag v="adv"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREP DET QUITE NOM ADJ (per lo quite ministre canadenc > même par le ministre canadien)">
      <pattern>
        <pattern-item n="pr"/>
        <pattern-item n="det"/>
        <pattern-item n="quite_adj"/>
        <pattern-item n="nom"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="4"/>
          <with-param pos="5"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
          <chunk name="même" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <lit v="même"/>
              </get-case-from>
              <lit-tag v="adv"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <clip pos="2" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="4"/>
        </call-macro>
        <out>
          <chunk name="n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET QUITE NOM ADJ (lo quite ministre canadenc > même le ministre canadien)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="quite_adj"/>
        <pattern-item n="nom"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="4"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="même" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="même"/>
              </get-case-from>
              <lit-tag v="adv"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM QUITE NOM (dos quites ministres > même deux ministres)">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="quite_adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="même" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="même"/>
              </get-case-from>
              <lit-tag v="adv"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="num_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NUM QUITE NOM (los quites dos ministres > même les deux ministres)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="quite_adj"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="4"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="même" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <get-case-from pos="1">
                <lit v="même"/>
              </get-case-from>
              <lit-tag v="adv"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <get-case-from pos="2">
                <clip pos="1" side="tl" part="lemh"/>
              </get-case-from>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="4"/>
        </call-macro>
        <out>
          <chunk name="num_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM DE DETDEFPL ADJPL (una femna de las grandas > une femme très grande)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="depr"/>
        <pattern-item n="detdefpl"/>
        <pattern-item n="adjpl"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="5"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <or>
                <and>
                  <or>
                    <equal><clip pos="1" side="sl" part="gen"/><lit-tag v="m"/></equal>
                    <equal><clip pos="2" side="sl" part="gen"/><lit-tag v="m"/></equal>
                  </or>
                  <not><equal><clip pos="4" side="sl" part="gen"/><lit-tag v="f"/></equal></not>
                  <not><equal><clip pos="5" side="sl" part="gen"/><lit-tag v="f"/></equal></not>
                </and>
                <and>
                  <or>
                    <equal><clip pos="1" side="sl" part="gen"/><lit-tag v="f"/></equal>
                    <equal><clip pos="2" side="sl" part="gen"/><lit-tag v="f"/></equal>
                  </or>
                  <not><equal><clip pos="4" side="sl" part="gen"/><lit-tag v="m"/></equal></not>
                  <not><equal><clip pos="5" side="sl" part="gen"/><lit-tag v="m"/></equal></not>
                </and>
              </or>
            </test>
            <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
            <out>
              <chunk namefrom="lemma" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
            <call-macro n="firstWord">
              <with-param pos="2"/>
            </call-macro>
            <choose>
              <when>
                <test>
                  <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                </test>
                <out>
                  <chunk name="n_a" case="caseFirstWord">
                    <tags>
                      <tag><lit-tag v="SN"/></tag>
                      <tag><clip pos="2" side="tl" part="gen"/></tag>
                      <tag><clip pos="2" side="tl" part="nbr"/></tag>
                      <tag><var n="genero_sl"/></tag>
                      <tag><var n="numero_sl"/></tag>
                    </tags>
                    <lu>
                      <clip pos="2" side="tl" part="lemh"/>
                      <clip pos="2" side="tl" part="tags"/>
                      <clip pos="2" side="tl" part="lemq"/>
                    </lu>
                    <b pos="2"/>
                    <lu>
                      <get-case-from pos="5">
                        <lit v="très"/>
                      </get-case-from>
                      <lit-tag v="preadv"/>
                    </lu>
                    <b pos="3"/>
                    <lu>
                      <clip pos="5" side="tl" part="lemh"/>
                      <clip pos="5" side="tl" part="a_adj"/>
                      <clip pos="5" side="tl" part="a_verb"/>
                      <clip pos="5" side="tl" part="temps"/>
                      <clip pos="5" side="tl" part="gen"/>
                      <lit-tag v="3"/>
                      <clip pos="5" side="tl" part="lemq"/>
                    </lu>
                  </chunk>
                </out>
              </when>
              <otherwise>
                <out>
                  <chunk name="n_a" case="caseFirstWord">
                    <tags>
                      <tag><lit-tag v="SN"/></tag>
                      <tag><clip pos="2" side="tl" part="gen"/></tag>
                      <tag><clip pos="2" side="tl" part="nbr"/></tag>
                      <tag><var n="genero_sl"/></tag>
                      <tag><var n="numero_sl"/></tag>
                    </tags>
                    <lu>
                      <clip pos="2" side="tl" part="lemh"/>
                      <clip pos="2" side="tl" part="tags"/>
                      <clip pos="2" side="tl" part="lemq"/>
                    </lu>
                    <b pos="2"/>
                    <lu>
                      <get-case-from pos="5">
                        <lit v="très"/>
                      </get-case-from>
                      <lit-tag v="preadv"/>
                    </lu>
                    <b pos="3"/>
                    <lu>
                      <clip pos="5" side="tl" part="lemh"/>
                      <clip pos="5" side="tl" part="a_adj"/>
                      <clip pos="5" side="tl" part="a_verb"/>
                      <clip pos="5" side="tl" part="temps"/>
                      <lit-tag v="2"/>
                      <lit-tag v="3"/>
                      <clip pos="5" side="tl" part="lemq"/>
                    </lu>
                  </chunk>
                </out>
              </otherwise>
            </choose>
          </when>
          <otherwise>
            <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
            <out>
              <chunk namefrom="lemma" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
            <call-macro n="firstWord">
              <with-param pos="2"/>
            </call-macro>
            <out>
              <chunk name="n" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="tags"/>
                  <clip pos="2" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="2"/>
            </out>
            <call-macro n="firstWord">
              <with-param pos="3"/>
            </call-macro>
            <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
            <out>
              <chunk namefrom="lemma" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="PREP"/></tag>
                </tags>
                <lu>
                  <clip pos="3" side="tl" part="whole"/>
                </lu>
              </chunk>
              <b pos="3"/>
            </out>
            <call-macro n="firstWord">
              <with-param pos="4"/>
            </call-macro>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="5" side="tl" part="gen"/></tag>
                  <tag><clip pos="5" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="4"/>
            </out>
            <call-macro n="firstWord">
              <with-param pos="5"/>
            </call-macro>
            <out>
              <chunk name="adj" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SA"/></tag>
                  <tag><clip pos="5" side="tl" part="gen"/></tag>
                  <tag><clip pos="5" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="tags"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM DE DETDEFPL ADJPL NOMPL (pour éviter le déclanchement de la règle précédante)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="depr"/>
        <pattern-item n="detdefpl"/>
        <pattern-item n="adjpl"/>
        <pattern-item n="nomsp_pl"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="2"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="3"/>
        </out>
        <call-macro n="f_concord3">
          <with-param pos="6"/>
          <with-param pos="5"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="firstWord">
          <with-param pos="4"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="6" side="tl" part="gen"/></tag>
              <tag><clip pos="6" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="4"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="5"/>
        </call-macro>
        <out>
          <chunk name="adj_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="6" side="tl" part="gen"/></tag>
              <tag><clip pos="6" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="5" side="tl" part="lemh"/>
              <clip pos="5" side="tl" part="tags"/>
              <clip pos="5" side="tl" part="lemq"/>
            </lu>
            <b pos="5"/>
            <lu>
              <clip pos="6" side="tl" part="lemh"/>
              <clip pos="6" side="tl" part="tags"/>
              <clip pos="6" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADJ NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="temps"/>
              <clip pos="2" side="tl" part="gen"/>
              <clip pos="2" side="tl" part="nbr"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADJ NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="a_n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NUM (l'8% > le 8%)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num_strict"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="GD"/></equal>
            </test>
            <let><clip pos="1" side="tl" part="gen"/><lit-tag v="m"/></let>
          </when>
        </choose>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <clip pos="1" side="tl" part="tags"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <out>
          <chunk name="num">
            <tags>
              <tag><lit-tag v="Num"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NUM NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="un"/></equal>
            </test>
            <out>
              <chunk name="environ" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SAdv"/></tag>
                </tags>
                <lu>
                   <lit v="environ"/>
                   <lit-tag v="adv"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </otherwise>
        </choose>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="num_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NUM NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="4"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="un"/></equal>
            </test>
            <out>
              <chunk name="environ" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SAdv"/></tag>
                </tags>
                <lu>
                   <lit v="environ"/>
                   <lit-tag v="adv"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </otherwise>
        </choose>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="num_n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NOM COMPADV ADJ (l'òme mai naut > l'homme le plus haut)">
      <pattern>
        <pattern-item n="detdef_pos"/>
        <pattern-item n="nom"/>
        <pattern-item n="compadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="set_detdef"/>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_adv_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <var n="v_detdef"/>
              <b/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NUM NOM COMPADV ADJ (los dos òmes mai nauts > les deux hommes les plus hauts)">
      <pattern>
        <pattern-item n="detdef_pos"/>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
        <pattern-item n="compadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="set_detdef"/>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_adv_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <var n="v_detdef"/>
              <b/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
                <clip pos="5" side="tl" part="gen"/>
                <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NOM COMPADV ADJ QUE (l'òme mai naut que > l'homme plus haut que)">
      <pattern>
        <pattern-item n="detdef_pos"/>
        <pattern-item n="nom"/>
        <pattern-item n="compadv"/>
        <pattern-item n="adjec"/>
        <pattern-item n="cnjsub"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_adv_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
            <b pos="4"/>
            <chunk name="cnjsub" case="caseFirstWord">
              <tags>
                <tag><lit-tag v="cnjsub"/></tag>
              </tags>
              <lu>
                <clip pos="5" side="tl" part="whole"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NOM COMPADV ADJ (l'òme blanc mai naut > l'homme blanc le plus haut)">
      <pattern>
        <pattern-item n="detdef_pos"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="compadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="set_detdef"/>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_adv_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <var n="v_detdef"/>
              <b/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
                <clip pos="5" side="tl" part="gen"/>
                <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NOM COMPADV ADJ QUE (l'òme blanc mai naut que > l'homme blanc plus haut que)">
      <pattern>
        <pattern-item n="detdef_pos"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="compadv"/>
        <pattern-item n="adjec"/>
        <pattern-item n="cnjsub"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_adv_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
                <clip pos="5" side="tl" part="gen"/>
                <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
            <b pos="5"/>
            <chunk name="cnjsub" case="caseFirstWord">
              <tags>
                <tag><lit-tag v="cnjsub"/></tag>
              </tags>
              <lu>
                <clip pos="6" side="tl" part="whole"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NOM ADV ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_adv_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ADV ADJ NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="4"/>
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="adv_a_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREDET DET NOM">
      <pattern>
        <pattern-item n="predet"/>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="d_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREDET DET NOM ADJ">
      <pattern>
        <pattern-item n="predet"/>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="4"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="d_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREDET DET ADJ NOM">
      <pattern>
        <pattern-item n="predet"/>
        <pattern-item n="det"/>
        <pattern-item n="adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="4"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <out>
          <chunk name="d_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF NP">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="np"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <or>
                <equal><clip pos="2" side="tl" part="a_np"/><lit-tag v="ant"/></equal>
                <equal><clip pos="2" side="tl" part="a_np"/><lit-tag v="cog"/></equal>
              </or>
            </test>
            <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
          </when>
          <otherwise>
            <out>
              <chunk name="det" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="Det"/></tag>
                  <tag><var n="tipusdet"/></tag>
                  <tag><clip pos="2" side="tl" part="gen"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
              <b pos="1"/>
            </out>
          </otherwise>
        </choose>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="np" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NPTOP: las nòstas Lanas > nos Landes (pour eviter la sur-génération d'articles)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="np"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="np" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ILLA NPTOP: illas Canàrias > îles Canaries (pour eviter la sur-génération d'articles)">
      <pattern>
        <pattern-item n="illa_n"/>
        <pattern-item n="np"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="n"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET ILLA NPTOP: las illas Canàrias > les îles Canaries (pour eviter la sur-génération d'articles)">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="illa_n"/>
        <pattern-item n="np"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="n"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET NPTOP ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="nptop"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="det" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="np_adj" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="a_nom"/>
                <clip pos="1" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ NOM">
      <pattern>
        <pattern-item n="adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="a_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM NOM">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="num_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM ADJ ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_a_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>

              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ NOM ADJ">
      <pattern>
        <pattern-item n="adj"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="a_n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM NOM ADJ">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="num_n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM ADJ NOM">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="num_a_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM ADV ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_adv_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADV ADJ NOM">
      <pattern>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="adv_a_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM »">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
        <pattern-item n="guillemet_droit"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <or>
                <in caseless="yes"><clip pos="4" side="sl" part="lem"/><list n="adj_pre"/></in>
                <and>
                  <equal caseless="yes"><clip pos="4" side="tl" part="lem"/><lit v="prochain"/></equal>
                  <not><in caseless="yes"><clip pos="3" side="tl" part="lem"/><list n="mois"/></in></not>
                  <not><in caseless="yes"><clip pos="3" side="tl" part="lem"/><list n="jour"/></in></not>
                  <not><equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="semaine"/></equal></not>
                  <not><equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="mois"/></equal></not>
                  <not><equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="année"/></equal></not>
                  <not><equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="week-end"/></equal></not>
                  <not><equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="siècle"/></equal></not>
                </and>
              </or>
            </test>
            <out>
              <chunk name="a_n" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="tags"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="n_a" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <clip pos="4" side="tl" part="lemh"/>
                  <clip pos="4" side="tl" part="a_adj"/>
                  <clip pos="4" side="tl" part="a_verb"/>
                  <clip pos="4" side="tl" part="temps"/>
                  <clip pos="4" side="tl" part="gen"/>
                  <clip pos="4" side="tl" part="nbr"/>
                  <clip pos="4" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM ADJ ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="n_a_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
                <clip pos="5" side="tl" part="gen"/>
                <clip pos="5" side="tl" part="nbr"/>
				<clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM » ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
        <pattern-item n="guillemet_droit"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <or>
                <in caseless="yes"><clip pos="5" side="sl" part="lem"/><list n="adj_pre"/></in>
                <and>
                  <equal caseless="yes"><clip pos="5" side="tl" part="lem"/><lit v="prochain"/></equal>
                  <not><in caseless="yes"><clip pos="3" side="tl" part="lem"/><list n="mois"/></in></not>
                  <not><in caseless="yes"><clip pos="3" side="tl" part="lem"/><list n="jour"/></in></not>
                  <not><equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="semaine"/></equal></not>
                  <not><equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="mois"/></equal></not>
                  <not><equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="année"/></equal></not>
                  <not><equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="week-end"/></equal></not>
                  <not><equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="siècle"/></equal></not>
                </and>
              </or>
            </test>
            <out>
              <chunk name="a_n" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="tags"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="4"/>
                <lu>
                  <clip pos="4" side="tl" part="whole"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="n_a" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SN"/></tag>
                  <tag><clip pos="3" side="tl" part="gen"/></tag>
                  <tag><clip pos="3" side="tl" part="nbr"/></tag>
                  <tag><var n="genero_sl"/></tag>
                  <tag><var n="numero_sl"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="whole"/>
                </lu>
                <b pos="2"/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="tags"/>
                  <clip pos="3" side="tl" part="lemq"/>
                </lu>
                <b pos="3"/>
                <lu>
                  <clip pos="4" side="tl" part="whole"/>
                </lu>
                <b pos="4"/>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_adj"/>
                  <clip pos="5" side="tl" part="a_verb"/>
                  <clip pos="5" side="tl" part="temps"/>
                  <clip pos="5" side="tl" part="gen"/>
                  <clip pos="5" side="tl" part="nbr"/>
                  <clip pos="5" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: DET « NOM » ADJ ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="guillemet_gauche"/>
        <pattern-item n="nom"/>
        <pattern-item n="guillemet_droit"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="5"/>
          <with-param pos="6"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="n_a_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
            <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
                <clip pos="5" side="tl" part="gen"/>
                <clip pos="5" side="tl" part="nbr"/>
                <clip pos="5" side="tl" part="lemq"/>
              </lu>
              <b pos="5"/>
              <lu>
                <clip pos="6" side="tl" part="lemh"/>
                <clip pos="6" side="tl" part="a_adj"/>
                <clip pos="6" side="tl" part="a_verb"/>
                <clip pos="6" side="tl" part="temps"/>
                <clip pos="6" side="tl" part="gen"/>
                <clip pos="6" side="tl" part="nbr"/>
				<clip pos="6" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF NOM">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="n"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF ADJ">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_adj"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="temps"/>
              <lit-tag v="2"/>
              <lit-tag v="3"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF PP">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="pp"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><lit-tag v="pp"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="a_verb"/>
              <clip pos="2" side="tl" part="temps"/>
              <lit-tag v="3"/>
              <lit-tag v="4"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF NOM ADJ">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
            <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_nom"/>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM PREF ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="pref"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="a_nom"/>
                <clip pos="1" side="tl" part="gen"/>
                <clip pos="1" side="tl" part="nbr"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF ADJ NOM">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="adj"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="a_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="whole"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ PREF NOM">
      <pattern>
        <pattern-item n="adj"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="a_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM PREF NOM">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="num_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF NOM ADJ ADJ">
      <pattern>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n_a_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="whole"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>

              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM PREF ADJ ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="pref"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="1"/>
          <with-param pos="3"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_a_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM ADJ PREF ADJ">
      <pattern>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="pref"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="1"/>
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="n_a_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="whole"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM PREF NOM ADJ">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="num_n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM NOM PREF ADJ">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="nom"/>
        <pattern-item n="pref"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="2"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="num_n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="tags"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="whole"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM PREF ADJ NOM">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="pref"/>
        <pattern-item n="adjec"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="4"/>
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <out>
          <chunk name="num_a_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="whole"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="a_adj"/>
                <clip pos="3" side="tl" part="a_verb"/>
                <clip pos="3" side="tl" part="temps"/>
                <clip pos="3" side="tl" part="gen"/>
                <clip pos="3" side="tl" part="nbr"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUM ADJ PREF NOM">
      <pattern>
        <pattern-item n="num"/>
        <pattern-item n="adjec"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="4"/>
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="4"/>
        </call-macro>
        <out>
          <chunk name="num_a_n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="4" side="tl" part="gen"/></tag>
              <tag><clip pos="4" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
              <lu>
                <clip pos="1" side="tl" part="lemh"/>
                <clip pos="1" side="tl" part="tags"/>
                <clip pos="1" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <clip pos="2" side="tl" part="lemh"/>
                <clip pos="2" side="tl" part="a_adj"/>
                <clip pos="2" side="tl" part="a_verb"/>
                <clip pos="2" side="tl" part="temps"/>
                <clip pos="2" side="tl" part="gen"/>
                <clip pos="2" side="tl" part="nbr"/>
                <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="whole"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="tags"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET PREF NOM">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET PREF NOM ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DET PREF NOM ADJ ADJ">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="pref"/>
        <pattern-item n="nom"/>
        <pattern-item n="adjec"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord4">
          <with-param pos="3"/>
          <with-param pos="1"/>
          <with-param pos="4"/>
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="n_a_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="3" side="tl" part="gen"/></tag>
              <tag><clip pos="3" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
              <lu>
                <clip pos="3" side="tl" part="lemh"/>
                <clip pos="3" side="tl" part="tags"/>
                <clip pos="3" side="tl" part="lemq"/>
              </lu>
              <b pos="3"/>
              <lu>
                <clip pos="4" side="tl" part="lemh"/>
                <clip pos="4" side="tl" part="a_adj"/>
                <clip pos="4" side="tl" part="a_verb"/>
                <clip pos="4" side="tl" part="temps"/>
                <clip pos="4" side="tl" part="gen"/>
                <clip pos="4" side="tl" part="nbr"/>
                <clip pos="4" side="tl" part="lemq"/>
              </lu>
              <b pos="4"/>
              <lu>
                <clip pos="5" side="tl" part="lemh"/>
                <clip pos="5" side="tl" part="a_adj"/>
                <clip pos="5" side="tl" part="a_verb"/>
                <clip pos="5" side="tl" part="temps"/>
                <clip pos="5" side="tl" part="gen"/>
                <clip pos="5" side="tl" part="nbr"/>
				<clip pos="5" side="tl" part="lemq"/>
              </lu>
            </chunk>
         </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS ACÒRDI -->


    <!-- RÈGLAS HORAS -->

   <rule comment="RÈGLA: VBSER UNA ORA (es una ora > il est une heure)" v="oci">
      <pattern>
        <pattern-item n="vbser_p3sg"/>
        <pattern-item n="una"/>
        <pattern-item n="nom_ora"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="1"/>
        </call-macro>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <out>
           <chunk name="prpers" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><lit-tag v="tn"/></tag>
               <tag><lit-tag v="m.sg"/></tag>
             </tags>
             <lu>
               <get-case-from pos="1">
                <lit v="il"/>
               </get-case-from>
               <lit-tag v="prn.tn.p3.m.sg"/>
             </lu>
           </chunk>
           <b/>
           <chunk name="vbser">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <get-case-from pos="3">
                 <clip pos="1" side="tl" part="lem"/>
               </get-case-from>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
             </lu>
           </chunk>
           <b pos="1"/>
           <chunk name="num_n">
             <tags>
               <tag><lit-tag v="SN"/></tag>
               <tag><clip pos="3" side="tl" part="gen"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: VBSER DETDEF UA ÒRA (ei l'ua òra > il est une heure)" v="oci@gascon">
      <pattern>
        <pattern-item n="vbser_p3sg"/>
        <pattern-item n="detdef"/>
        <pattern-item n="una"/>
        <pattern-item n="nom_ora"/>
      </pattern>
      <action>
        <call-macro n="f_concord3">
          <with-param pos="4"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="1"/>
        </call-macro>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <out>
           <chunk name="prpers" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><lit-tag v="tn"/></tag>
               <tag><lit-tag v="m.sg"/></tag>
             </tags>
             <lu>
               <get-case-from pos="1">
                <lit v="il"/>
               </get-case-from>
               <lit-tag v="prn.tn.p3.m.sg"/>
             </lu>
           </chunk>
           <b/>
           <chunk name="vbser">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <get-case-from pos="2">
                 <clip pos="1" side="tl" part="lem"/>
               </get-case-from>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="3"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
             </lu>
           </chunk>
           <b pos="1"/>
           <chunk name="num_n">
             <tags>
               <tag><lit-tag v="SN"/></tag>
               <tag><clip pos="4" side="tl" part="gen"/></tag>
               <tag><clip pos="4" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
          </chunk>
        </out>
      </action>
    </rule>

   <rule comment="RÈGLA: VBSER NUM ORA (son doas oras > il est deux heures)">
      <pattern>
        <pattern-item n="vbser_p3pl"/>
        <pattern-item n="num"/>
        <pattern-item n="nom_ora"/>
      </pattern>
      <action>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="tipus_verb">
         <with-param pos="1"/>
        </call-macro>
        <out>
           <chunk name="prpers" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SPron"/></tag>
               <tag><lit-tag v="tn"/></tag>
               <tag><lit-tag v="m.sg"/></tag>
             </tags>
             <lu>
               <get-case-from pos="1">
                <lit v="il"/>
               </get-case-from>
               <lit-tag v="prn.tn.p3.m.sg"/>
             </lu>
           </chunk>
           <b/>
           <chunk name="vbser">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><var n="tipusverb"/></tag>
             </tags>
             <lu>
               <get-case-from pos="2">
                 <clip pos="1" side="tl" part="lem"/>
               </get-case-from>
               <lit-tag v="vbser"/>
               <lit-tag v="3"/>
               <lit-tag v="p3"/>
               <lit-tag v="sg"/>
             </lu>
           </chunk>
           <b pos="2"/>
           <chunk name="num_n">
             <tags>
               <tag><lit-tag v="SN"/></tag>
               <tag><clip pos="3" side="tl" part="gen"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS HORAS -->


    <!-- RÈGLAS DE ... ESTANT/ENLÀ/ENÇÀ -->

    <rule comment="RÈGLA: DE NOM ESTANT > DEPUIS DETDEF NOM (de casa estant > depuis la maison)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="nomsp_sg"/>
        <pattern-item n="estant"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_det_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                 <lit v="le"/>
              </get-case-from>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE NOM ENLÀ > À PARTIR DE DETDEF NOM (de casa enlà > à partir de la maison)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="nomsp_sg"/>
        <pattern-item n="enlà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_det_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="à partir de"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                 <lit v="le"/>
              </get-case-from>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE NOM ENÇÀ > DEPUIS DETDEF NOM (de casa ençà > depuis la maison)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="nomsp_sg"/>
        <pattern-item n="ençà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_det_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <get-case-from pos="2">
                 <lit v="le"/>
              </get-case-from>
              <lit-tag v="det.def"/>
              <clip pos="2" side="tl" part="gen"/>
              <lit-tag v="sg"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE NP ESTANT > DEPUIS NP (de Tolosa estant > depuis Toulouse)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="np"/>
        <pattern-item n="estant"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_np" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE NP ENLÀ > À PARTIR DE NP (de Tolosa enlà > à partir de Toulouse)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="np"/>
        <pattern-item n="enlà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_np" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="à partir de"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE NP ENLÀ > À PARTIR DE NP (de Tolosa enlà > à partir de Toulouse)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="np"/>
        <pattern-item n="enlà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_np" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="à partir de"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE NP ENÇÀ > DEPUIS NP (de Tolosa ençà > depuis Toulouse)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="np"/>
        <pattern-item n="ençà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_np" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DET NOM ESTANT > DEPUIS DET NOM (d'una casa estant > depuis une maison)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="estant"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_det_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DET NOM ENLÀ > À PARTIR DE DET NOM (d'una casa enlà > à partir d'une maison)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="enlà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_det_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="à partir de"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DET NOM ENÇÀ > DEPUIS DET NOM (d'una casa ençà > depuis une maison)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="det"/>
        <pattern-item n="nom"/>
        <pattern-item n="ençà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_det_nom" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DET NUMERAL DE MOIS ENLÀ > À PARTIR DE DET NUMERAL MOIS (de lo 20 de novembre enlà > à partir du 20 novembre)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="det"/>
        <pattern-item n="num_premier"/>
        <pattern-item n="depr"/>
        <pattern-item n="nom_mes"/>
        <pattern-item n="enlà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="5"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="à partir de"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DET NUMERAL DE MOIS ENÇÀ > DEPUIS DET NUMERAL MOIS (de lo 20 de novembre ençà > depuis le 20 novembre)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="det"/>
        <pattern-item n="num_premier"/>
        <pattern-item n="depr"/>
        <pattern-item n="nom_mes"/>
        <pattern-item n="ençà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="5"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DET NUMERAL DE MOIS DE NUM ENLÀ > À PARTIR DE DET NUMERAL MOIS NUM (de lo 20 de novembre 2020 enlà > à partir du 20 novembre 2020)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="det"/>
        <pattern-item n="num_premier"/>
        <pattern-item n="depr"/>
        <pattern-item n="nom_mes"/>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
        <pattern-item n="enlà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="5"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="à partir de"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="7" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DET NUMERAL DE MOIS DE NUM ENÇÀ > DEPUIS DET NUMERAL MOIS NUM (de lo 20 de novembre 2020 ençà > depuis le 20 novembre 2020)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="det"/>
        <pattern-item n="num_premier"/>
        <pattern-item n="depr"/>
        <pattern-item n="nom_mes"/>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
        <pattern-item n="ençà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord3">
          <with-param pos="5"/>
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="5" side="tl" part="whole"/>
            </lu>
            <b pos="4"/>
            <lu>
              <clip pos="7" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE NUM ORA ENLÀ > À PARTIR DE NUM HEURE (de 2 oras enlà > à partir de 2 oras)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
        <pattern-item n="nom_ora"/>
        <pattern-item n="enlà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="à partir de"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE NUM ORA ENÇÀ > DEPUIS NUM HEURE (de 2 oras ençà > depuis 2 heures)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
        <pattern-item n="nom_ora"/>
        <pattern-item n="ençà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE NUM ORA_ABREV ENLÀ > À PARTIR DE NUM HEURE_ABREV (de 2 o. enlà > à partir de 2 h.)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
        <pattern-item n="nom_ora_abrev"/>
        <pattern-item n="sent"/>
        <pattern-item n="enlà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="à partir de"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
               <lit v="h."/>
               <lit-tag v="n.f.sp"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE NUM ORA_ABREV ENÇÀ > DEPUIS NUM HEURE_ABREV (de 2 o. ençà > depuis 2 h.)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="num"/>
        <pattern-item n="nom_ora_abrev"/>
        <pattern-item n="sent"/>
        <pattern-item n="ençà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
               <lit v="h."/>
               <lit-tag v="n.f.sp"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DETDEF UNA ORA ENLÀ > À PARTIR D'UNE HEURE (de l'una ora enlà > à partir d'une heure)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="una"/>
        <pattern-item n="nom_ora"/>
        <pattern-item n="enlà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="à partir de"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DETDEF UNA ORA ENÇÀ > DEPUIS UNE HEURE (de l'una ora ençà > depuis une heure)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="una"/>
        <pattern-item n="nom_ora"/>
        <pattern-item n="ençà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DETDEF UNA ORA_ABREV ENLÀ > À PARTIR D'UNE HEURE_ABREV (de l'una o. enlà > à partir de une h.)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="una"/>
        <pattern-item n="nom_ora_abrev"/>
        <pattern-item n="sent"/>
        <pattern-item n="enlà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="à partir de"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
               <lit v="h."/>
               <lit-tag v="n.f.sp"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE DETDEF UNA ORA_ABREV ENÇÀ > DEPUIS UNE HEURE_ABREV (de l'una o. ençà > depuis une h.)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="detdef"/>
        <pattern-item n="una"/>
        <pattern-item n="nom_ora_abrev"/>
        <pattern-item n="sent"/>
        <pattern-item n="ençà"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="3"/>
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="pr_data" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
               <lit v="depuis"/>
               <lit-tag v="pr"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="whole"/>
            </lu>
            <b pos="2"/>
            <lu>
               <lit v="h."/>
               <lit-tag v="n.f.sp"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS DE ... ESTANT/ENLÀ/ENÇÀ -->


    <!-- RÈGLAS CAMBI AUXILIAR -->

    <rule comment="RÈGLA: SER SER_PP > HAVER + SER_PP: soi estat > ai été">
       <pattern>
         <pattern-item n="vbser"/>
         <pattern-item n="vbser_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_vchunk_name">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="2"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbhaver"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <lit v="avoir"/>
               <lit-tag v="vbhaver"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
             </lu>
           </chunk>
           <b pos="1"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="2"/>
         </call-macro>
         <call-macro n="f_chunk_tags">
           <with-param pos="2"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SA"/></tag>
               <tag><lit-tag v="pp"/></tag>
               <tag><lit-tag v="m"/></tag>
               <tag><lit-tag v="sg"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="temps"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: SER ADV SER_PP > HAVER + ADV SER_PP: soi pas estat > ai pas été">
       <pattern>
         <pattern-item n="vbser"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_vchunk_name">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbhaver"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <lit v="avoir"/>
               <lit-tag v="vbhaver"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
             </lu>
           </chunk>
           <b pos="1"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="2"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
         <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
               <tag><clip pos="2" side="tl" part="a_pas_neg"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="3"/>
         </call-macro>
         <call-macro n="f_chunk_tags">
           <with-param pos="3"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SA"/></tag>
               <tag><lit-tag v="pp"/></tag>
               <tag><clip pos="3" side="tl" part="gen"/></tag>
               <tag><clip pos="3" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <clip pos="3" side="tl" part="temps"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: SER ADV ADV SER_PP > HAVER + ADV ADV SER_PP: soi pas jamai estat > ai pas jamais été">
       <pattern>
         <pattern-item n="vbser"/>
         <pattern-item n="adv"/>
         <pattern-item n="adv"/>
         <pattern-item n="vbser_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_vchunk_name">
          <with-param pos="1"/>
        </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_concord1">
          <with-param pos="4"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbhaver"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <lit v="avoir"/>
               <lit-tag v="vbhaver"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
             </lu>
           </chunk>
           <b pos="1"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="2"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
         <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
               <tag><clip pos="2" side="tl" part="a_pas_neg"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="3"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
         <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
               <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_chunk_tags">
           <with-param pos="4"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SA"/></tag>
               <tag><lit-tag v="pp"/></tag>
               <tag><clip pos="4" side="tl" part="gen"/></tag>
               <tag><clip pos="4" side="tl" part="nbr"/></tag>
               <tag><var n="genero_sl"/></tag>
               <tag><var n="numero_sl"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_verb"/>
               <clip pos="4" side="tl" part="temps"/>
               <lit-tag v="3"/>
               <lit-tag v="4"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <!-- FIN RÈGLAS CAMBI AUXILIAR -->


    <!-- RÈGLAS PRONÒMS -->

    <rule comment="RÈGLA: PRNPRO PRNPRO (n'i > y en ; li o > le lui, o li > le lui)" v="oci">
      <pattern>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
      </pattern>
      <action>
         <choose>
           <when>
             <!-- D'après Alibèrt il y a différents ordres des pronoms en languedocien. Nous tâchons de les traiter tous -->
             <test>
               <or>
                 <and>
                   <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="en"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="y"/></equal>
                 </and>
                 <and>
                   <or>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="lo"/></equal>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="o"/></equal>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="en"/></equal>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="y"/></equal>
                   </or>
                   <or>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="me"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="te"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="se"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="nos"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="vos"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="li"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="lor"/></equal>
                   </or>
                 </and>
                 <and>
                   <or>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="li"/></equal>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="lor"/></equal>
                   </or>
                   <or>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="me"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="te"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="se"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="nos"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="vos"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="lo"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="o"/></equal>
                   </or>
                 </and>
               </or>
             </test>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="2" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="firstWord">
               <with-param pos="1"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <get-case-from pos="2">
                     <clip pos="1" side="tl" part="lemh"/>
                   </get-case-from>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>

           <when>
             <test>
               <and>
                 <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="se"/></equal>
                 <or>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="me"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="te"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="lui"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="nous"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="vous"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="leur"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="firstWord">
               <with-param pos="1"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
           </when>

           <otherwise>
             <call-macro n="firstWord">
               <with-param pos="1"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="2" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
      </action>
    </rule>


    <rule comment="RÈGLA: PRNPRO PRNPRO (n'i > y en ; l'ac > le lui)" v="oci@gascon">
      <pattern>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
      </pattern>
      <action>
         <choose>
           <when>
             <test>
               <or>
                 <and>
                   <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="i"/></equal>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="en"/></equal>
                 </and>
                 <and>
                   <or>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="lo"/></equal>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="i"/></equal>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="en"/></equal>
                   </or>
                   <or>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="me"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="te"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="se"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="nos"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="vos"/></equal>
                   </or>
                 </and>
                 <and>
                   <or>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="i"/></equal>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="en"/></equal>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="lo"/></equal>
                   </or>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="ac"/></equal>
                 </and>
               </or>
             </test>
             <!-- changement d'ordre CD CI -->
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="2" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="firstWord">
               <with-param pos="1"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <get-case-from pos="2">
                     <clip pos="1" side="tl" part="lemh"/>
                   </get-case-from>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>

           <when>
             <test>
               <and>
                 <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="se"/></equal>
                 <or>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="me"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="te"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="le"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="nous"/></equal>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="vous"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="firstWord">
               <with-param pos="1"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
           </when>

           <otherwise>
             <call-macro n="firstWord">
               <with-param pos="1"/>
             </call-macro>
             <choose>
               <when>
                 <test>
                   <and>
                     <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="lo"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="ac"/></equal>
                   </and>
                 </test>
                 <let><clip pos="1" side="tl" part="lem"/><get-case-from pos="1"><lit v="le"/></get-case-from></let>
                 <let><clip pos="2" side="tl" part="lem"/><get-case-from pos="1"><lit v="lui"/></get-case-from></let>
                 <let><clip pos="2" side="tl" part="gen"/><lit-tag v="mf.sg"/></let>
               </when>
             </choose>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lemh"/>
                   <clip pos="1" side="tl" part="tags"/>
                   <clip pos="1" side="tl" part="lemq"/>
                 </lu>
               </chunk>
               <b pos="1"/>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="2" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="tags"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
      </action>
    </rule>

    <!-- FIN RÈGLAS PRONÒMS -->


    <!-- RÈGLAS 'ES A + INF' -->

    <rule comment="RÈGLA: SER A INF > SER EN TRAIN DE INF: soi a parlar > suis en train de parler">
       <pattern>
         <pattern-item n="vbser"/>
         <pattern-item n="apr"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <equal><var n="EOS"/><lit v="true"/></equal>
            </test>
            <modify-case><var n="lemma"/><lit v="Aa"/></modify-case>
          </when>
        </choose>
        <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <call-macro n="firstWord">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
             <b pos="1"/>
             <lu>
               <lit v="en train de"/>
               <lit-tag v="pr"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: SER ADV A INF > SER ADV EN TRAIN DE INF: soi encara a parlar > suis encore en train de parler">
       <pattern>
         <pattern-item n="vbser"/>
         <pattern-item n="adv"/>
         <pattern-item n="apr"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <equal><var n="EOS"/><lit v="true"/></equal>
            </test>
            <modify-case><var n="lemma"/><lit v="Aa"/></modify-case>
          </when>
        </choose>
        <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <call-macro n="firstWord">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_vchunk_name">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="1"/>
         </call-macro>
         <out>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="1"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="2"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
         <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
               <tag><clip pos="2" side="tl" part="a_pas_neg"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk name="en train de" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="PREP"/></tag>
             </tags>
             <lu>
               <lit v="en train de"/>
               <lit-tag v="pr"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_vchunk_name">
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="tipus_verb">
           <with-param pos="4"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><clip pos="4" side="tl" part="pers"/></tag>
               <tag><clip pos="4" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: SER ADV ADV A INF > SER + ADV ADV EN TRAIN DE INF: soi pas encara a parlar > suis pas encore en train de parler">
       <pattern>
         <pattern-item n="vbser"/>
         <pattern-item n="adv"/>
         <pattern-item n="adv"/>
         <pattern-item n="apr"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <equal><var n="EOS"/><lit v="true"/></equal>
            </test>
            <modify-case><var n="lemma"/><lit v="Aa"/></modify-case>
          </when>
        </choose>
        <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <call-macro n="firstWord">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="1"/>
         </call-macro>
         <out>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="1"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="2"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
         <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
               <tag><clip pos="2" side="tl" part="a_pas_neg"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="3"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
         <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
               <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="4"/>
         </call-macro>
         <out>
           <chunk name="en train de" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="PREP"/></tag>
             </tags>
             <lu>
               <lit v="en train de"/>
               <lit-tag v="pr"/>
             </lu>
           </chunk>
           <b pos="4"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_vchunk_name">
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="tipus_verb">
           <with-param pos="5"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="5" side="tl" part="temps"/></tag>
               <tag><clip pos="5" side="tl" part="pers"/></tag>
               <tag><clip pos="5" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: SER A INF PRNENC > SER EN TRAIN DE PRNPRO INF: qu'ei a demandà's > est en train de se demander">
       <pattern>
         <pattern-item n="vbser"/>
         <pattern-item n="apr"/>
         <pattern-item n="inf"/>
         <pattern-item n="prnenc"/>
       </pattern>
       <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <equal><var n="EOS"/><lit v="true"/></equal>
            </test>
            <modify-case><var n="lemma"/><lit v="Aa"/></modify-case>
          </when>
        </choose>
        <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <call-macro n="firstWord">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_vchunk_name">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
             <b pos="1"/>
             <lu>
               <lit v="en train de"/>
               <lit-tag v="pr"/>
             </lu>
             <b pos="2"/>
             <lu>
               <clip pos="4" side="tl" part="lem"/>
               <lit-tag v="prn.pro"/>
               <clip pos="4" side="tl" part="tipoenc_pro"/>
             </lu>
             <b/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: SER ADV A INF PRNENC > SER ADV EN TRAIN DE PRNPRO INF: qu'ei pas a demandà's > est pas en train de se demander">
       <pattern>
         <pattern-item n="vbser"/>
         <pattern-item n="adv"/>
         <pattern-item n="apr"/>
         <pattern-item n="inf"/>
         <pattern-item n="prnenc"/>
       </pattern>
       <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <equal><var n="EOS"/><lit v="true"/></equal>
            </test>
            <modify-case><var n="lemma"/><lit v="Aa"/></modify-case>
          </when>
        </choose>
        <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <call-macro n="firstWord">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="1"/>
         </call-macro>
         <out>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="1"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="2"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
         <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
               <tag><clip pos="2" side="tl" part="a_pas_neg"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="3"/>
         </call-macro>
         <out>
           <chunk name="en train de" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="PREP"/></tag>
             </tags>
             <lu>
               <lit v="en train de"/>
               <lit-tag v="pr"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="f_vchunk_name">
           <with-param pos="4"/>
         </call-macro>
         <call-macro n="tipus_verb">
           <with-param pos="4"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="4" side="tl" part="temps"/></tag>
               <tag><clip pos="4" side="tl" part="pers"/></tag>
               <tag><clip pos="4" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="5" side="tl" part="lem"/>
               <lit-tag v="prn.pro"/>
               <clip pos="5" side="tl" part="tipoenc_pro"/>
             </lu>
             <b/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="tags"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: SER ADV ADV A INF PRNENC > SER ADV ADV EN TRAIN DE PRNPRO INF: qu'ei pas encara a demandà's > est pas encore en train de se demander">
       <pattern>
         <pattern-item n="vbser"/>
         <pattern-item n="adv"/>
         <pattern-item n="adv"/>
         <pattern-item n="apr"/>
         <pattern-item n="inf"/>
         <pattern-item n="prnenc"/>
       </pattern>
       <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <equal><var n="EOS"/><lit v="true"/></equal>
            </test>
            <modify-case><var n="lemma"/><lit v="Aa"/></modify-case>
          </when>
        </choose>
        <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <call-macro n="firstWord">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
          <with-param pos="1"/>
         </call-macro>
         <out>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="1"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="2"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
         <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
               <tag><clip pos="2" side="tl" part="a_pas_neg"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="2"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="3"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
         <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
               <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="tags"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
           <b pos="3"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="4"/>
         </call-macro>
         <out>
           <chunk name="en train de" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="PREP"/></tag>
             </tags>
             <lu>
               <lit v="en train de"/>
               <lit-tag v="pr"/>
             </lu>
           </chunk>
           <b pos="4"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="f_vchunk_name">
           <with-param pos="5"/>
         </call-macro>
         <call-macro n="tipus_verb">
           <with-param pos="5"/>
         </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="5" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="5" side="tl" part="temps"/></tag>
               <tag><clip pos="5" side="tl" part="pers"/></tag>
               <tag><clip pos="5" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="6" side="tl" part="lem"/>
               <lit-tag v="prn.pro"/>
               <clip pos="6" side="tl" part="tipoenc_pro"/>
             </lu>
             <b/>
             <lu>
               <clip pos="5" side="tl" part="lemh"/>
               <clip pos="5" side="tl" part="tags"/>
               <clip pos="5" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <!-- FIN RÈGLAS 'ES A + INF' -->


    <!-- RÈGLAS 'TORNAR + INF' -->

    <rule comment="RÈGLA: tornar_conj vèrb_inf > vèrb_conj à nouveau">
       <pattern>
         <pattern-item n="tornar_conj"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_vchunk_name">
          <with-param pos="1"/>
        </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <get-case-from pos="2">
                   <lit v="à nouveau"/>
                </get-case-from>
                <lit-tag v="adv"/>
              </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: tornar_conj adv vèrb_inf > vèrb_conj à nouveau adv">
       <pattern>
         <pattern-item n="tornar_conj"/>
         <pattern-item n="adv"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_vchunk_name">
          <with-param pos="1"/>
        </call-macro>
         <out>
           <chunk namefrom="chunkname" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="lemq"/>
              </lu>
           </chunk>
           <b pos="1"/>
         </out>
         <call-macro n="firstWord">
           <with-param pos="2"/>
         </call-macro>
         <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
         <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
               <tag><clip pos="2" side="tl" part="a_pas_neg"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="tags"/>
               <clip pos="2" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
         <call-macro n="firstWord">
           <with-param pos="2"/>
         </call-macro>
         <let><var n="lemma"/><lit v="à nouveau"/></let>
         <out>
           <b pos="2"/>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SAdv"/></tag>
             </tags>
             <lu>
                <get-case-from pos="2">
                   <lit v="à nouveau"/>
                </get-case-from>
                <lit-tag v="adv"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: tornar_inf_ger vèrb_inf > vèrb_inf_ger à nouveau">
       <pattern>
         <pattern-item n="tornar_inf_ger"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
         <out>
           <chunk name="verbinf_ger" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="2" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="2" side="tl" part="lemh"/>
               <clip pos="2" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="2" side="tl" part="lemq"/>
              </lu>
              <b pos="1"/>
              <lu>
                <get-case-from pos="2">
                   <lit v="à nouveau"/>
                </get-case-from>
                <lit-tag v="adv"/>
              </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: tornar_inf_ger pas vèrb_inf > ne pas vèrb_inf_ger à nouveau">
       <pattern>
         <pattern-item n="tornar_inf_ger"/>
         <pattern-item n="pas_adv"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
         <out>
           <chunk name="verbinf_ger" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="3" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <get-case-from pos="1">
                 <lit v="ne"/>
               </get-case-from>
               <lit-tag v="adv"/>
             </lu>
             <b/>
             <lu>
               <get-case-from pos="2">
                 <lit v="pas"/>
               </get-case-from>
               <lit-tag v="adv"/>
             </lu>
             <b pos="1"/>
             <lu>
               <clip pos="3" side="tl" part="lemh"/>
               <clip pos="3" side="tl" part="a_verb"/>
               <clip pos="1" side="tl" part="temps"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="3" side="tl" part="lemq"/>
             </lu>
             <b pos="2"/>
             <lu>
               <get-case-from pos="3">
                 <lit v="à nouveau"/>
               </get-case-from>
               <lit-tag v="adv"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: prnpro tornar_inf_ger pas vèrb_inf > ne pas prnpro vèrb_inf_ger à nouveau (de se tornar pas presentar > de ne pas se présenter à nouveau)">
       <pattern>
         <pattern-item n="prnpro"/>
         <pattern-item n="tornar_inf_ger"/>
         <pattern-item n="pas_adv"/>
         <pattern-item n="inf"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="4"/>
        </call-macro>
         <out>
           <chunk name="verbinf_ger" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="4" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="2" side="tl" part="temps"/></tag>
               <tag><clip pos="2" side="tl" part="pers"/></tag>
               <tag><clip pos="2" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <get-case-from pos="1">
                 <lit v="ne"/>
               </get-case-from>
               <lit-tag v="adv"/>
             </lu>
             <b/>
             <lu>
               <get-case-from pos="2">
                 <lit v="pas"/>
               </get-case-from>
               <lit-tag v="adv"/>
             </lu>
             <b pos="1"/>
             <lu>
               <get-case-from pos="2">
                 <clip pos="1" side="tl" part="lem"/>
               </get-case-from>
               <clip pos="1" side="tl" part="tags"/>
             </lu>
             <b pos="1"/>
             <lu>
               <clip pos="4" side="tl" part="lemh"/>
               <clip pos="4" side="tl" part="a_verb"/>
               <clip pos="2" side="tl" part="temps"/>
               <clip pos="2" side="tl" part="pers"/>
               <clip pos="2" side="tl" part="gen"/>
               <clip pos="2" side="tl" part="nbr"/>
               <clip pos="4" side="tl" part="lemq"/>
             </lu>
             <b pos="3"/>
             <lu>
               <get-case-from pos="3">
                 <lit v="à nouveau"/>
               </get-case-from>
               <lit-tag v="adv"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <!-- FIN RÈGLAS 'TORNAR + INF' -->


    <!-- RÈGLAS 'PRONOM DATIU > PRONOM SUBJÈCTE' -->

    <rule comment="RÈGLA: PRNPRO_CI VERB_DAT2NOM (me dòl > me fait mal ; me dòl lo cap > j'ai mal à la tête)" v="oci">
       <pattern>
         <pattern-item n="prnpro_ci_leng"/>
         <pattern-item n="verb_dat2nom_conj"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="2" side="tl" part="a_dat2nom"/><lit v=""/></equal>
             </test>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn.pro"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <choose>
               <when>
                 <test>
                   <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="li"/></equal>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><var n="genero"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <var n="genero"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="mf"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
         <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO_CI VERB_DAT2NOM (me hè dòu > je regrette)" v="oci@gascon">
       <pattern>
         <pattern-item n="prnpro_ci_gasc"/>
         <pattern-item n="verb_dat2nom_conj"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="2" side="tl" part="a_dat2nom"/><lit v=""/></equal>
             </test>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn.pro"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <choose>
               <when>
                 <test>
                   <and>
                     <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal>
                     <not><equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal></not>
                   </and>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <clip pos="1" side="tl" part="gen"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <when>
                 <test>
                   <and>
                     <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal>
                     <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                   </and>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><lit-tag v="m"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="m"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="mf"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO_CI HAVER VERB_DAT2NOM_PP (m'a dòlgut > m'a fait mal ; m'a dolgut lo cap > j'ai eu mal à la tête)" v="oci">
       <pattern>
         <pattern-item n="prnpro_ci_leng"/>
         <pattern-item n="vhaver_p3"/>
         <pattern-item n="verb_dat2nom_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="3" side="tl" part="a_dat2nom"/><lit v=""/></equal>
             </test>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn.pro"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="3"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="gen"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <choose>
               <when>
                 <test>
                   <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="li"/></equal>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><var n="genero"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <var n="genero"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="mf"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="3"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <lit-tag v="m.sg"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO_CI HAVER VERB_DAT2NOM_PP (m'a hèit dòu > j'ai regretté)" v="oci@gascon">
       <pattern>
         <pattern-item n="prnpro_ci_gasc"/>
         <pattern-item n="vhaver_p3"/>
         <pattern-item n="verb_dat2nom_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="3" side="tl" part="a_dat2nom"/><lit v=""/></equal>
             </test>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn.pro"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="3"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="gen"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <choose>
               <when>
                 <test>
                   <and>
                     <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal>
                     <not><equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal></not>
                   </and>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <clip pos="1" side="tl" part="gen"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <when>
                 <test>
                   <and>
                     <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal>
                     <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                   </and>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><lit-tag v="m"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="m"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="mf"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="3"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
                 <b pos="3"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <lit-tag v="m.sg"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO_CI HAVER ADV VERB_DAT2NOM_PP (m'a pas dòlgut > m'a pas fait mal ; m'a pas dolgut lo cap > j'ai pas eu mal à la tête)" v="oci">
       <pattern>
         <pattern-item n="prnpro_ci_leng"/>
         <pattern-item n="vhaver_p3"/>
         <pattern-item n="adv"/>
         <pattern-item n="verb_dat2nom_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="4" side="tl" part="a_dat2nom"/><lit v=""/></equal>
             </test>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn.pro"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="4" side="tl" part="gen"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <clip pos="4" side="tl" part="gen"/>
                   <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <choose>
               <when>
                 <test>
                   <and>
                     <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal>
                     <not><equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal></not>
                   </and>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <clip pos="1" side="tl" part="gen"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <when>
                 <test>
                   <and>
                     <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal>
                     <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                   </and>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><lit-tag v="m"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="m"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="mf"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><lit-tag v="m.sg.sl_m.sl_sg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <lit-tag v="m.sg"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO_CI HAVER ADV VERB_DAT2NOM_PP (m'a pas hèit dòu > j'ai pas regretté)" v="oci@gascon">
       <pattern>
         <pattern-item n="prnpro_ci_gasc"/>
         <pattern-item n="vhaver_p3"/>
         <pattern-item n="adv"/>
         <pattern-item n="verb_dat2nom_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="4"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="4" side="tl" part="a_dat2nom"/><lit v=""/></equal>
             </test>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn.pro"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><clip pos="4" side="tl" part="gen"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <lit-tag v="3"/>
                   <lit-tag v="4"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <choose>
               <when>
                 <test>
                   <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="li"/></equal>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><var n="genero"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <var n="genero"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="mf"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="pp"/></tag>
                   <tag><lit-tag v="m.sg.sl_m.sl_sg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <lit-tag v="m.sg"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO_CI HAVER ADV ADV VERB_DAT2NOM_PP (m'a pas encara dòlgut > m'a pas encore fait mal ; m'a pas encara dolgut lo cap > j'ai pas eu encore mal à la tête)" v="oci">
       <pattern>
         <pattern-item n="prnpro_ci_leng"/>
         <pattern-item n="vhaver_p3"/>
         <pattern-item n="adv"/>
         <pattern-item n="adv"/>
         <pattern-item n="verb_dat2nom_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="5" side="tl" part="a_dat2nom"/><lit v=""/></equal>
             </test>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn.pro"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="4" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="5"/>
             </call-macro>
             <out>
               <b pos="4"/>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="5" side="tl" part="gen"/></tag>
                   <tag><clip pos="5" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <clip pos="5" side="tl" part="gen"/>
                   <clip pos="5" side="tl" part="nbr"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <choose>
               <when>
                 <test>
                   <and>
                     <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal>
                     <not><equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal></not>
                   </and>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <clip pos="1" side="tl" part="gen"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <when>
                 <test>
                   <and>
                     <equal><clip pos="1" side="tl" part="pers"/><lit-tag v="p3"/></equal>
                     <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
                   </and>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><lit-tag v="m"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="m"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="mf"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="4" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="5"/>
             </call-macro>
             <out>
               <b pos="4"/>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="m.sg.sl_m.sl_sg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <lit-tag v="m.sg"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO_CI HAVER ADV ADV VERB_DAT2NOM_PP (m'a pas encara hèit dòu > j'ai pas encara regretté)" v="oci@gascon">
       <pattern>
         <pattern-item n="prnpro_ci_gasc"/>
         <pattern-item n="vhaver_p3"/>
         <pattern-item n="adv"/>
         <pattern-item n="adv"/>
         <pattern-item n="verb_dat2nom_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="5"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="5" side="tl" part="a_dat2nom"/><lit v=""/></equal>
             </test>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn.pro"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="4" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="5"/>
             </call-macro>
             <out>
               <b pos="3"/>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="5" side="tl" part="gen"/></tag>
                   <tag><clip pos="5" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <clip pos="5" side="tl" part="gen"/>
                   <clip pos="5" side="tl" part="nbr"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <choose>
               <when>
                 <test>
                   <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="li"/></equal>
                 </test>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><var n="genero"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <var n="genero"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk name="prpers" case="caseFirstWord">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><lit-tag v="tn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <lit v="prpers"/>
                       <lit-tag v="prn.tn"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="mf"/>
                       <clip pos="1" side="tl" part="nbr"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="3"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="4" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="5"/>
             </call-macro>
             <out>
               <b pos="4"/>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="m.sg.sl_m.sl_sg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <lit-tag v="m.sg"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <!-- FIN RÈGLAS 'PRONOM DATIU > PRONOM SUBJÈCTE' -->


    <!-- RÈGLAS 'VÈRBE PRONOMINAL > VÈRBE NON PRONOMINAL' -->

    <rule comment="RÈGLA: PRNPRO_REF VERB_PRON-NOPRON (s'enlaira > décole)">
       <pattern>
         <pattern-item n="prnpro_ref"/>
         <pattern-item n="verb_pron-nopron_conj"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="2" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="1" side="sl" part="pers"/><clip pos="2" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="1" side="sl" part="nbr"/><clip pos="2" side="sl" part="nbr"/></equal>
                   <equal><clip pos="1" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn"/>
                   <clip pos="1" side="tl" part="a_pron_long"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO_REF SER VERB_PRON-NOPRON_PP (s'es enlairat > a décolé)">
       <pattern>
         <pattern-item n="prnpro_ref"/>
         <pattern-item n="vbser_conj"/>
         <pattern-item n="verb_pron-nopron_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="3" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="1" side="sl" part="pers"/><clip pos="2" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="1" side="sl" part="nbr"/><clip pos="2" side="sl" part="nbr"/></equal>
                   <equal><clip pos="1" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="f_vchunk_name">
               <with-param pos="3"/>
             </call-macro>
             <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <lit v="avoir"/>
                   <lit-tag v="vbhaver"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <lit-tag v="m.sg"/>
                   <clip pos="3" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn"/>
                   <clip pos="1" side="tl" part="a_pron_long"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="3"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
                 <b pos="2"/>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="a_verb"/>
                   <clip pos="3" side="tl" part="temps"/>
                   <clip pos="3" side="tl" part="gen"/>
                   <clip pos="3" side="tl" part="nbr"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO_REF SER ADV VERB_PRON-NOPRON_PP (s'es pas enlairat > a pas décolé)">
       <pattern>
         <pattern-item n="prnpro_ref"/>
         <pattern-item n="vbser_conj"/>
         <pattern-item n="adv"/>
         <pattern-item n="verb_pron-nopron_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="4" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="1" side="sl" part="pers"/><clip pos="2" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="1" side="sl" part="nbr"/><clip pos="2" side="sl" part="nbr"/></equal>
                   <equal><clip pos="1" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <lit v="avoir"/>
                   <lit-tag v="vbhaver"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="4"/>
             </call-macro>
             <out>
               <b pos="3"/>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="m.sg.sl_m.sl_sg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <lit-tag v="m.sg"/>
                   <clip pos="4" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn"/>
                   <clip pos="1" side="tl" part="a_pron_long"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="4"/>
             </call-macro>
             <out>
               <b pos="3"/>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="4" side="tl" part="gen"/></tag>
                   <tag><clip pos="4" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="a_verb"/>
                   <clip pos="4" side="tl" part="temps"/>
                   <clip pos="4" side="tl" part="gen"/>
                   <clip pos="4" side="tl" part="nbr"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PRNPRO_REF SER ADV ADV VERB_PRON-NOPRON_PP (s'es pas encara enlairat > a pas encore décolé)">
       <pattern>
         <pattern-item n="prnpro_ref"/>
         <pattern-item n="vbser_conj"/>
         <pattern-item n="adv"/>
         <pattern-item n="adv"/>
         <pattern-item n="verb_pron-nopron_pp"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="2"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="5" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="1" side="sl" part="pers"/><clip pos="2" side="sl" part="pers"/></equal>
                 <or>
                   <equal><clip pos="1" side="sl" part="nbr"/><clip pos="2" side="sl" part="nbr"/></equal>
                   <equal><clip pos="1" side="sl" part="a_pron_long"/><lit-tag v="pro.ref"/></equal>
                 </or>
               </and>
             </test>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
             <out>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <lit v="avoir"/>
                   <lit-tag v="vbhaver"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="4" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="5"/>
             </call-macro>
             <out>
               <b pos="3"/>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><lit-tag v="m.sg.sl_m.sl_sg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <lit-tag v="m.sg"/>
                   <clip pos="5" side="tl" part="lemq"/>
                  </lu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
             <out>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SPron"/></tag>
                   <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                   <tag><clip pos="1" side="tl" part="gen"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="1" side="tl" part="lem"/>
                   <lit-tag v="prn"/>
                   <clip pos="1" side="tl" part="a_pron_long"/>
                   <clip pos="1" side="tl" part="pers"/>
                   <clip pos="1" side="tl" part="gen"/>
                   <clip pos="1" side="tl" part="nbr"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="tipus_verb">
               <with-param pos="2"/>
             </call-macro>
             <call-macro n="f_vchunk_name">
               <with-param pos="2"/>
             </call-macro>
             <out>
               <b pos="1"/>
               <chunk namefrom="chunkname" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="2" side="tl" part="temps"/></tag>
                   <tag><clip pos="2" side="tl" part="pers"/></tag>
                   <tag><clip pos="2" side="tl" part="nbr"/></tag>
                 </tags>
                 <lu>
                   <clip pos="2" side="tl" part="lemh"/>
                   <clip pos="2" side="tl" part="a_verb"/>
                   <lit-tag v="4"/>
                   <clip pos="2" side="tl" part="pers"/>
                   <clip pos="2" side="tl" part="nbr"/>
                   <clip pos="2" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="3"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="3" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="3" side="tl" part="lemh"/>
                   <clip pos="3" side="tl" part="tags"/>
                   <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="firstWord">
               <with-param pos="4"/>
             </call-macro>
             <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
             <out>
               <b pos="2"/>
               <chunk namefrom="lemma" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SAdv"/></tag>
                   <tag><clip pos="4" side="tl" part="a_pas_neg"/></tag>
                 </tags>
                 <lu>
                   <clip pos="4" side="tl" part="lemh"/>
                   <clip pos="4" side="tl" part="tags"/>
                   <clip pos="4" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
             <call-macro n="f_chunk_tags">
               <with-param pos="5"/>
             </call-macro>
             <out>
               <b pos="3"/>
               <chunk name="pp">
                 <tags>
                   <tag><lit-tag v="SA"/></tag>
                   <tag><clip pos="5" side="tl" part="gen"/></tag>
                   <tag><clip pos="5" side="tl" part="nbr"/></tag>
                   <tag><var n="genero_sl"/></tag>
                   <tag><var n="numero_sl"/></tag>
                 </tags>
                 <lu>
                   <clip pos="5" side="tl" part="lemh"/>
                   <clip pos="5" side="tl" part="a_verb"/>
                   <clip pos="5" side="tl" part="temps"/>
                   <clip pos="5" side="tl" part="gen"/>
                   <clip pos="5" side="tl" part="nbr"/>
                   <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <!-- FIN RÈGLAS 'VÈRBE PRONOMINAL > VÈRBE NON PRONOMINAL' -->


    <!-- AUTRAS RÈGLAS VERBALAS -->

    <rule comment="RÈGLA: SE vbmod_poder_p3pl (se pòden > on peut)">
       <pattern>
         <pattern-item n="prnpro_se"/>
         <pattern-item n="vbmod_poder_p3pl"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SPron"/></tag>
              <tag><clip pos="1" side="tl" part="a_prn"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lem"/>
              <lit-tag v="prn"/>
              <clip pos="1" side="tl" part="a_pron_long"/>
              <clip pos="1" side="tl" part="pers"/>
              <lit-tag v="3"/>
              <lit-tag v="4"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <choose>
          <when>
            <test>
              <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="on"/></equal>
            </test>
            <out>
              <chunk name="v">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                  <tag><var n="tipusverb"/></tag>
                  <tag><clip pos="2" side="tl" part="temps"/></tag>
                  <tag><clip pos="2" side="tl" part="pers"/></tag>
                  <tag><lit-tag v="sg"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_verb"/>
                  <lit-tag v="4"/>
                  <clip pos="2" side="tl" part="pers"/>
                  <lit-tag v="sg"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="v">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="2" side="tl" part="a_verb"/></tag>
                  <tag><var n="tipusverb"/></tag>
                  <tag><clip pos="2" side="tl" part="temps"/></tag>
                  <tag><clip pos="2" side="tl" part="pers"/></tag>
                  <tag><clip pos="2" side="tl" part="nbr"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lemh"/>
                  <clip pos="2" side="tl" part="a_verb"/>
                  <lit-tag v="4"/>
                  <clip pos="2" side="tl" part="pers"/>
                  <clip pos="2" side="tl" part="nbr"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: IMP PRNENC">
       <pattern>
         <pattern-item n="imp"/>
         <pattern-item n="prnenc"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="1"/>
        </call-macro>
         <out>
           <chunk name="v_enc" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <mlu>
               <lu>
                 <clip pos="1" side="tl" part="lemh"/>
                 <clip pos="1" side="tl" part="a_verb"/>
                 <lit-tag v="4"/>
                 <clip pos="1" side="tl" part="pers"/>
                 <clip pos="1" side="tl" part="nbr"/>
                </lu>
                <lu>
                 <clip pos="2" side="tl" part="lem"/>
                 <clip pos="2" side="tl" part="tags"/>
                 <clip pos="1" side="tl" part="lemq"/>
               </lu>
             </mlu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: IMP PRNENC PRNENC">
       <pattern>
         <pattern-item n="imp"/>
         <pattern-item n="prnenc"/>
         <pattern-item n="prnenc"/>
       </pattern>
       <action>
         <call-macro n="firstWord">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="tipus_verb">
           <with-param pos="1"/>
         </call-macro>
         <call-macro n="f_canvis_temps">
           <with-param pos="1"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <or>
                 <and>
                   <or>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="me"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="te"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="se"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="nos"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="vos"/></equal>
                   </or>
                   <or>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="lo"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="o"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="ac"/></equal>
                   </or>
                 </and>
                 <and>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="lo"/></equal>
                   <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="ac"/></equal>
                 </and>
               </or>
             </test>
             <out>
               <chunk name="v_enc_enc" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <mlu>
                   <lu>
                     <clip pos="1" side="tl" part="lemh"/>
                     <clip pos="1" side="tl" part="a_verb"/>
                     <lit-tag v="4"/>
                     <clip pos="1" side="tl" part="pers"/>
                     <clip pos="1" side="tl" part="nbr"/>
                    </lu>
                    <lu>
                     <clip pos="3" side="tl" part="lem"/>
                     <clip pos="3" side="tl" part="tags"/>
                    </lu>
                    <lu>
                     <clip pos="2" side="tl" part="lem"/>
                     <clip pos="2" side="tl" part="tags"/>
                     <clip pos="1" side="tl" part="lemq"/>
                    </lu>
                 </mlu>
               </chunk>
             </out>
           </when>
           <otherwise>
             <out>
               <chunk name="v_enc_enc" case="caseFirstWord">
                 <tags>
                   <tag><lit-tag v="SV"/></tag>
                   <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                   <tag><var n="tipusverb"/></tag>
                   <tag><clip pos="1" side="tl" part="temps"/></tag>
                   <tag><clip pos="1" side="tl" part="pers"/></tag>
                   <tag><clip pos="1" side="tl" part="nbr"/></tag>
                 </tags>
                 <mlu>
                   <lu>
                     <clip pos="1" side="tl" part="lemh"/>
                     <clip pos="1" side="tl" part="a_verb"/>
                     <lit-tag v="4"/>
                     <clip pos="1" side="tl" part="pers"/>
                     <clip pos="1" side="tl" part="nbr"/>
                    </lu>
                    <lu>
                     <clip pos="2" side="tl" part="lem"/>
                     <clip pos="2" side="tl" part="tags"/>
                    </lu>
                    <lu>
                     <clip pos="3" side="tl" part="lem"/>
                     <clip pos="3" side="tl" part="tags"/>
                     <clip pos="1" side="tl" part="lemq"/>
                    </lu>
                 </mlu>
               </chunk>
             </out>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: IMP PRNENC PRNENC PRNENC (pòrta-te-n'i > porte-t'en-y) [ce n'est pas trop français, mais les résultats sont plus compréhensibles que sans cette règle]">
       <pattern>
         <pattern-item n="imp"/>
         <pattern-item n="prnenc"/>
         <pattern-item n="prnenc"/>
         <pattern-item n="prnenc"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="1"/>
        </call-macro>
         <out>
           <chunk name="v_enc_enc_enc" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <mlu>
               <lu>
                 <clip pos="1" side="tl" part="lemh"/>
                 <clip pos="1" side="tl" part="a_verb"/>
                 <lit-tag v="4"/>
                 <clip pos="1" side="tl" part="pers"/>
                 <clip pos="1" side="tl" part="nbr"/>
                </lu>
                <lu>
                 <clip pos="2" side="tl" part="lem"/>
                 <clip pos="2" side="tl" part="tags"/>
                </lu>
                <lu>
                 <clip pos="3" side="tl" part="lem"/>
                 <clip pos="3" side="tl" part="tags"/>
                </lu>
                <lu>
                 <clip pos="4" side="tl" part="lem"/>
                 <clip pos="4" side="tl" part="tags"/>
                 <clip pos="1" side="tl" part="lemq"/>
                </lu>
             </mlu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="INF/GER + ENCLITIC (pensar-o > le penser; estremvirà's > faire volte-face)">
      <pattern>
        <pattern-item n="infger"/>
        <pattern-item n="prnenc"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <and>
                <equal><clip pos="1" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                <equal><clip pos="2" side="tl" part="tipoenc_pro"/><lit-tag v="ref.p3.mf.sp"/></equal>
              </and>
            </test>
            <out>
              <chunk name="inf" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                  <tag><var n="tipusverb"/></tag>
                  <tag><clip pos="1" side="tl" part="temps"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="a_verb"/>
                  <clip pos="1" side="tl" part="temps"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
          <otherwise>
            <out>
              <chunk name="pro_inf" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                  <tag><var n="tipusverb"/></tag>
                  <tag><clip pos="1" side="tl" part="temps"/></tag>
                </tags>
                <lu>
                  <clip pos="2" side="tl" part="lem"/>
                  <lit-tag v="prn.pro"/>
                  <clip pos="2" side="tl" part="tipoenc_pro"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="a_verb"/>
                  <clip pos="1" side="tl" part="temps"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </otherwise>
        </choose>
      </action>
  </rule>

    <rule comment="INF/GER + ENCLITIC + ENCLITIC (cantar-li-o > le lui chanter)" v="oci">
      <pattern>
        <pattern-item n="infger"/>
        <pattern-item n="prnenc"/>
        <pattern-item n="prnenc"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="1"/>
        </call-macro>
         <choose>
           <when>
             <!-- D'après Alibèrt il y a différents ordres des pronoms en languedocien. Nous tâchons de les traiter tous -->
             <test>
               <or>
                 <and>
                   <equal caseless="yes"><clip pos="2" side="tl" part="lem"/><lit v="en"/></equal>
                   <equal caseless="yes"><clip pos="3" side="tl" part="lem"/><lit v="y"/></equal>
                 </and>
                 <and>
                   <or>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="lo"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="o"/></equal>
                   </or>
                   <or>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="me"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="te"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="se"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="nos"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="vos"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="li"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="lor"/></equal>
                   </or>
                 </and>
                 <and>
                   <or>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="li"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="lor"/></equal>
                   </or>
                   <or>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="me"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="te"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="se"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="nos"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="vos"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="lo"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="o"/></equal>
                   </or>
                 </and>
               </or>
             </test>
              <out>
                <chunk name="pro_pro_inf" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                    <tag><var n="tipusverb"/></tag>
                    <tag><clip pos="1" side="tl" part="temps"/></tag>
                  </tags>
                  <lu>
                    <clip pos="3" side="tl" part="lem"/>
                    <lit-tag v="prn.pro"/>
                    <clip pos="3" side="tl" part="tipoenc_pro"/>
                  </lu>
                  <b/>
                  <lu>
                    <clip pos="2" side="tl" part="lem"/>
                    <lit-tag v="prn.pro"/>
                    <clip pos="2" side="tl" part="tipoenc_pro"/>
                  </lu>
                  <b/>
                  <lu>
                    <clip pos="1" side="tl" part="lemh"/>
                    <clip pos="1" side="tl" part="a_verb"/>
                    <clip pos="1" side="tl" part="temps"/>
                    <clip pos="1" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="pro_pro_inf" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                    <tag><var n="tipusverb"/></tag>
                    <tag><clip pos="1" side="tl" part="temps"/></tag>
                  </tags>
                  <lu>
                    <clip pos="2" side="tl" part="lem"/>
                    <lit-tag v="prn.pro"/>
                    <clip pos="2" side="tl" part="tipoenc_pro"/>
                  </lu>
                  <b/>
                  <lu>
                    <clip pos="3" side="tl" part="lem"/>
                    <lit-tag v="prn.pro"/>
                    <clip pos="3" side="tl" part="tipoenc_pro"/>
                  </lu>
                  <b/>
                  <lu>
                    <clip pos="1" side="tl" part="lemh"/>
                    <clip pos="1" side="tl" part="a_verb"/>
                    <clip pos="1" side="tl" part="temps"/>
                    <clip pos="1" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
          </otherwise>
        </choose>
      </action>
  </rule>

    <rule comment="INF/GER + ENCLITIC + ENCLITIC (cantar-li-o > le lui chanter)" v="oci@gascon">
      <pattern>
        <pattern-item n="infger"/>
        <pattern-item n="prnenc"/>
        <pattern-item n="prnenc"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="1"/>
        </call-macro>
         <choose>
           <when>
             <test>
               <and>
                 <equal><clip pos="1" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="2" side="tl" part="tipoenc_pro"/><lit-tag v="ref.p3.mf.sp"/></equal>
               </and>
             </test>
              <out>
                <chunk name="pro_inf" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                    <tag><var n="tipusverb"/></tag>
                    <tag><clip pos="1" side="tl" part="temps"/></tag>
                  </tags>
                  <lu>
                    <clip pos="3" side="tl" part="lem"/>
                    <lit-tag v="prn.pro"/>
                    <clip pos="3" side="tl" part="tipoenc_pro"/>
                  </lu>
                  <b/>
                  <lu>
                    <clip pos="1" side="tl" part="lemh"/>
                    <clip pos="1" side="tl" part="a_verb"/>
                    <clip pos="1" side="tl" part="temps"/>
                    <clip pos="1" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
           </when>
           <when>
             <test>
               <and>
                 <equal><clip pos="1" side="tl" part="a_non-pron"/><lit-tag v="non-pron"/></equal>
                 <equal><clip pos="3" side="tl" part="tipoenc_pro"/><lit-tag v="ref.p3.mf.sp"/></equal>
               </and>
             </test>
              <out>
                <chunk name="pro_inf" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                    <tag><var n="tipusverb"/></tag>
                    <tag><clip pos="1" side="tl" part="temps"/></tag>
                  </tags>
                  <lu>
                    <clip pos="2" side="tl" part="lem"/>
                    <lit-tag v="prn.pro"/>
                    <clip pos="2" side="tl" part="tipoenc_pro"/>
                  </lu>
                  <b/>
                  <lu>
                    <clip pos="1" side="tl" part="lemh"/>
                    <clip pos="1" side="tl" part="a_verb"/>
                    <clip pos="1" side="tl" part="temps"/>
                    <clip pos="1" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
           </when>
           <when>
             <test>
               <or>
                 <and>
                   <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="i"/></equal>
                   <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="en"/></equal>
                 </and>
                 <and>
                   <or>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="lo"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="i"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="en"/></equal>
                   </or>
                   <or>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="me"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="te"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="se"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="nos"/></equal>
                     <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="vos"/></equal>
                   </or>
                 </and>
                 <and>
                   <or>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="i"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="en"/></equal>
                     <equal caseless="yes"><clip pos="2" side="sl" part="lem"/><lit v="lo"/></equal>
                   </or>
                   <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="ac"/></equal>
                 </and>
               </or>
             </test>
             <!-- changement d'ordre CD CI -->
              <out>
                <chunk name="pro_pro_inf" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                    <tag><var n="tipusverb"/></tag>
                    <tag><clip pos="1" side="tl" part="temps"/></tag>
                  </tags>
                  <lu>
                    <clip pos="3" side="tl" part="lem"/>
                    <lit-tag v="prn.pro"/>
                    <clip pos="3" side="tl" part="tipoenc_pro"/>
                  </lu>
                  <b/>
                  <lu>
                    <clip pos="2" side="tl" part="lem"/>
                    <lit-tag v="prn.pro"/>
                    <clip pos="2" side="tl" part="tipoenc_pro"/>
                  </lu>
                  <b/>
                  <lu>
                    <clip pos="1" side="tl" part="lemh"/>
                    <clip pos="1" side="tl" part="a_verb"/>
                    <clip pos="1" side="tl" part="temps"/>
                    <clip pos="1" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
            </when>
            <otherwise>
              <out>
                <chunk name="pro_pro_inf" case="caseFirstWord">
                  <tags>
                    <tag><lit-tag v="SV"/></tag>
                    <tag><clip pos="1" side="tl" part="a_verb"/></tag>
                    <tag><var n="tipusverb"/></tag>
                    <tag><clip pos="1" side="tl" part="temps"/></tag>
                  </tags>
                  <lu>
                    <clip pos="2" side="tl" part="lem"/>
                    <lit-tag v="prn.pro"/>
                    <clip pos="2" side="tl" part="tipoenc_pro"/>
                  </lu>
                  <b/>
                  <lu>
                    <clip pos="3" side="tl" part="lem"/>
                    <lit-tag v="prn.pro"/>
                    <clip pos="3" side="tl" part="tipoenc_pro"/>
                  </lu>
                  <b/>
                  <lu>
                    <clip pos="1" side="tl" part="lemh"/>
                    <clip pos="1" side="tl" part="a_verb"/>
                    <clip pos="1" side="tl" part="temps"/>
                    <clip pos="1" side="tl" part="lemq"/>
                  </lu>
                </chunk>
              </out>
          </otherwise>
        </choose>
      </action>
  </rule>

    <rule comment="RÈGLA: en tot VB_ger (en tot cantant > tout en chantant)" v="oci@gascon">
       <pattern>
         <pattern-item n="enpr"/>
         <pattern-item n="tot_adv"/>
         <pattern-item n="vb_ger"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <b pos="1"/>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
        <out>
          <b pos="2"/>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="3" side="tl" part="a_verb"/></tag>
              <tag><var n="tipusverb"/></tag>
              <tag><clip pos="3" side="tl" part="temps"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: en tot PRNPRO VB_ger (en tot lo cantant > tout en le chantant)" v="oci@gascon">
       <pattern>
         <pattern-item n="enpr"/>
         <pattern-item n="tot_adv"/>
        <pattern-item n="prnpro"/>
         <pattern-item n="vb_ger"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="4"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <b pos="1"/>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
        <out>
          <b pos="2"/>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="4" side="tl" part="a_verb"/></tag>
              <tag><var n="tipusverb"/></tag>
              <tag><clip pos="4" side="tl" part="temps"/></tag>
            </tags>
            <lu>
              <clip pos="3" side="tl" part="lem"/>
              <lit-tag v="prn.pro"/>
              <clip pos="3" side="tl" part="tipoenc_pro"/>
            </lu>
            <b/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="a_verb"/>
              <clip pos="4" side="tl" part="temps"/>
              <clip pos="4" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: en tot PRNPRO PRNPRO VB_ger (en tot se n'anar > tout en s'en allant)" v="oci@gascon">
       <pattern>
         <pattern-item n="enpr"/>
         <pattern-item n="tot_adv"/>
        <pattern-item n="prnpro"/>
        <pattern-item n="prnpro"/>
         <pattern-item n="vb_ger"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="5"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <b pos="1"/>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <let><var n="lemma"/><clip pos="5" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <or>
                <and>
                  <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="i"/></equal>
                  <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="en"/></equal>
                </and>
                <and>
                  <or>
                    <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="lo"/></equal>
                    <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="i"/></equal>
                    <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="en"/></equal>
                  </or>
                  <or>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="me"/></equal>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="te"/></equal>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="se"/></equal>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="nos"/></equal>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="vos"/></equal>
                  </or>
                </and>
                <and>
                  <or>
                    <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="i"/></equal>
                    <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="en"/></equal>
                    <equal caseless="yes"><clip pos="3" side="sl" part="lem"/><lit v="lo"/></equal>
                  </or>
                  <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="ac"/></equal>
                </and>
              </or>
            </test>
            <!-- changement d'ordre CD CI -->
            <out>
              <b pos="2"/>
              <chunk namefrom="lemma">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="5" side="tl" part="a_verb"/></tag>
                  <tag><var n="tipusverb"/></tag>
                  <tag><clip pos="5" side="tl" part="temps"/></tag>
                </tags>
                <lu>
                  <clip pos="3" side="tl" part="lem"/>
                  <lit-tag v="prn.pro"/>
                  <clip pos="3" side="tl" part="tipoenc_pro"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <lit-tag v="prn.pro"/>
                  <clip pos="4" side="tl" part="tipoenc_pro"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_verb"/>
                  <clip pos="5" side="tl" part="temps"/>
                  <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
          </when>
          <otherwise>
            <out>
              <b pos="2"/>
              <chunk namefrom="lemma">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="5" side="tl" part="a_verb"/></tag>
                  <tag><var n="tipusverb"/></tag>
                  <tag><clip pos="5" side="tl" part="temps"/></tag>
                </tags>
                <lu>
                  <clip pos="3" side="tl" part="lem"/>
                  <lit-tag v="prn.pro"/>
                  <clip pos="3" side="tl" part="tipoenc_pro"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <lit-tag v="prn.pro"/>
                  <clip pos="4" side="tl" part="tipoenc_pro"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="5" side="tl" part="lemh"/>
                  <clip pos="5" side="tl" part="a_verb"/>
                  <clip pos="5" side="tl" part="temps"/>
                  <clip pos="5" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
          </otherwise>
        </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: en tot VB_ger + ENCLITIC (en tot cantant-lo > tout en le chantant)" v="oci@gascon">
       <pattern>
         <pattern-item n="enpr"/>
         <pattern-item n="tot_adv"/>
         <pattern-item n="vb_ger"/>
        <pattern-item n="prnenc"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <b pos="1"/>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
        <out>
          <b pos="2"/>
          <chunk namefrom="lemma">
            <tags>
              <tag><lit-tag v="SV"/></tag>
              <tag><clip pos="3" side="tl" part="a_verb"/></tag>
              <tag><var n="tipusverb"/></tag>
              <tag><clip pos="3" side="tl" part="temps"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="lem"/>
              <lit-tag v="prn.pro"/>
              <clip pos="4" side="tl" part="tipoenc_pro"/>
            </lu>
            <b/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: en tot VB_ger + ENCLITIC + ENCLITIC (en tot anar-se'n > tout en s'en allant)" v="oci@gascon">
       <pattern>
         <pattern-item n="enpr"/>
         <pattern-item n="tot_adv"/>
         <pattern-item n="vb_ger"/>
        <pattern-item n="prnenc"/>
        <pattern-item n="prnenc"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="3"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <b pos="1"/>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <let><var n="lemma"/><clip pos="3" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <or>
                <and>
                  <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="i"/></equal>
                  <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="en"/></equal>
                </and>
                <and>
                  <or>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="lo"/></equal>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="i"/></equal>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="en"/></equal>
                  </or>
                  <or>
                    <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="me"/></equal>
                    <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="te"/></equal>
                    <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="se"/></equal>
                    <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="nos"/></equal>
                    <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="vos"/></equal>
                  </or>
                </and>
                <and>
                  <or>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="i"/></equal>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="en"/></equal>
                    <equal caseless="yes"><clip pos="4" side="sl" part="lem"/><lit v="lo"/></equal>
                  </or>
                  <equal caseless="yes"><clip pos="5" side="sl" part="lem"/><lit v="ac"/></equal>
                </and>
              </or>
            </test>
            <!-- changement d'ordre CD CI -->
            <out>
              <b pos="2"/>
              <chunk namefrom="lemma">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                  <tag><var n="tipusverb"/></tag>
                  <tag><clip pos="3" side="tl" part="temps"/></tag>
                </tags>
                <lu>
                  <clip pos="5" side="tl" part="lem"/>
                  <lit-tag v="prn.pro"/>
                  <clip pos="5" side="tl" part="tipoenc_pro"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <lit-tag v="prn.pro"/>
                  <clip pos="4" side="tl" part="tipoenc_pro"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="a_verb"/>
                  <clip pos="3" side="tl" part="temps"/>
                  <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
          </when>
          <otherwise>
            <out>
              <b pos="2"/>
              <chunk namefrom="lemma">
                <tags>
                  <tag><lit-tag v="SV"/></tag>
                  <tag><clip pos="3" side="tl" part="a_verb"/></tag>
                  <tag><var n="tipusverb"/></tag>
                  <tag><clip pos="3" side="tl" part="temps"/></tag>
                </tags>
                <lu>
                  <clip pos="4" side="tl" part="lem"/>
                  <lit-tag v="prn.pro"/>
                  <clip pos="4" side="tl" part="tipoenc_pro"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="5" side="tl" part="lem"/>
                  <lit-tag v="prn.pro"/>
                  <clip pos="5" side="tl" part="tipoenc_pro"/>
                </lu>
                <b/>
                <lu>
                  <clip pos="3" side="tl" part="lemh"/>
                  <clip pos="3" side="tl" part="a_verb"/>
                  <clip pos="3" side="tl" part="temps"/>
                  <clip pos="3" side="tl" part="lemq"/>
                 </lu>
               </chunk>
             </out>
          </otherwise>
        </choose>
       </action>
    </rule>

  <!-- FIN AUTRAS RÈGLAS VERBALAS -->


    <!-- RÈGLAS CAPÇALERA CHUNK + LEMH/LEMQ -->

    <rule comment="RÈGLA: DET">
      <pattern>
        <pattern-item n="det"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="tipus_det">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="f_concord1">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="f_chunk_tags">
         <with-param pos="1"/>
       </call-macro>
       <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
       <out>
         <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADJ">
      <pattern>
        <pattern-item n="adj"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_adj"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="temps"/>
              <lit-tag v="2"/>
              <lit-tag v="3"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PP">
      <pattern>
        <pattern-item n="pp"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SA"/></tag>
              <tag><lit-tag v="pp"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
              <tag><var n="tipusverb"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="a_verb"/>
              <clip pos="1" side="tl" part="temps"/>
              <lit-tag v="3"/>
              <lit-tag v="4"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NUMERAL">
      <pattern>
        <pattern-item n="num"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <out>
         <chunk name="num" case="caseFirstWord">
           <tags>
             <tag><lit-tag v="Num"/></tag>
           </tags>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu>
         </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NOM">
      <pattern>
        <pattern-item n="nom"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="n"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ADV">
      <pattern>
        <pattern-item n="adv_preadv"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
              <tag><clip pos="1" side="tl" part="a_itg"/></tag>
              <tag><clip pos="1" side="tl" part="a_pas_neg"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: ENON">
      <pattern>
        <pattern-item n="enon"/>
      </pattern>
      <action>
        <choose>
          <when>
            <test>
              <and>
                <not><equal><clip pos="1" side="tl" part="lem"/><lit v=""/></equal></not>
                <equal><clip pos="1" side="tl" part="a_enon"/><lit v=""/></equal>
              </and>
            </test>
            <call-macro n="firstWord">
              <with-param pos="1"/>
            </call-macro>
            <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
            <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
            <out>
              <chunk namefrom="lemma" case="caseFirstWord">
                <tags>
                  <tag><lit-tag v="SAdv"/></tag>
                  <tag><lit-tag v="enon"/></tag>
                  <tag><clip pos="1" side="tl" part="a_pas_neg"/></tag>
                </tags>
                <lu>
                  <clip pos="1" side="tl" part="lemh"/>
                  <clip pos="1" side="tl" part="tags"/>
                  <clip pos="1" side="tl" part="lemq"/>
                </lu>
              </chunk>
            </out>
          </when>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: PREADV ADV (empaquetament en un sol chunk per t2x)">
      <pattern>
        <pattern-item n="preadv"/>
        <pattern-item n="adv"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="preadv_adv" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
              <tag><clip pos="2" side="tl" part="a_pas_neg"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: NP">
      <pattern>
        <pattern-item n="np"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="np" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="a_np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: PRN">
       <pattern>
         <pattern-item n="prn"/>
       </pattern>
       <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <equal><var n="EOS"/><lit v="true"/></equal>
            </test>
            <modify-case><var n="lemma"/><lit v="Aa"/></modify-case>
          </when>
        </choose>
         <call-macro n="firstWord">
           <with-param pos="1"/>
         </call-macro>
         <choose>
           <when>
             <test>
               <equal><clip pos="1" side="tl" part="lem"/><lit v=""/></equal>
             </test>
           </when>
           <otherwise>
             <choose>
               <when>
                 <test>
                   <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="il"/></equal>
                 </test>
                 <let><var n="genero"/><clip pos="1" side="tl" part="gen"/></let>
               </when>
               <when>
                 <test>
                   <or>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="rien"/></equal>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="personne"/></equal>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="ceci"/></equal>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="cela"/></equal>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="ça"/></equal>
                   </or>
                 </test>
                 <let><var n="genero"/><lit-tag v="m"/></let>
               </when>
               <when>
                 <test>
                   <or>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="celui"/></equal>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="celui-ci"/></equal>
                     <equal caseless="yes"><clip pos="1" side="tl" part="lem"/><lit v="celui-là"/></equal>
                   </or>
                 </test>
                 <call-macro n="f_concord0"><with-param pos="1"/></call-macro>
               </when>
             </choose>
             <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
             <choose>
               <when>
                 <test>
                   <equal><clip pos="1" side="tl" part="a_pas_neg"/><lit v=""/></equal>
                 </test>
                 <out>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <clip pos="1" side="tl" part="lem"/>
                       <lit-tag v="prn"/>
                       <clip pos="1" side="tl" part="a_pron_long"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="3"/>
                       <lit-tag v="4"/>
                     </lu>
                   </chunk>
                 </out>
               </when>
               <otherwise>
                 <out>
                   <chunk namefrom="lemma">
                     <tags>
                       <tag><lit-tag v="SPron"/></tag>
                       <tag><clip pos="1" side="tl" part="a_prn"/></tag>
                       <tag><clip pos="1" side="tl" part="a_pas_neg"/></tag>
                       <tag><clip pos="1" side="tl" part="gen"/></tag>
                       <tag><clip pos="1" side="tl" part="nbr"/></tag>
                     </tags>
                     <lu>
                       <clip pos="1" side="tl" part="lem"/>
                       <lit-tag v="prn"/>
                       <clip pos="1" side="tl" part="a_pron_long"/>
                       <clip pos="1" side="tl" part="pers"/>
                       <lit-tag v="4"/>
                       <lit-tag v="5"/>
                     </lu>
                   </chunk>
                 </out>
               </otherwise>
             </choose>
           </otherwise>
         </choose>
       </action>
    </rule>

    <rule comment="RÈGLA: PREP">
      <pattern>
        <pattern-item n="pr"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <choose>
          <when>
            <test>
              <or>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="amb"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="ambe"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="ambé"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="damb"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="tamb"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="dab"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="tab"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="dambe"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="emb"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="embe"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="de"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="per"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="sus"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="sobre"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="subre"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="jos"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="devath"/></equal>
                <equal caseless="yes"><clip pos="1" side="sl" part="lem"/><lit v="sota"/></equal>
              </or>
            </test>
            <let><var n="genero"/><lit-tag v="m"/></let>
            <let><var n="numero"/><lit-tag v="sg"/></let>
          </when>
        </choose>
      </action>
    </rule>

    <rule comment="RÈGLA: PREF">
      <pattern>
        <pattern-item n="pref"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="pref"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CNJCOO">
      <pattern>
        <pattern-item n="cnjcoo"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="cnjcoo" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="cnjcoo"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CNJSUB">
      <pattern>
        <pattern-item n="cnjsub"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="cnjsub" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="cnjsub"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CNJADV">
      <pattern>
        <pattern-item n="cnjadv"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="cnjadv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: RELATIF">
      <pattern>
        <pattern-item n="rel"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="rel"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: VBSERinf_ger">
       <pattern>
         <pattern-item n="vbser_inf_ger"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: VBNOSERinf_ger">
       <pattern>
         <pattern-item n="vbnoser_inf_ger"/>
       </pattern>
       <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
         <out>
           <chunk namefrom="lemma" case="caseFirstWord">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: VBSERconj">
       <pattern>
         <pattern-item n="vbser_conj"/>
       </pattern>
       <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <equal><var n="EOS"/><lit v="true"/></equal>
            </test>
            <modify-case><var n="lemma"/><lit v="Aa"/></modify-case>
          </when>
        </choose>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="1"/>
        </call-macro>
         <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><lit-tag v="vbser"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <lit-tag v="5"/>
               <lit-tag v="6"/>
               <clip pos="1" side="tl" part="lemq"/>
             </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: VBNOSERconj">
       <pattern>
         <pattern-item n="vbnoser_conj"/>
       </pattern>
       <action>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <choose>
          <when>
            <test>
              <equal><var n="EOS"/><lit v="true"/></equal>
            </test>
            <modify-case><var n="lemma"/><lit v="Aa"/></modify-case>
          </when>
        </choose>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_verb">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_canvis_temps">
          <with-param pos="1"/>
        </call-macro>
        <modify-case><clip pos="1" side="tl" part="lem"/><lit v="aa"/></modify-case>
         <out>
           <chunk namefrom="lemma">
             <tags>
               <tag><lit-tag v="SV"/></tag>
               <tag><clip pos="1" side="tl" part="a_verb"/></tag>
               <tag><var n="tipusverb"/></tag>
               <tag><clip pos="1" side="tl" part="temps"/></tag>
               <tag><clip pos="1" side="tl" part="pers"/></tag>
               <tag><clip pos="1" side="tl" part="nbr"/></tag>
             </tags>
             <lu>
               <clip pos="1" side="tl" part="lemh"/>
               <clip pos="1" side="tl" part="a_verb"/>
               <lit-tag v="4"/>
               <clip pos="1" side="tl" part="pers"/>
               <clip pos="1" side="tl" part="gen"/>
               <clip pos="1" side="tl" part="nbr"/>
               <clip pos="1" side="tl" part="lemq"/>
              </lu>
           </chunk>
         </out>
       </action>
    </rule>

    <rule comment="RÈGLA: IJ">
      <pattern>
        <pattern-item n="ij"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="ij" case="caseFirstWord">
           <tags>
             <tag><lit-tag v="ij"/></tag>
           </tags>
          <lu>
            <clip pos="1" side="tl" part="whole"/>
          </lu>
         </chunk>
        </out>
      </action>
    </rule>

    <!-- FIN RÈGLAS CAPÇALERA CHUNK + LEMH/LEMQ -->


    <!-- AUTRAS RÈGLAS -->

    <rule comment="RÈGLA: GLEISA DE AL > GLEISA AL">
      <pattern>
        <pattern-item n="gleisa_n"/>
        <pattern-item n="depr"/>
        <pattern-item n="npal"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <modify-case><var n="lemma"/><lit v="aa"/></modify-case>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="n"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: DET GLEISA DE AL > DET GLEISA AL">
      <pattern>
        <pattern-item n="det"/>
        <pattern-item n="gleisa_n"/>
        <pattern-item n="depr"/>
        <pattern-item n="npal"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="tipus_det">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_maj_gentilici2">
          <with-param pos="1"/>
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="Det"/></tag>
              <tag><var n="tipusdet"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
      </action>
    </rule>

    <rule comment="RÈGLA: QUE NON PAS PREP > QUE PREP (que non pas dab > qu'avec)">
      <pattern>
        <pattern-item n="que_rel"/>
        <pattern-item n="non_adv"/>
        <pattern-item n="pas_adv"/>
        <pattern-item n="pr"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="rel"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="firstWord">
          <with-param pos="4"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: QUE NON PAS PREP > QUE PREP (que non pas dab > qu'avec)">
      <pattern>
        <pattern-item n="cnjsub"/>
        <pattern-item n="non_adv"/>
        <pattern-item n="pas_adv"/>
        <pattern-item n="pr"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="1" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="cnjsub"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="f_bcond"><with-param pos="2"/><with-param pos="3"/></call-macro>
        <call-macro n="f_bcond"><with-param pos="3"/><with-param pos="4"/></call-macro>
        <call-macro n="firstWord">
          <with-param pos="4"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="4" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="4" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE FAIÇON ADJ > DE FAÇON ADJ (SAdv per evitar la generacion de l'article partitiu)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="faicon_n"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="3"/>
        </call-macro>
        <out>
          <chunk name="pr_n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="a_adj"/>
              <clip pos="3" side="tl" part="a_verb"/>
              <clip pos="3" side="tl" part="temps"/>
              <clip pos="3" side="tl" part="gen"/>
              <clip pos="3" side="tl" part="nbr"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DE FAIÇON PREADV ADJ > DE FAÇON PREADV ADJ (SAdv per evitar la generacion de l'article partitiu)">
      <pattern>
        <pattern-item n="depr"/>
        <pattern-item n="faicon_n"/>
        <pattern-item n="adv_preadv"/>
        <pattern-item n="adjec"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord2">
          <with-param pos="2"/>
          <with-param pos="4"/>
        </call-macro>
        <out>
          <chunk name="pr_n_a" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SAdv"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="a_adj"/>
              <clip pos="4" side="tl" part="a_verb"/>
              <clip pos="4" side="tl" part="temps"/>
              <clip pos="4" side="tl" part="gen"/>
              <clip pos="4" side="tl" part="nbr"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: DETDEF PR > CELUI PR (lo de > celui de)">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="pr"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="tipus_det">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="f_concord1">
         <with-param pos="1"/>
       </call-macro>
       <call-macro n="f_chunk_tags">
         <with-param pos="1"/>
       </call-macro>
       <choose>
         <when>
           <test>
             <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
           </test>
           <let><clip pos="1" side="tl" part="gen"/><clip pos="1" side="sl" part="gen"/></let>
         </when>
       </choose>
       <choose>
         <when>
           <test>
             <equal><clip pos="1" side="tl" part="gen"/><lit-tag v="mf"/></equal>
           </test>
           <let><clip pos="1" side="tl" part="gen"/><var n="genero"/></let>
         </when>
       </choose>
       <out>
         <chunk name="celui" case="caseFirstWord">
           <tags>
             <tag><lit-tag v="SPron"/></tag>
             <tag><lit-tag v="tn"/></tag>
             <tag><clip pos="1" side="tl" part="nbr"/></tag>
           </tags>
            <lu>
              <get-case-from pos="1">
                 <lit v="celui"/>
              </get-case-from>
              <lit-tag v="prn.tn"/>
              <clip pos="1" side="tl" part="gen"/>
              <clip pos="1" side="tl" part="nbr"/>
            </lu>
          </chunk>
          <b pos="1"/>
        </out>
        <call-macro n="firstWord">
          <with-param pos="2"/>
        </call-macro>
        <let><var n="lemma"/><clip pos="2" side="tl" part="lem"/></let>
        <out>
          <chunk namefrom="lemma" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="PREP"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: lo sénher X > monsieur X">
      <pattern>
        <pattern-item n="detdef"/>
        <pattern-item n="nom_senher"/>
        <pattern-item n="npant_unk"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="2"/>
        </call-macro>
        <call-macro n="f_bcond"><with-param pos="1"/><with-param pos="2"/></call-macro>
        <out>
          <chunk name="n" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><clip pos="2" side="tl" part="gen"/></tag>
              <tag><clip pos="2" side="tl" part="nbr"/></tag>
            </tags>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: Marie-Claire > Marie-Claire (1 chunk)">
      <pattern>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="np">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="a_np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: Marie-Claire Dupont > Marie-Claire Dupont (1 chunk)">
      <pattern>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="np">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="a_np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: Marie-Claire Dupont Fernandez > Marie-Claire Dupont Fernandez (1 chunk)">
      <pattern>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
        <pattern-item n="npantcog"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_concord1">
          <with-param pos="1"/>
        </call-macro>
        <call-macro n="f_chunk_tags">
          <with-param pos="1"/>
        </call-macro>
        <out>
          <chunk name="np">
            <tags>
              <tag><lit-tag v="SN"/></tag>
              <tag><lit-tag v="np"/></tag>
              <tag><clip pos="1" side="tl" part="a_np"/></tag>
              <tag><clip pos="1" side="tl" part="gen"/></tag>
              <tag><clip pos="1" side="tl" part="nbr"/></tag>
              <tag><var n="genero_sl"/></tag>
              <tag><var n="numero_sl"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="lemh"/>
              <clip pos="1" side="tl" part="tags"/>
              <clip pos="1" side="tl" part="lemq"/>
            </lu>
            <b pos="1"/>
            <lu>
              <clip pos="2" side="tl" part="lemh"/>
              <clip pos="2" side="tl" part="tags"/>
              <clip pos="2" side="tl" part="lemq"/>
            </lu>
            <b pos="2"/>
            <lu>
              <clip pos="3" side="tl" part="lemh"/>
              <clip pos="3" side="tl" part="tags"/>
              <clip pos="3" side="tl" part="lemq"/>
            </lu>
            <b pos="3"/>
            <lu>
              <clip pos="4" side="tl" part="lemh"/>
              <clip pos="4" side="tl" part="tags"/>
              <clip pos="4" side="tl" part="lemq"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: UNKNOWN">
      <pattern>
        <pattern-item n="unknown"/>
      </pattern>
      <action>
       <call-macro n="firstWord">
         <with-param pos="1"/>
       </call-macro>
       <out>
         <chunk name="unknown" case="caseFirstWord">
            <tags>
              <tag><lit-tag v="unknown"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: LPAR">
      <pattern>
        <pattern-item n="lpar"/>
      </pattern>
      <action>
        <out>
          <chunk name="lpar">
            <tags>
              <tag><lit-tag v="LPAR"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: RPAR">
      <pattern>
        <pattern-item n="rpar"/>
      </pattern>
      <action>
        <out>
          <chunk name="rpar">
            <tags>
              <tag><lit-tag v="RPAR"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: CM">
      <pattern>
        <pattern-item n="cm"/>
      </pattern>
      <action>
        <out>
          <chunk name="cm">
            <tags>
              <tag><lit-tag v="CM"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
      </action>
    </rule>

    <rule comment="RÈGLA: SENT">
      <pattern>
        <pattern-item n="sent"/>
      </pattern>
      <action>
        <call-macro n="firstWord">
          <with-param pos="1"/>
        </call-macro>
        <choose>
          <when>
            <test>
              <not>
                <or>
                  <equal><clip pos="1" side="sl" part="lem"/><lit v=";"/></equal>
                  <equal><clip pos="1" side="sl" part="lem"/><lit v=":"/></equal>
                  <equal><clip pos="1" side="sl" part="lem"/><lit v="—"/></equal>
                  <equal><clip pos="1" side="sl" part="lem"/><lit v="—"/></equal>
                  <equal><clip pos="1" side="sl" part="lem"/><lit v="―"/></equal>
                </or>
              </not>
            </test>
            <let><var n="EOS"/><lit v="true"/></let>
          </when>
        </choose>
        <out>
          <chunk name="sent">
            <tags>
              <tag><lit-tag v="sent"/></tag>
            </tags>
            <lu>
              <clip pos="1" side="tl" part="whole"/>
            </lu>
          </chunk>
        </out>
        <let><var n="genero"/><lit-tag v="m"/></let>
        <let><var n="numero"/><lit-tag v="sg"/></let>
      </action>
    </rule>
  </section-rules>
</transfer>

<!--
Resources:
    https://wiki.apertium.org/wiki/Chunking:_A_full_example
    https://wiki.apertium.org/wiki/Chunking
    https://wiki.apertium.org/wiki/Apertium_New_Language_Pair_HOWTO#Transfer_rules
    https://wiki.apertium.org/wiki/A_long_introduction_to_transfer_rules
    https://wiki.apertium.org/wiki/Transfer#Adding_structural_transfer_.28grammar.29_rules
-->
